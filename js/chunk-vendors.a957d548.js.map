{"version":3,"sources":["webpack:///./node_modules/core-js/internals/to-string-tag-support.js","webpack:///./node_modules/core-js/internals/function-bind-context.js","webpack:///./node_modules/core-js/internals/object-get-own-property-names-external.js","webpack:///./node_modules/immediate/lib/mutation.js","webpack:///./node_modules/core-js/internals/object-get-own-property-descriptor.js","webpack:///./node_modules/core-js/internals/ie8-dom-define.js","webpack:///./node_modules/core-js/modules/web.dom-collections.for-each.js","webpack:///./node_modules/pouchdb/lib/index-browser.es.js","webpack:///./node_modules/core-js/internals/array-for-each.js","webpack:///./node_modules/core-js/internals/an-instance.js","webpack:///./node_modules/core-js/internals/html.js","webpack:///./node_modules/core-js/internals/a-function.js","webpack:///./node_modules/core-js/internals/check-correctness-of-iteration.js","webpack:///./node_modules/core-js/internals/engine-is-ios.js","webpack:///./node_modules/core-js/internals/require-object-coercible.js","webpack:///./node_modules/core-js/internals/array-method-has-species-support.js","webpack:///./node_modules/core-js/internals/iterate.js","webpack:///./node_modules/core-js/internals/to-absolute-index.js","webpack:///./node_modules/core-js/internals/export.js","webpack:///./node_modules/core-js/internals/object-get-own-property-names.js","webpack:///./node_modules/core-js/modules/es.regexp.to-string.js","webpack:///./node_modules/core-js/internals/set-species.js","webpack:///./node_modules/vue-loader/lib/runtime/componentNormalizer.js","webpack:///./node_modules/@babel/runtime/helpers/esm/arrayLikeToArray.js","webpack:///./node_modules/@babel/runtime/helpers/esm/arrayWithoutHoles.js","webpack:///./node_modules/@babel/runtime/helpers/esm/iterableToArray.js","webpack:///./node_modules/@babel/runtime/helpers/esm/unsupportedIterableToArray.js","webpack:///./node_modules/@babel/runtime/helpers/esm/nonIterableSpread.js","webpack:///./node_modules/@babel/runtime/helpers/esm/toConsumableArray.js","webpack:///./node_modules/vue/dist/vue.runtime.esm.js","webpack:///./node_modules/core-js/internals/task.js","webpack:///./node_modules/core-js/internals/engine-v8-version.js","webpack:///./node_modules/core-js/internals/engine-user-agent.js","webpack:///./node_modules/core-js/internals/get-iterator-method.js","webpack:///./node_modules/core-js/internals/object-define-properties.js","webpack:///./node_modules/core-js/internals/a-possible-prototype.js","webpack:///./node_modules/core-js/modules/es.string.iterator.js","webpack:///./node_modules/core-js/internals/iterators.js","webpack:///./node_modules/inherits/inherits_browser.js","webpack:///./node_modules/core-js/modules/es.array.for-each.js","webpack:///./node_modules/core-js/internals/path.js","webpack:///./node_modules/node-libs-browser/mock/process.js","webpack:///./node_modules/core-js/internals/indexed-object.js","webpack:///./node_modules/core-js/internals/add-to-unscopables.js","webpack:///./node_modules/core-js/internals/host-report-errors.js","webpack:///./node_modules/core-js/internals/species-constructor.js","webpack:///./node_modules/core-js/internals/native-symbol.js","webpack:///./node_modules/core-js/internals/array-includes.js","webpack:///./node_modules/core-js/modules/es.array.filter.js","webpack:///./node_modules/core-js/internals/array-from.js","webpack:///./node_modules/pouchdb/node_modules/uuid/dist/esm-browser/rng.js","webpack:///./node_modules/pouchdb/node_modules/uuid/dist/esm-browser/bytesToUuid.js","webpack:///./node_modules/pouchdb/node_modules/uuid/dist/esm-browser/v4.js","webpack:///./node_modules/core-js/internals/to-length.js","webpack:///./node_modules/core-js/internals/has.js","webpack:///./node_modules/core-js/internals/shared.js","webpack:///./node_modules/core-js/internals/own-keys.js","webpack:///./node_modules/core-js/internals/create-property-descriptor.js","webpack:///./node_modules/core-js/internals/object-assign.js","webpack:///./node_modules/immediate/lib/queueMicrotask.js","webpack:///./node_modules/core-js/internals/string-multibyte.js","webpack:///./node_modules/core-js/internals/array-species-create.js","webpack:///./node_modules/spark-md5/spark-md5.js","webpack:///./node_modules/core-js/internals/internal-state.js","webpack:///./node_modules/core-js/internals/redefine.js","webpack:///./node_modules/vuvuzela/index.js","webpack:///./node_modules/immediate/lib/index.js","webpack:///./node_modules/core-js/internals/object-get-own-property-symbols.js","webpack:///./node_modules/core-js/internals/define-well-known-symbol.js","webpack:///./node_modules/core-js/internals/enum-bug-keys.js","webpack:///./node_modules/core-js/internals/to-object.js","webpack:///./node_modules/core-js/internals/object-create.js","webpack:///./node_modules/core-js/internals/define-iterator.js","webpack:///./node_modules/core-js/internals/native-weak-map.js","webpack:///./node_modules/core-js/internals/an-object.js","webpack:///./node_modules/core-js/internals/descriptors.js","webpack:///./node_modules/core-js/internals/create-property.js","webpack:///./node_modules/immediate/lib/stateChange.js","webpack:///./node_modules/core-js/internals/is-object.js","webpack:///./node_modules/core-js/internals/inspect-source.js","webpack:///./node_modules/core-js/internals/uid.js","webpack:///./node_modules/core-js/internals/create-non-enumerable-property.js","webpack:///./node_modules/register-service-worker/index.js","webpack:///./node_modules/core-js/internals/is-forced.js","webpack:///./node_modules/core-js/modules/es.array.concat.js","webpack:///./node_modules/core-js/internals/call-with-safe-iteration-closing.js","webpack:///./node_modules/core-js/internals/object-define-property.js","webpack:///./node_modules/core-js/internals/create-iterator-constructor.js","webpack:///./node_modules/core-js/modules/es.symbol.js","webpack:///./node_modules/core-js/modules/es.array.from.js","webpack:///./node_modules/core-js/internals/array-method-is-strict.js","webpack:///./node_modules/core-js/internals/to-integer.js","webpack:///./node_modules/core-js/modules/es.promise.finally.js","webpack:///./node_modules/core-js/internals/regexp-flags.js","webpack:///./node_modules/core-js/internals/array-method-uses-to-length.js","webpack:///./node_modules/core-js/internals/iterators-core.js","webpack:///./node_modules/core-js/internals/object-to-string.js","webpack:///./node_modules/core-js/modules/es.function.name.js","webpack:///./node_modules/core-js/internals/microtask.js","webpack:///./node_modules/core-js/internals/well-known-symbol.js","webpack:///./node_modules/core-js/internals/array-iteration.js","webpack:///./node_modules/core-js/internals/to-primitive.js","webpack:///./node_modules/core-js/internals/is-pure.js","webpack:///./node_modules/core-js/internals/classof-raw.js","webpack:///./node_modules/core-js/internals/shared-store.js","webpack:///(webpack)/buildin/global.js","webpack:///./node_modules/core-js/internals/object-keys-internal.js","webpack:///./node_modules/core-js/internals/document-create-element.js","webpack:///./node_modules/core-js/modules/es.object.assign.js","webpack:///./node_modules/immediate/lib/messageChannel.js","webpack:///./node_modules/core-js/internals/promise-resolve.js","webpack:///./node_modules/core-js/internals/set-global.js","webpack:///./node_modules/core-js/internals/hidden-keys.js","webpack:///./node_modules/core-js/internals/fails.js","webpack:///./node_modules/core-js/internals/get-built-in.js","webpack:///./node_modules/core-js/internals/object-property-is-enumerable.js","webpack:///./node_modules/core-js/modules/es.symbol.iterator.js","webpack:///./node_modules/core-js/internals/object-set-prototype-of.js","webpack:///./node_modules/core-js/modules/es.object.to-string.js","webpack:///./node_modules/core-js/internals/set-to-string-tag.js","webpack:///./node_modules/core-js/internals/global.js","webpack:///./node_modules/argsarray/index.js","webpack:///./node_modules/core-js/modules/web.dom-collections.iterator.js","webpack:///./node_modules/core-js/internals/object-keys.js","webpack:///./node_modules/path-browserify/index.js","webpack:///./node_modules/core-js/modules/es.symbol.description.js","webpack:///./node_modules/core-js/internals/object-get-prototype-of.js","webpack:///./node_modules/core-js/internals/correct-prototype-getter.js","webpack:///./node_modules/core-js/modules/es.array.iterator.js","webpack:///./node_modules/immediate/lib/timeout.js","webpack:///./node_modules/core-js/internals/redefine-all.js","webpack:///./node_modules/core-js/internals/well-known-symbol-wrapped.js","webpack:///./node_modules/core-js/internals/perform.js","webpack:///./node_modules/core-js/modules/es.promise.js","webpack:///./node_modules/core-js/internals/copy-constructor-properties.js","webpack:///./node_modules/core-js/internals/is-array.js","webpack:///./node_modules/core-js/internals/is-array-iterator-method.js","webpack:///./node_modules/uuid/dist/esm-browser/rng.js","webpack:///./node_modules/uuid/dist/esm-browser/regex.js","webpack:///./node_modules/uuid/dist/esm-browser/validate.js","webpack:///./node_modules/uuid/dist/esm-browser/stringify.js","webpack:///./node_modules/uuid/dist/esm-browser/v4.js","webpack:///./node_modules/core-js/internals/new-promise-capability.js","webpack:///./node_modules/core-js/internals/classof.js","webpack:///./node_modules/core-js/internals/shared-key.js","webpack:///./node_modules/events/events.js","webpack:///./node_modules/core-js/modules/es.array.slice.js","webpack:///./node_modules/core-js/internals/to-indexed-object.js","webpack:///./node_modules/core-js/internals/dom-iterables.js","webpack:///./node_modules/core-js/internals/use-symbol-as-uid.js","webpack:///./node_modules/core-js/internals/native-promise-constructor.js"],"names":["wellKnownSymbol","TO_STRING_TAG","test","module","exports","String","aFunction","fn","that","length","undefined","call","a","b","c","apply","arguments","toIndexedObject","nativeGetOwnPropertyNames","f","toString","windowNames","window","Object","getOwnPropertyNames","getWindowNames","it","error","slice","Mutation","global","MutationObserver","WebKitMutationObserver","install","handle","called","observer","element","document","createTextNode","observe","characterData","data","DESCRIPTORS","propertyIsEnumerableModule","createPropertyDescriptor","toPrimitive","has","IE8_DOM_DEFINE","nativeGetOwnPropertyDescriptor","getOwnPropertyDescriptor","O","P","fails","createElement","defineProperty","get","DOMIterables","forEach","createNonEnumerableProperty","COLLECTION_NAME","Collection","CollectionPrototype","prototype","ExportedSet","ExportedMap","mangle","key","unmangle","substring","Map$1","this","_store","Set$1","array","Array","isArray","i","len","add","supportsMapAndSet","Symbol","Map","Set","prop","species","isBinaryObject","object","ArrayBuffer","Blob","cloneArrayBuffer","buff","target","byteLength","targetArray","Uint8Array","sourceArray","set","cloneBinaryObject","size","type","webkitSlice","mangled","value","delete","res","cb","keys","funcToString","Function","objectCtorString","isPlainObject","proto","getPrototypeOf","Ctor","constructor","clone","newObject","Date","toISOString","hasOwnProperty","once","fun","args","Error","toPromise","func","self","usedCB","pop","promise","Promise","fulfill","reject","resp","callback","err","mesg","push","then","e","result","logApiCall","name","listeners","logArgs","emit","origCallback","responseArgs","concat","adapterFun","_closed","_destroyed","taskqueue","isReady","addTask","failed","pick","obj","arr","hasLocal","assign","MAX_NUM_CONCURRENT_REQUESTS","identityFunction","x","formatResultForOpenRevsGet","ok","bulkGet","db","opts","requests","docs","requestsById","request","id","numDocs","numDone","perDocResults","collapseResultsAndFinish","results","info","checkDone","gotResult","docIndex","allRequests","nextBatch","upTo","Math","min","batch","processBatch","offset","docId","j","docIdx","docRequests","docOpts","open_revs","map","rev","filter","formatResult","param","localStorage","setItem","getItem","hasLocalStorage","attachBrowserEvents","addEventListener","Changes","_listeners","guardedConsole","method","console","randomNumber","max","maxTimeout","parseInt","ratio","random","range","defaultBackOff","explainError","status","str","addListener","dbName","inprogress","eventFunction","on","changesOpts","changes","seq","since","cancelled","onChange","onError","removeListener","notifyLocalWindows","notify","to","index","nextSource","nextKey","$inject_Object_assign","PouchError","reason","message","JSON","stringify","MISSING_BULK_DOCS","MISSING_DOC","REV_CONFLICT","INVALID_ID","MISSING_ID","RESERVED_ID","UNKNOWN_ERROR","BAD_ARG","QUERY_PARSE_ERROR","DOC_VALIDATION","BAD_REQUEST","NOT_AN_OBJECT","IDB_ERROR","INVALID_REV","MISSING_STUB","createError","CustomPouchError","names","generateErrorFromResponse","tryFilter","doc","req","msg","filterChange","hasFilter","query","query_params","change","filterReturn","include_docs","attachments","att","_attachments","stub","flatten","arrs","invalidIdError","isRemote","_remote","listenerCount","ee","parseDesignDocFunctionName","s","parts","split","normalizeDesignDocFunctionName","normalized","join","qName","qParser","parser","parseUri","m","exec","uri","encoded","indexOf","decodeURIComponent","replace","$0","$1","$2","scopeEval","source","scope","values","upsert","diffFun","docRev","_rev","newDoc","updated","_id","tryAndPut","put","thisAtob","atob","thisBtoa","btoa","createBlob","properties","Builder","BlobBuilder","MSBlobBuilder","MozBlobBuilder","WebKitBlobBuilder","builder","append","getBlob","binaryStringToArrayBuffer","bin","buf","charCodeAt","binStringToBluffer","binString","b64ToBluffer","b64","arrayBufferToBinaryString","buffer","binary","bytes","fromCharCode","readAsBinaryString","blob","reader","FileReader","hasBinaryString","onloadend","readAsArrayBuffer","blobToBinaryString","blobOrBuffer","blobToBase64","base64","setImmediateShim","setImmediate","setTimeout","MD5_CHUNK_SIZE","rawToBase64","raw","sliceBlob","start","end","appendBlob","arrayBuffer","appendString","string","appendBinary","binaryMd5","inputIsString","chunkSize","chunks","ceil","currentChunk","next","loadNextChunk","done","destroy","stringMd5","hash","deterministic_revs","clonedDoc","_rev_tree","toLowerCase","uuid","winningRev","metadata","winningId","winningPos","winningDeleted","node","toVisit","rev_tree","tree","ids","branches","pos","deleted","traverseRevTree","revs","newCtx","ctx","sortByPos","collectLeaves","leaves","isLeaf","acc","sort","reverse","collectConflicts","win","conflicts","leaf","compactTree","revHash","rootToLeaf","paths","history","sortByPos$1","binarySearch","item","comparator","mid","low","high","insertSorted","idx","splice","pathToTree","path","numStemmed","root","currentLeaf","compareTree","mergeTree","in_tree1","in_tree2","queue","tree1","tree2","merged","doMerge","dontExpand","restree","branch","t1","t2","diff","candidateParents","trees","parent","parentIdx","elements","elementsLen","el","stem","depth","stemmedRevs","stemmed","merge","newTree","revExists","splitRev","targetPos","targetId","getTrees","isDeleted","isLocalId","latest","historyNode","historyRev","l","tryCatchInChangeListener","pending","lastSeq","Changes$1","complete","removeAllListeners","onDestroy","cancel","isCancelled","bind","validateChanges","processChange","changeList","style","_conflicts","compare","left","right","yankError","cleanDocs","_deleted","atts","compareByIdThenRev","idCompare","aStart","_revisions","bStart","computeHeight","height","edges","prnt","rev$$1","from","edge","allDocsKeysParse","skip","limit","descending","doNextCompaction","task","_compactionQueue","catch","last_seq","_compact","shift","attachmentNameError","charAt","AbstractPouchDB","p","TaskQueue","parseAdapter","match","adapter","adapters","PouchDB","preferredAdapters","prefix","adapterName","usePrefix","use_prefix","prepareForDestruction","onDestroyed","from_constructor","onClosed","__opts","auto_compaction","prefixedName","backend","_adapter","valid","fail","ready","_changesFilterPlugin","validate","doChanges","continuous","live","normalize","shouldFilter","newPromise","_changes","update_seq","post","bulkDocs","_putLocal","_removeLocal","transformForceOptionToNewEditsOption","oldRevId","oldRevNum","newRevNum","newRevId","new_edits","putDoc","_put","force","putAttachment","attachmentId","api","createAttachment","prevrevpos","content_type","revpos","removeAttachment","remove","docOrId","optsOrRev","was_delete","revsDiff","count","missing","addToMissing","revId","processDoc","missingForId","_getRevisionTree","missingObj","compactDocument","maxHeight","revTree","candidates","_doCompaction","compact","return_docs","promises","row","onComplete","all","_getLocal","finishOpenRevs","existing","_get","revs_info","splittedRev","revNo","currentPath","hashIndex","hashFoundAtRevPos","indexOfRev","howMany","_revs_info","_getAttachment","getAttachment","allDocs","start_key","startkey","end_key","endkey","TypeError","incompatibleOpt","_allDocs","close","_close","_info","db_name","_type","attachmentError","_bulkDocs","registerDependentDatabase","dependentDb","depDB","dependentDbs","destroyDb","_destroy","localDoc","deletedMap","trueName","RegExp","execute","AbortController","abort","f$1","fetch","h","Headers","eventEmitter","setUpEventEmitter","Pouch","destructListeners","_destructionListeners","dbList","addToPreferredAdapters","plugin","__defaults","defaults","defaultOpts","PouchAlt","url","version","getFieldFromDoc","parsedField","compare$1","parseField","fieldName","fields","current","ch","combinationFields","isCombinationalField","field","getKey","getValue","mergeAndedSelectors","selectors","selector","matcher","$eq","fieldMatchers","operator","mergeGtGte","mergeLtLte","mergeNe","mergeEq","$gte","$gt","$lte","$lt","$ne","mergeAndedSelectorsNested","isAndInSelector","isAnd","massageSelector","input","wasAnded","orOrNor","subSelector","pad","padWith","upToLength","padding","targetLength","padLeft","MIN_MAGNITUDE","MAGNITUDE_DIGITS","SEP","collate","normalizeKey","ai","collationIndex","bi","stringCollate","arrayCollate","objectCollate","Infinity","isNaN","origKey","toJSON","k","val","indexify","numToIndexableString","toIndexableString","objKey","zero","parseNumber","num","originalIdx","neg","numAsString","magAsString","magnitude","parseFloat","stack","metaStack","lastMetaElement","lastElementIndex","parseIndexableString","parsedNum","parsedStr","arrayElement","objElement","ak","bk","expFormat","toExponential","magForComparison","magString","factor","abs","factorStr","toFixed","createFieldSorter","getFieldValuesAsArray","sorting","docFieldValue","aRow","bRow","aFieldValues","bFieldValues","collation","filterInMemoryFields","rows","requestDef","inMemoryFields","rowFilter","fieldSorter","every","matchCominationalSelector","matchSelector","userOperator","userValue","some","orMatchers","find","matchers","fieldExists","fieldIsNotUndefined","modField","divisor","mod","arrayContainsValue","arrayContainsAllValues","arraySize","regexMatch","re","typeMatch","neValue","matchesSelector","rowsMatched","evalFilter","evalView","code","filterName","view","changesHandler","doc_ids","viewName","ddoc","mapFun","views","filterFun","filters","applyChangesFilterPlugin","toObject","reduce","reservedWords","dataWords","parseRevisionInfo","makeRevTreeFromRevisions","revisions","revisionIds","parseDoc","newEdits","dbOpts","nRevNum","revInfo","specialKey","parseBase64","preprocessString","blobType","asBinary","digest","preprocessBlob","md5","preprocessAttachment","preprocessAttachments","docInfos","overallErr","docv","docInfo","recv","processedAttachment","updateDoc","revLimit","prev","writeDoc","previousWinningRev","previouslyDeleted","isRoot","inConflict","newRev","rev_map","newRevIsDeleted","winningRev$$1","winningRevIsDeleted","delta","rootIsMissing","processDocs","fetchedDocs","tx","overallCallback","insertDoc","resultsIdx","idsToDocs","docsDone","docsToDo","checkAllDocsDone","currentDoc","docWritten","nextDoc","ADAPTER_VERSION","DOC_STORE","BY_SEQ_STORE","ATTACH_STORE","ATTACH_AND_SEQ_STORE","META_STORE","LOCAL_STORE","DETECT_BLOB_SUPPORT_STORE","safeJsonParse","parse","safeJsonStringify","json","idbError","evt","encodeMetadata","deletedOrLocal","decodeMetadata","storedObject","decodeDoc","_doc_id_rev","lastIndexOf","readBlobData","body","asBlob","fetchAttachmentsIfNecessary","txn","fetchAttachment","attObj","objectStore","onsuccess","postProcessAttachments","attNames","resolve","compactRevs","possiblyOrphanedDigests","seqStore","attStore","attAndSeqStore","deleteOrphanedAttachments","countReq","IDBKeyRange","bound","cursor","openCursor","only","event","digestSeq","primaryKey","continue","openTransactionSafely","idb","stores","mode","transaction","idbBulkDocs","docStore","bySeqStore","attachStore","attachAndSeqStore","metaStore","docInfoError","metaDoc","allDocsProcessed","docCountDelta","preconditionErrored","_meta","blobSupport","startTransaction","txnResult","onabort","ontimeout","oncomplete","updateDocCountIfReady","verifyAttachments","fetchExistingDocs","onAllDocsProcessed","idbProcessDocs","revs_limit","docCount","numFetched","readMetadata","verifyAttachment","finish","digests","filename","attErr","isUpdate","hasAttachments","writeAttachments","finishDoc","afterPutDoc","revsToDelete","metadataToStore","metaDataReq","afterPutMetadata","afterPutDocError","preventDefault","stopPropagation","getKeyReq","putReq","insertAttachmentMappings","onerror","collectResults","attachmentSaved","saveAttachment","attsAdded","attsToAdd","newAtt","runBatchedCursor","keyRange","batchSize","onBatch","keysBatch","valuesBatch","pseudoCursor","useGetAll","getAll","getAllKeys","onGetAll","onGetAllKeys","continuePseudoCursor","newKeyRange","lastKey","upper","upperOpen","lowerBound","onCursor","onSuccess","allDocsKeys","createKeyRange","inclusiveEnd","upperBound","idbAllDocs","keyRangeError","inclusive_end","onTxnComplete","updateSeq","docIdRevIndex","getMaxUpdateSeq","maxKey","fetchDocAsynchronously","allDocsInner","batchValues","batchValue","batchKeys","onResultsReady","returnVal","total_rows","checkBlobSupport","blob$$1","matchedChrome","navigator","userAgent","matchedEdge","countDocs","running","tryCode","applyNext","enqueueTask","action","docIds","numResults","docIdsToMetadata","winningDocs","metadatas","fetchWinningDocAndMetadata","winningDoc","onBatchDone","processMetadataAndWinningDoc","filtered","onGetMetadata","docIdRev","objectStores","blobSupportPromise","cachedDBs","openReqList","IdbPouch","thisCallback","init","createSchema","createObjectStore","keyPath","autoIncrement","createIndex","unique","addDeletedOrLocalIndex","createLocalStoreSchema","migrateLocalStore","localStore","local","seqCursor","addAttachAndSeqStore","migrateAttsAndSeqs","digestMap","migrateMetadata","decodeMetadataCompat","onGetMetadataSeq","fetchMetadataSeq","metadataSeq","instanceId","reqOpts","attachId","attachment","blobData","doc_count","idb_attachment_format","oldRev","ret","oStore","oldDoc","openReq","indexedDB","deleteDatabase","cached","open","onupgradeneeded","oldVersion","currentTarget","migrations","migration","onversionchange","storedMetaDoc","completeSetup","storeMetaDocIfReady","instanceKey","IDBPouch","pool","promiseFactories","runNext","doNext","runNextBatch","thisErr","CHANGES_BATCH_SIZE","MAX_SIMULTANEOUS_REVS","CHANGES_TIMEOUT_BUFFER","DEFAULT_HEARTBEAT","supportsBulkGetMap","readAttachmentsAsBlobOrBuffer","encodeDocId","encodeURIComponent","preprocessAttachments$1","hasUrlPrefix","protocol","getHost","substr","user","password","auth","username","genDBUrl","genUrl","pathDel","host","port","paramsToStr","params","shouldCacheBust","ua","isIE","isTrident","isEdge","isGET","HttpPouch","dbUrl","setupPromise","ourFetch","options","headers","credentials","nAuth","token","unescape","now","fetchFun","adapterFun$$1","setup","fetchJSON","response","v","skip_setup","encodeAttachmentId","uuid$$1","ping","compact_running","interval","doBulkGet","doBulkGetShim","numBatches","onResult","batchNum","subOpts","supportsBulkGet","fetchAttachments","filenames","fetchData","typeFieldDescriptor","__proto__","fetchAllAttachments","docOrDocs","contentType","process","browser","paramStr","batch_size","heartbeat","requestTimeout","timeout","leftToFetch","feed","seq_interval","param_name","lastFetchedSeq","controller","aborted","fetchOpts","signal","fetched","raw_results_length","finished","HttpPouch$1","QueryParseError","captureStackTrace","NotFoundError","BuiltInError","promisedCallback","callbackify","fin","finalPromiseFactory","sequentialize","promiseFactory","uniq","theSet","mapToKeysArray","createBuiltInError","sum","jLen","jNum","log","evalFunctionWithEval","TaskQueue$1","createViewSignature","reduceFun","createView","sourceDB","temporary","localDocName","cachedViews","viewSignature","_cachedViews","promiseForView","depDbName","diffFunction","fullViewName","depDbs","lastSeqDoc","persistentQueues","tempViewQueue","CHANGES_BATCH_SIZE$1","parseViewName","isGenOne","emitError","createAbstractMapReduce","mapper","reducer","ddocValidator","tryMap","tryReduce","rereduce","output","sortByKeyThenValue","y","keyCompare","sliceResults","rowToDocId","postprocessAttachments","addHttpParam","paramName","asJson","coerceInteger","integerCandidate","asNumber","Number","coerceOptions","group_level","checkPositiveInteger","number","checkQueryParseError","startkeyName","endkeyName","group","optionName","httpQuery","MAX_URL_LENGTH","keysAsString","customQuery","_query","customViewCleanup","_viewCleanup","defaultsTo","getDocsToPersist","docIdsToChangesAndEmits","metaDocId","defaultMetaDoc","docData","indexableKeysToKeyValues","getMetaDoc","getKeyValueDocs","processKeyValueDocs","kvDocsRes","kvDocs","oldKeys","keyValue","newKeys","kvDoc","saveKeyValues","seqDocId","listOfDocsToPersist","docsToPersist","getQueue","updateView","updateViewInQueue","mapResults","currentSeq","processNextBatch","createDocIdsToChangesAndEmits","createIndexableKeysToKeyValues","emittedKeyValue","complexKey","reduceView","shouldGroup","groups","lvl","POSITIVE_INFINITY","last","groupKey","reduceTry","queryView","queryViewInQueue","totalRows","shouldReduce","fetchFromView","viewOpts","expectedKeys","parsedKeyAndDocId","onMapResultsReady","finalResults","allDocsRes","docIdsToDocs","fetchPromises","keyStart","keyEnd","httpViewCleanup","localViewCleanup","docsToViews","designDocName","viewsToStatus","ddocName","viewDBNames","statusIsGood","viewDBName","dbsToDelete","destroyPromises","queryPromised","createViewPromise","stale","abstractQuery","abstractViewCleanup","viewCleanup","builtInReduce","_sum","_count","_stats","sumsqr","_sumsqr","getBuiltIn","reduceFunString","origMap","builtIn","abstract","mapreduce","isGenOne$1","fileHasChanged","remoteDoc","getDocAttachments","getDocAttachmentsFromTargetOrSource","src","doCheckForLocalAttachments","createBulkGetOpts","diffs","missingRevs","missingRev","getDocs","state","resultDocs","getAllDocs","bulkGetOpts","bulkGetResponse","bulkGetInfo","Boolean","hasConflicts","fetchRevisionOneDocs","getRevisionOneDocs","returnResult","CHECKPOINT_VERSION","REPLICATOR","CHECKPOINT_HISTORY_SIZE","LOWEST_SEQ","updateCheckpoint","checkpoint","session","returnValue","session_id","replicator","unshift","Checkpointer","writeCheckpoint","updateTarget","updateSource","writeTargetCheckpoint","writeSourceCheckpoint","isForbiddenError","comparisons","targetDoc","sourceDoc","compareReplicationLogs","srcDoc","tgtDoc","compareReplicationHistory","sourceHistory","targetHistory","S","sourceRest","T","targetRest","sourceId","hasSessionId","sessionId","props","rest","floor","getCheckpoint","STARTING_BACK_OFF","backOff","retry","back_off_function","backOffSet","current_back_off","removeBackOffSetter","sortObjectPropertiesByKey","queryParams","generateReplicationId","filterViewName","queryData","md5sum","replicate","currentBatch","repId","checkpointer","batches","pendingBatch","writingCheckpoint","changesCompleted","replicationCompleted","batches_limit","changesPending","changedDocs","start_time","docs_read","docs_written","doc_write_failures","errors","initCheckpointer","checkpointOpts","writeDocs","bulkOpts","completeReplication","errorsById","create","errorsNo","errorName","finishBatch","outResult","getChanges","onCheckpointError","getDiffs","getBatchDocs","got","startNextBatch","abortReplication","processPendingBatch","immediate$$1","fatalError","end_time","onChangesComplete","onChangesError","_abortChanges","abortChanges","startChanges","_addedListeners","Replication","toPouch","PouchConstructor","replicateWrapper","replicateRet","srcPouch","targetPouch","sync","Sync","canceled","optsPush","optsPull","pull","pullChange","direction","pushChange","pushDenied","pullDenied","pushPaused","pullPaused","pushActive","pullActive","removed","removeAll","isChange","isDenied","isPaused","isActive","addOneListener","listener","out","success","replication","replicateMethods","other","cleanup","_readyCalled","$forEach","arrayMethodIsStrict","arrayMethodUsesToLength","STRICT_METHOD","USES_TO_LENGTH","callbackfn","Constructor","ITERATOR","SAFE_CLOSING","iteratorWithReturn","SKIP_CLOSING","ITERATION_SUPPORT","V8_VERSION","SPECIES","METHOD_NAME","foo","anObject","isArrayIteratorMethod","toLength","getIteratorMethod","callWithSafeIterationClosing","Result","stopped","iterate","iterable","AS_ENTRIES","IS_ITERATOR","iterator","iterFn","step","boundFunction","stop","toInteger","integer","redefine","setGlobal","copyConstructorProperties","isForced","FORCED","targetProperty","sourceProperty","descriptor","TARGET","GLOBAL","STATIC","stat","noTargetGet","forced","sham","internalObjectKeys","enumBugKeys","hiddenKeys","flags","TO_STRING","RegExpPrototype","nativeToString","NOT_GENERIC","INCORRECT_NAME","R","rf","unsafe","definePropertyModule","CONSTRUCTOR_NAME","configurable","normalizeComponent","scriptExports","render","staticRenderFns","functionalTemplate","injectStyles","scopeId","moduleIdentifier","shadowMode","hook","_compiled","functional","_scopeId","context","$vnode","ssrContext","__VUE_SSR_CONTEXT__","_registeredComponents","_ssrRegister","$root","$options","shadowRoot","_injectStyles","originalRender","beforeCreate","_arrayLikeToArray","arr2","_arrayWithoutHoles","arrayLikeToArray","_iterableToArray","iter","_unsupportedIterableToArray","o","minLen","n","_nonIterableSpread","_toConsumableArray","arrayWithoutHoles","iterableToArray","unsupportedIterableToArray","nonIterableSpread","emptyObject","freeze","isUndef","isDef","isTrue","isFalse","isPrimitive","isObject","_toString","isRegExp","isValidArrayIndex","isFinite","isPromise","toNumber","makeMap","expectsLowerCase","list","isReservedAttribute","hasOwn","cache","hit","camelizeRE","camelize","_","toUpperCase","capitalize","hyphenateRE","hyphenate","polyfillBind","boundFn","_length","nativeBind","toArray","extend","_from","noop","no","identity","looseEqual","isObjectA","isObjectB","isArrayA","isArrayB","getTime","keysA","keysB","looseIndexOf","SSR_ATTR","ASSET_TYPES","LIFECYCLE_HOOKS","config","optionMergeStrategies","silent","productionTip","devtools","performance","errorHandler","warnHandler","ignoredElements","keyCodes","isReservedTag","isReservedAttr","isUnknownElement","getTagNamespace","parsePlatformTagName","mustUseProp","async","_lifecycleHooks","unicodeRegExp","isReserved","def","enumerable","writable","bailRE","parsePath","segments","_isServer","hasProto","inBrowser","inWeex","WXEnvironment","platform","weexPlatform","UA","isIE9","isIOS","isFF","nativeWatch","watch","supportsPassive","isServerRendering","env","VUE_ENV","__VUE_DEVTOOLS_GLOBAL_HOOK__","isNative","_Set","hasSymbol","Reflect","ownKeys","clear","warn","uid","Dep","subs","addSub","sub","removeSub","depend","addDep","update","targetStack","pushTarget","popTarget","VNode","tag","children","text","elm","componentOptions","asyncFactory","ns","fnContext","fnOptions","fnScopeId","componentInstance","isStatic","isRootInsert","isComment","isCloned","isOnce","asyncMeta","isAsyncPlaceholder","prototypeAccessors","child","defineProperties","createEmptyVNode","createTextVNode","cloneVNode","vnode","cloned","arrayProto","arrayMethods","methodsToPatch","original","inserted","ob","__ob__","observeArray","dep","arrayKeys","shouldObserve","toggleObserving","Observer","vmCount","protoAugment","copyAugment","walk","asRootData","isExtensible","_isVue","defineReactive$$1","customSetter","shallow","property","getter","setter","childOb","dependArray","newVal","del","items","strats","mergeData","toVal","fromVal","mergeDataOrFn","parentVal","childVal","vm","instanceData","defaultData","mergeHook","dedupeHooks","hooks","mergeAssets","key$1","methods","inject","computed","provide","defaultStrat","normalizeProps","normalizeInject","normalizeDirectives","dirs","directives","def$$1","mergeOptions","_base","extends","mixins","mergeField","strat","resolveAsset","warnMissing","assets","camelizedId","PascalCaseId","validateProp","propOptions","propsData","absent","booleanIndex","getTypeIndex","stringIndex","getPropDefaultValue","prevShouldObserve","default","_props","getType","isSameType","expectedTypes","handleError","cur","$parent","errorCaptured","capture","globalHandleError","invokeWithErrorHandling","handler","_handled","logError","timerFunc","isUsingMicroTask","callbacks","flushCallbacks","copies","counter","textNode","nextTick","_resolve","seenObjects","traverse","_traverse","seen","isA","isFrozen","depId","normalizeEvent","passive","once$$1","createFnInvoker","fns","invoker","arguments$1","updateListeners","oldOn","remove$$1","createOnceHandler","old","mergeVNodeHook","hookKey","oldHook","wrappedHook","extractPropsFromVNodeData","attrs","altKey","checkProp","preserve","simpleNormalizeChildren","normalizeChildren","normalizeArrayChildren","isTextNode","nestedIndex","lastIndex","_isVList","initProvide","_provided","initInjections","resolveInject","provideKey","provideDefault","resolveSlots","slots","slot","name$1","isWhitespace","normalizeScopedSlots","normalSlots","prevSlots","hasNormalSlots","isStable","$stable","$key","_normalized","$hasNormal","normalizeScopedSlot","key$2","proxyNormalSlot","proxy","renderList","renderSlot","fallback","bindObject","nodes","scopedSlotFn","$scopedSlots","$slots","$createElement","resolveFilter","isKeyNotMatch","expect","actual","checkKeyCodes","eventKeyCode","builtInKeyCode","eventKeyName","builtInKeyName","mappedKeyCode","bindObjectProps","asProp","isSync","loop","domProps","camelizedKey","hyphenatedKey","$event","renderStatic","isInFor","_staticTrees","_renderProxy","markStatic","markOnce","markStaticNode","bindObjectListeners","ours","resolveScopedSlots","hasDynamicKeys","contentHashKey","bindDynamicKeys","baseObj","prependModifier","symbol","installRenderHelpers","_o","_n","_s","_l","_t","_q","_i","_m","_f","_k","_b","_v","_e","_u","_g","_d","_p","FunctionalRenderContext","contextVm","this$1","_original","isCompiled","needNormalization","injections","scopedSlots","_c","d","createFunctionalComponent","mergeProps","renderContext","cloneAndMarkFunctionalResult","vnodes","componentVNodeHooks","hydrating","_isDestroyed","keepAlive","mountedNode","prepatch","createComponentInstanceForVnode","activeInstance","$mount","oldVnode","updateChildComponent","insert","_isMounted","callHook","queueActivatedComponent","activateChildComponent","deactivateChildComponent","$destroy","hooksToMerge","createComponent","baseCtor","cid","resolveAsyncComponent","createAsyncPlaceholder","resolveConstructorOptions","model","transformModel","nativeOn","installComponentHooks","_isComponent","_parentVnode","inlineTemplate","toMerge","_merged","mergeHook$1","f1","f2","SIMPLE_NORMALIZE","ALWAYS_NORMALIZE","normalizationType","alwaysNormalize","_createElement","is","pre","applyNS","registerDeepBindings","class","initRender","_vnode","parentVnode","_renderChildren","parentData","_parentListeners","currentRenderingInstance","renderMixin","Vue","$nextTick","_render","ref","ensureCtor","comp","base","__esModule","toStringTag","factory","errorComp","resolved","owner","owners","loading","loadingComp","timerLoading","timerTimeout","$on","forceRender","renderCompleted","$forceUpdate","clearTimeout","component","delay","getFirstComponentChild","initEvents","_events","_hasHookEvent","updateComponentListeners","remove$1","$off","_target","onceHandler","oldListeners","eventsMixin","hookRE","$once","i$1","cbs","$emit","setActiveInstance","prevActiveInstance","initLifecycle","$children","$refs","_watcher","_inactive","_directInactive","_isBeingDestroyed","lifecycleMixin","_update","prevEl","$el","prevVnode","restoreActiveInstance","__patch__","__vue__","teardown","_watchers","_data","mountComponent","updateComponent","Watcher","before","renderChildren","newScopedSlots","oldScopedSlots","hasDynamicScopedSlot","needsForceUpdate","$attrs","$listeners","propKeys","_propKeys","isInInactiveTree","direct","handlers","activatedChildren","waiting","flushing","resetSchedulerState","currentFlushTimestamp","getNow","createEvent","timeStamp","flushSchedulerQueue","watcher","run","activatedQueue","updatedQueue","callActivatedHooks","callUpdatedHooks","queueWatcher","uid$2","expOrFn","isRenderWatcher","deep","lazy","active","dirty","deps","newDeps","depIds","newDepIds","expression","cleanupDeps","tmp","oldValue","evaluate","sharedPropertyDefinition","sourceKey","initState","initProps","initMethods","initData","initComputed","initWatch","propsOptions","getData","computedWatcherOptions","watchers","_computedWatchers","isSSR","userDef","defineComputed","shouldCache","createComputedGetter","createGetterInvoker","createWatcher","$watch","stateMixin","dataDef","propsDef","$set","$delete","immediate","uid$3","initMixin","_init","_uid","initInternalComponent","_self","vnodeComponentOptions","_componentTag","super","superOptions","cachedSuperOptions","modifiedOptions","resolveModifiedOptions","extendOptions","components","modified","sealed","sealedOptions","initUse","use","installedPlugins","_installedPlugins","initMixin$1","mixin","initExtend","Super","SuperId","cachedCtors","_Ctor","Sub","initProps$1","initComputed$1","Comp","initAssetRegisters","definition","getComponentName","matches","pattern","pruneCache","keepAliveInstance","cachedNode","pruneCacheEntry","cached$$1","patternTypes","KeepAlive","include","exclude","created","destroyed","mounted","ref$1","builtInComponents","initGlobalAPI","configDef","util","defineReactive","observable","acceptValue","attr","isEnumeratedAttr","isValidContentEditableValue","convertEnumeratedValue","isFalsyAttrValue","isBooleanAttr","xlinkNS","isXlink","getXlinkProp","genClassForVnode","parentNode","childNode","mergeClassData","renderClass","staticClass","dynamicClass","stringifyClass","stringifyArray","stringifyObject","stringified","namespaceMap","svg","math","isHTMLTag","isSVG","unknownElementCache","HTMLUnknownElement","HTMLElement","isTextInputType","selected","querySelector","createElement$1","tagName","multiple","setAttribute","createElementNS","namespace","createComment","insertBefore","newNode","referenceNode","removeChild","appendChild","nextSibling","setTextContent","textContent","setStyleScope","nodeOps","registerRef","isRemoval","refs","refInFor","emptyNode","sameVnode","sameInputType","typeA","typeB","createKeyToOldIdx","beginIdx","endIdx","createPatchFunction","modules","emptyNodeAt","createRmCb","childElm","removeNode","createElm","insertedVnodeQueue","parentElm","refElm","nested","ownerArray","setScope","createChildren","invokeCreateHooks","isReactivated","initComponent","reactivateComponent","pendingInsert","isPatchable","innerNode","transition","activate","ref$$1","ancestor","addVnodes","startIdx","invokeDestroyHook","removeVnodes","removeAndInvokeRemoveHook","rm","updateChildren","oldCh","newCh","removeOnly","oldKeyToIdx","idxInOld","vnodeToMove","oldStartIdx","newStartIdx","oldEndIdx","oldStartVnode","oldEndVnode","newEndIdx","newStartVnode","newEndVnode","canMove","patchVnode","findIdxInOld","hydrate","postpatch","invokeInsertHook","initial","isRenderedModule","inVPre","hasChildNodes","innerHTML","childrenMatch","firstChild","fullInvoke","isInitialPatch","isRealElement","nodeType","hasAttribute","removeAttribute","oldElm","_leaveCb","patchable","i$2","updateDirectives","oldDir","dir","isCreate","isDestroy","oldDirs","normalizeDirectives$1","newDirs","dirsWithInsert","dirsWithPostpatch","oldArg","arg","callHook$1","componentUpdated","callInsert","emptyModifiers","modifiers","getRawDirName","rawName","baseModules","updateAttrs","inheritAttrs","oldAttrs","setAttr","removeAttributeNS","baseSetAttr","setAttributeNS","__ieph","blocker","stopImmediatePropagation","removeEventListener","updateClass","oldData","cls","transitionClass","_transitionClasses","_prevClass","target$1","klass","RANGE_TOKEN","CHECKBOX_RADIO_TOKEN","normalizeEvents","createOnceHandler$1","remove$2","useMicrotaskFix","add$1","attachedTimestamp","_wrapper","ownerDocument","updateDOMListeners","svgContainer","events","updateDOMProps","oldProps","childNodes","_value","strCur","shouldUpdateValue","checkVal","composing","isNotInFocusAndDirty","isDirtyWithModifiers","notInFocus","activeElement","_vModifiers","trim","parseStyleText","cssText","listDelimiter","propertyDelimiter","normalizeStyleData","normalizeStyleBinding","staticStyle","bindingStyle","getStyle","checkChild","styleData","emptyStyle","cssVarRE","importantRE","setProp","setProperty","normalizedName","vendorNames","capName","updateStyle","oldStaticStyle","oldStyleBinding","normalizedStyle","oldStyle","newStyle","whitespaceRE","addClass","classList","getAttribute","removeClass","tar","resolveTransition","css","autoCssTransition","enterClass","enterToClass","enterActiveClass","leaveClass","leaveToClass","leaveActiveClass","hasTransition","TRANSITION","ANIMATION","transitionProp","transitionEndEvent","animationProp","animationEndEvent","ontransitionend","onwebkittransitionend","onanimationend","onwebkitanimationend","raf","requestAnimationFrame","nextFrame","addTransitionClass","transitionClasses","removeTransitionClass","whenTransitionEnds","expectedType","getTransitionInfo","propCount","ended","onEnd","transformRE","styles","getComputedStyle","transitionDelays","transitionDurations","transitionTimeout","getTimeout","animationDelays","animationDurations","animationTimeout","hasTransform","delays","durations","toMs","enter","toggleDisplay","_enterCb","appearClass","appearToClass","appearActiveClass","beforeEnter","afterEnter","enterCancelled","beforeAppear","appear","afterAppear","appearCancelled","duration","transitionNode","isAppear","startClass","activeClass","toClass","beforeEnterHook","enterHook","afterEnterHook","enterCancelledHook","explicitEnterDuration","expectsCSS","userWantsControl","getHookArgumentsLength","show","pendingNode","_pending","isValidDuration","leave","beforeLeave","afterLeave","leaveCancelled","delayLeave","explicitLeaveDuration","performLeave","invokerFns","_enter","platformModules","patch","vmodel","trigger","directive","binding","_vOptions","setSelected","onCompositionStart","onCompositionEnd","prevOptions","curOptions","needReset","hasNoMatchingOption","actuallySetSelected","isMultiple","option","selectedIndex","initEvent","dispatchEvent","locateNode","transition$$1","originalDisplay","__vOriginalDisplay","display","unbind","platformDirectives","transitionProps","getRealChild","compOptions","extractTransitionData","placeholder","rawChild","hasParentTransition","isSameChild","oldChild","isNotTextNode","isVShowDirective","Transition","_leaving","oldRawChild","delayedLeave","moveClass","TransitionGroup","beforeMount","kept","prevChildren","rawChildren","transitionData","c$1","getBoundingClientRect","hasMove","callPendingCbs","recordPosition","applyTranslation","_reflow","offsetHeight","moved","transform","WebkitTransform","transitionDuration","_moveCb","propertyName","_hasMove","cloneNode","newPos","oldPos","dx","dy","top","platformComponents","defer","channel","classof","html","IS_IOS","location","clearImmediate","MessageChannel","Dispatch","ONREADYSTATECHANGE","runner","postMessage","port2","port1","onmessage","importScripts","versions","v8","Iterators","objectKeys","Properties","InternalStateModule","defineIterator","STRING_ITERATOR","setInternalState","getInternalState","getterFor","iterated","point","ctor","superCtor","super_","TempCtor","$","arch","execPath","title","pid","argv","cwd","chdir","exit","kill","umask","dlopen","uptime","memoryUsage","uvCounters","features","propertyIsEnumerable","UNSCOPABLES","ArrayPrototype","defaultConstructor","C","getOwnPropertySymbols","toAbsoluteIndex","createMethod","IS_INCLUDES","$this","fromIndex","includes","$filter","arrayMethodHasSpeciesSupport","HAS_SPECIES_SUPPORT","createProperty","arrayLike","argumentsLength","mapfn","mapping","iteratorMethod","getRandomValues","crypto","msCrypto","rnds8","rng","byteToHex","bytesToUuid","bth","v4","rnds","argument","IS_PURE","store","copyright","getOwnPropertyNamesModule","getOwnPropertySymbolsModule","bitmap","IndexedObject","nativeAssign","A","B","alphabet","chr","queueMicrotask","requireObjectCoercible","CONVERT_TO_STRING","first","second","position","codeAt","originalArray","hex_chr","md5cycle","md5blk","md5blks","md5blk_array","md51","tail","lo","hi","md51_array","subarray","rhex","hex","toUtf8","utf8Str2ArrayBuffer","returnUInt8Array","arrayBuffer2Utf8Str","concatenateArrayBuffers","hexToBinaryString","SparkMD5","reset","lsw","msw","clamp","begin","contents","_buff","_hash","_finish","getState","setState","hashBinary","content","NATIVE_WEAK_MAP","objectHas","sharedKey","WeakMap","enforce","TYPE","wmget","wmhas","wmset","STATE","inspectSource","enforceInternalState","TEMPLATE","simple","arrayPrefix","objPrefix","numChar","parsedString","lastCh","numConsecutiveSlashes","draining","currentQueue","scheduleDrain","types","queueIndex","scheduled","cleanUpNextTick","Item","wrappedWellKnownSymbolModule","NAME","activeXDocument","documentCreateElement","GT","LT","PROTOTYPE","SCRIPT","IE_PROTO","EmptyConstructor","scriptTag","NullProtoObjectViaActiveX","write","temp","parentWindow","NullProtoObjectViaIFrame","iframeDocument","iframe","JS","contentWindow","F","NullProtoObject","domain","ActiveXObject","createIteratorConstructor","setPrototypeOf","setToStringTag","IteratorsCore","IteratorPrototype","BUGGY_SAFARI_ITERATORS","KEYS","VALUES","ENTRIES","returnThis","Iterable","IteratorConstructor","DEFAULT","IS_SET","CurrentIteratorPrototype","KEY","getIterationMethod","KIND","defaultIterator","IterablePrototype","INCORRECT_VALUES_NAME","nativeIterator","anyNativeIterator","entries","propertyKey","scriptEl","onreadystatechange","documentElement","functionToString","postfix","waitWindowLoad","isLocalhost","hostname","register","swUrl","registrationOptions","checkValidServiceWorker","serviceWorker","registration","registerValidSW","onLine","onupdatefound","installingWorker","installing","onstatechange","unregister","replacement","feature","detection","POLYFILL","NATIVE","arraySpeciesCreate","IS_CONCAT_SPREADABLE","MAX_SAFE_INTEGER","MAXIMUM_ALLOWED_INDEX_EXCEEDED","IS_CONCAT_SPREADABLE_SUPPORT","SPECIES_SUPPORT","isConcatSpreadable","spreadable","E","returnMethod","nativeDefineProperty","Attributes","NATIVE_SYMBOL","USE_SYMBOL_AS_UID","nativeObjectCreate","getOwnPropertyNamesExternal","getOwnPropertyDescriptorModule","shared","defineWellKnownSymbol","HIDDEN","SYMBOL","TO_PRIMITIVE","ObjectPrototype","$Symbol","$stringify","nativePropertyIsEnumerable","AllSymbols","ObjectPrototypeSymbols","StringToSymbolRegistry","SymbolToStringRegistry","WellKnownSymbolsStore","QObject","USE_SETTER","findChild","setSymbolDescriptor","ObjectPrototypeDescriptor","wrap","description","isSymbol","$defineProperty","$defineProperties","$getOwnPropertySymbols","$propertyIsEnumerable","$create","V","$getOwnPropertyDescriptor","$getOwnPropertyNames","IS_OBJECT_PROTOTYPE","keyFor","sym","useSetter","useSimple","FORCED_JSON_STRINGIFY","replacer","space","$replacer","valueOf","checkCorrectnessOfIteration","INCORRECT_ITERATION","NativePromise","speciesConstructor","promiseResolve","NON_GENERIC","real","onFinally","isFunction","ignoreCase","multiline","dotAll","unicode","sticky","thrower","ACCESSORS","argument0","argument1","PrototypeOfArrayIteratorPrototype","arrayIterator","TO_STRING_TAG_SUPPORT","FunctionPrototype","FunctionPrototypeToString","nameRE","flush","head","toggle","macrotask","IS_NODE","queueMicrotaskDescriptor","createWellKnownSymbol","withoutSetter","IS_MAP","IS_FILTER","IS_SOME","IS_EVERY","IS_FIND_INDEX","NO_HOLES","specificCreate","findIndex","PREFERRED_STRING","SHARED","g","EXISTS","newPromiseCapability","promiseCapability","variable","NASHORN_BUG","1","aPossiblePrototype","CORRECT_SETTER","TAG","check","globalThis","argsArray","ArrayIteratorMethods","ArrayValues","normalizeArray","allowAboveRoot","up","basename","matchedSlash","xs","resolvedPath","resolvedAbsolute","isAbsolute","trailingSlash","relative","fromParts","toParts","samePartsLength","outputParts","sep","delimiter","dirname","hasRoot","ext","extname","startDot","startPart","preDotState","NativeSymbol","EmptyStringDescriptionStore","SymbolWrapper","symbolPrototype","symbolToString","native","regexp","desc","CORRECT_PROTOTYPE_GETTER","addToUnscopables","ARRAY_ITERATOR","kind","Arguments","t","Internal","OwnPromiseCapability","PromiseWrapper","nativeThen","redefineAll","setSpecies","anInstance","microtask","hostReportErrors","newPromiseCapabilityModule","perform","PROMISE","getInternalPromiseState","PromiseConstructor","$fetch","newGenericPromiseCapability","DISPATCH_EVENT","UNHANDLED_REJECTION","REJECTION_HANDLED","PENDING","FULFILLED","REJECTED","HANDLED","UNHANDLED","GLOBAL_CORE_JS_PROMISE","PromiseRejectionEvent","FakePromise","isThenable","isReject","notified","chain","reactions","exited","reaction","rejection","onHandleUnhandled","onUnhandled","IS_UNHANDLED","isUnhandled","unwrap","internalReject","internalResolve","wrapper","executor","onFulfilled","onRejected","r","capability","$promiseResolve","remaining","alreadyCalled","race","PromiseCapability","$$resolve","$$reject","classofRaw","CORRECT_ARGUMENTS","tryGet","callee","ReflectOwnKeys","ReflectApply","receiver","ProcessEmitWarning","warning","NumberIsNaN","EventEmitter","_eventsCount","_maxListeners","defaultMaxListeners","checkListener","_getMaxListeners","_addListener","prepend","newListener","warned","w","emitter","onceWrapper","fired","wrapFn","_onceWrap","wrapped","evlistener","unwrapListeners","arrayClone","copy","spliceOne","eventListener","errorListener","RangeError","setMaxListeners","getMaxListeners","doError","er","prependListener","prependOnceListener","originalListener","off","rawListeners","eventNames","0","nativeSlice","CSSRuleList","CSSStyleDeclaration","CSSValueList","ClientRectList","DOMRectList","DOMStringList","DOMTokenList","DataTransferItemList","FileList","HTMLAllCollection","HTMLCollection","HTMLFormElement","HTMLSelectElement","MediaList","MimeTypeArray","NamedNodeMap","NodeList","PaintRequestList","Plugin","PluginArray","SVGLengthList","SVGNumberList","SVGPathSegList","SVGPointList","SVGStringList","SVGTransformList","SourceBufferList","StyleSheetList","TextTrackCueList","TextTrackList","TouchList"],"mappings":"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","file":"js/chunk-vendors.a957d548.js","sourcesContent":["var wellKnownSymbol = require('../internals/well-known-symbol');\n\nvar TO_STRING_TAG = wellKnownSymbol('toStringTag');\nvar test = {};\n\ntest[TO_STRING_TAG] = 'z';\n\nmodule.exports = String(test) === '[object z]';\n","var aFunction = require('../internals/a-function');\n\n// optional / simple context binding\nmodule.exports = function (fn, that, length) {\n  aFunction(fn);\n  if (that === undefined) return fn;\n  switch (length) {\n    case 0: return function () {\n      return fn.call(that);\n    };\n    case 1: return function (a) {\n      return fn.call(that, a);\n    };\n    case 2: return function (a, b) {\n      return fn.call(that, a, b);\n    };\n    case 3: return function (a, b, c) {\n      return fn.call(that, a, b, c);\n    };\n  }\n  return function (/* ...args */) {\n    return fn.apply(that, arguments);\n  };\n};\n","var toIndexedObject = require('../internals/to-indexed-object');\nvar nativeGetOwnPropertyNames = require('../internals/object-get-own-property-names').f;\n\nvar toString = {}.toString;\n\nvar windowNames = typeof window == 'object' && window && Object.getOwnPropertyNames\n  ? Object.getOwnPropertyNames(window) : [];\n\nvar getWindowNames = function (it) {\n  try {\n    return nativeGetOwnPropertyNames(it);\n  } catch (error) {\n    return windowNames.slice();\n  }\n};\n\n// fallback for IE11 buggy Object.getOwnPropertyNames with iframe and window\nmodule.exports.f = function getOwnPropertyNames(it) {\n  return windowNames && toString.call(it) == '[object Window]'\n    ? getWindowNames(it)\n    : nativeGetOwnPropertyNames(toIndexedObject(it));\n};\n","'use strict';\n//based off rsvp https://github.com/tildeio/rsvp.js\n//license https://github.com/tildeio/rsvp.js/blob/master/LICENSE\n//https://github.com/tildeio/rsvp.js/blob/master/lib/rsvp/asap.js\n\nvar Mutation = global.MutationObserver || global.WebKitMutationObserver;\n\nexports.test = function () {\n  return Mutation;\n};\n\nexports.install = function (handle) {\n  var called = 0;\n  var observer = new Mutation(handle);\n  var element = global.document.createTextNode('');\n  observer.observe(element, {\n    characterData: true\n  });\n  return function () {\n    element.data = (called = ++called % 2);\n  };\n};","var DESCRIPTORS = require('../internals/descriptors');\nvar propertyIsEnumerableModule = require('../internals/object-property-is-enumerable');\nvar createPropertyDescriptor = require('../internals/create-property-descriptor');\nvar toIndexedObject = require('../internals/to-indexed-object');\nvar toPrimitive = require('../internals/to-primitive');\nvar has = require('../internals/has');\nvar IE8_DOM_DEFINE = require('../internals/ie8-dom-define');\n\nvar nativeGetOwnPropertyDescriptor = Object.getOwnPropertyDescriptor;\n\n// `Object.getOwnPropertyDescriptor` method\n// https://tc39.github.io/ecma262/#sec-object.getownpropertydescriptor\nexports.f = DESCRIPTORS ? nativeGetOwnPropertyDescriptor : function getOwnPropertyDescriptor(O, P) {\n  O = toIndexedObject(O);\n  P = toPrimitive(P, true);\n  if (IE8_DOM_DEFINE) try {\n    return nativeGetOwnPropertyDescriptor(O, P);\n  } catch (error) { /* empty */ }\n  if (has(O, P)) return createPropertyDescriptor(!propertyIsEnumerableModule.f.call(O, P), O[P]);\n};\n","var DESCRIPTORS = require('../internals/descriptors');\nvar fails = require('../internals/fails');\nvar createElement = require('../internals/document-create-element');\n\n// Thank's IE8 for his funny defineProperty\nmodule.exports = !DESCRIPTORS && !fails(function () {\n  return Object.defineProperty(createElement('div'), 'a', {\n    get: function () { return 7; }\n  }).a != 7;\n});\n","var global = require('../internals/global');\nvar DOMIterables = require('../internals/dom-iterables');\nvar forEach = require('../internals/array-for-each');\nvar createNonEnumerableProperty = require('../internals/create-non-enumerable-property');\n\nfor (var COLLECTION_NAME in DOMIterables) {\n  var Collection = global[COLLECTION_NAME];\n  var CollectionPrototype = Collection && Collection.prototype;\n  // some Chrome versions have non-configurable methods on DOMTokenList\n  if (CollectionPrototype && CollectionPrototype.forEach !== forEach) try {\n    createNonEnumerableProperty(CollectionPrototype, 'forEach', forEach);\n  } catch (error) {\n    CollectionPrototype.forEach = forEach;\n  }\n}\n","import immediate from 'immediate';\nimport { v4 } from 'uuid';\nimport Md5 from 'spark-md5';\nimport vuvuzela from 'vuvuzela';\nimport getArguments from 'argsarray';\nimport inherits from 'inherits';\nimport EE from 'events';\n\nfunction mangle(key) {\n  return '$' + key;\n}\nfunction unmangle(key) {\n  return key.substring(1);\n}\nfunction Map$1() {\n  this._store = {};\n}\nMap$1.prototype.get = function (key) {\n  var mangled = mangle(key);\n  return this._store[mangled];\n};\nMap$1.prototype.set = function (key, value) {\n  var mangled = mangle(key);\n  this._store[mangled] = value;\n  return true;\n};\nMap$1.prototype.has = function (key) {\n  var mangled = mangle(key);\n  return mangled in this._store;\n};\nMap$1.prototype.delete = function (key) {\n  var mangled = mangle(key);\n  var res = mangled in this._store;\n  delete this._store[mangled];\n  return res;\n};\nMap$1.prototype.forEach = function (cb) {\n  var keys = Object.keys(this._store);\n  for (var i = 0, len = keys.length; i < len; i++) {\n    var key = keys[i];\n    var value = this._store[key];\n    key = unmangle(key);\n    cb(value, key);\n  }\n};\nObject.defineProperty(Map$1.prototype, 'size', {\n  get: function () {\n    return Object.keys(this._store).length;\n  }\n});\n\nfunction Set$1(array) {\n  this._store = new Map$1();\n\n  // init with an array\n  if (array && Array.isArray(array)) {\n    for (var i = 0, len = array.length; i < len; i++) {\n      this.add(array[i]);\n    }\n  }\n}\nSet$1.prototype.add = function (key) {\n  return this._store.set(key, true);\n};\nSet$1.prototype.has = function (key) {\n  return this._store.has(key);\n};\nSet$1.prototype.forEach = function (cb) {\n  this._store.forEach(function (value, key) {\n    cb(key);\n  });\n};\nObject.defineProperty(Set$1.prototype, 'size', {\n  get: function () {\n    return this._store.size;\n  }\n});\n\n/* global Map,Set,Symbol */\n// Based on https://kangax.github.io/compat-table/es6/ we can sniff out\n// incomplete Map/Set implementations which would otherwise cause our tests to fail.\n// Notably they fail in IE11 and iOS 8.4, which this prevents.\nfunction supportsMapAndSet() {\n  if (typeof Symbol === 'undefined' || typeof Map === 'undefined' || typeof Set === 'undefined') {\n    return false;\n  }\n  var prop = Object.getOwnPropertyDescriptor(Map, Symbol.species);\n  return prop && 'get' in prop && Map[Symbol.species] === Map;\n}\n\n// based on https://github.com/montagejs/collections\n\nvar ExportedSet;\nvar ExportedMap;\n\n{\n  if (supportsMapAndSet()) { // prefer built-in Map/Set\n    ExportedSet = Set;\n    ExportedMap = Map;\n  } else { // fall back to our polyfill\n    ExportedSet = Set$1;\n    ExportedMap = Map$1;\n  }\n}\n\nfunction isBinaryObject(object) {\n  return (typeof ArrayBuffer !== 'undefined' && object instanceof ArrayBuffer) ||\n    (typeof Blob !== 'undefined' && object instanceof Blob);\n}\n\nfunction cloneArrayBuffer(buff) {\n  if (typeof buff.slice === 'function') {\n    return buff.slice(0);\n  }\n  // IE10-11 slice() polyfill\n  var target = new ArrayBuffer(buff.byteLength);\n  var targetArray = new Uint8Array(target);\n  var sourceArray = new Uint8Array(buff);\n  targetArray.set(sourceArray);\n  return target;\n}\n\nfunction cloneBinaryObject(object) {\n  if (object instanceof ArrayBuffer) {\n    return cloneArrayBuffer(object);\n  }\n  var size = object.size;\n  var type = object.type;\n  // Blob\n  if (typeof object.slice === 'function') {\n    return object.slice(0, size, type);\n  }\n  // PhantomJS slice() replacement\n  return object.webkitSlice(0, size, type);\n}\n\n// most of this is borrowed from lodash.isPlainObject:\n// https://github.com/fis-components/lodash.isplainobject/\n// blob/29c358140a74f252aeb08c9eb28bef86f2217d4a/index.js\n\nvar funcToString = Function.prototype.toString;\nvar objectCtorString = funcToString.call(Object);\n\nfunction isPlainObject(value) {\n  var proto = Object.getPrototypeOf(value);\n  /* istanbul ignore if */\n  if (proto === null) { // not sure when this happens, but I guess it can\n    return true;\n  }\n  var Ctor = proto.constructor;\n  return (typeof Ctor == 'function' &&\n    Ctor instanceof Ctor && funcToString.call(Ctor) == objectCtorString);\n}\n\nfunction clone(object) {\n  var newObject;\n  var i;\n  var len;\n\n  if (!object || typeof object !== 'object') {\n    return object;\n  }\n\n  if (Array.isArray(object)) {\n    newObject = [];\n    for (i = 0, len = object.length; i < len; i++) {\n      newObject[i] = clone(object[i]);\n    }\n    return newObject;\n  }\n\n  // special case: to avoid inconsistencies between IndexedDB\n  // and other backends, we automatically stringify Dates\n  if (object instanceof Date) {\n    return object.toISOString();\n  }\n\n  if (isBinaryObject(object)) {\n    return cloneBinaryObject(object);\n  }\n\n  if (!isPlainObject(object)) {\n    return object; // don't clone objects like Workers\n  }\n\n  newObject = {};\n  for (i in object) {\n    /* istanbul ignore else */\n    if (Object.prototype.hasOwnProperty.call(object, i)) {\n      var value = clone(object[i]);\n      if (typeof value !== 'undefined') {\n        newObject[i] = value;\n      }\n    }\n  }\n  return newObject;\n}\n\nfunction once(fun) {\n  var called = false;\n  return getArguments(function (args) {\n    /* istanbul ignore if */\n    if (called) {\n      // this is a smoke test and should never actually happen\n      throw new Error('once called more than once');\n    } else {\n      called = true;\n      fun.apply(this, args);\n    }\n  });\n}\n\nfunction toPromise(func) {\n  //create the function we will be returning\n  return getArguments(function (args) {\n    // Clone arguments\n    args = clone(args);\n    var self = this;\n    // if the last argument is a function, assume its a callback\n    var usedCB = (typeof args[args.length - 1] === 'function') ? args.pop() : false;\n    var promise = new Promise(function (fulfill, reject) {\n      var resp;\n      try {\n        var callback = once(function (err, mesg) {\n          if (err) {\n            reject(err);\n          } else {\n            fulfill(mesg);\n          }\n        });\n        // create a callback for this invocation\n        // apply the function in the orig context\n        args.push(callback);\n        resp = func.apply(self, args);\n        if (resp && typeof resp.then === 'function') {\n          fulfill(resp);\n        }\n      } catch (e) {\n        reject(e);\n      }\n    });\n    // if there is a callback, call it back\n    if (usedCB) {\n      promise.then(function (result) {\n        usedCB(null, result);\n      }, usedCB);\n    }\n    return promise;\n  });\n}\n\nfunction logApiCall(self, name, args) {\n  /* istanbul ignore if */\n  if (self.constructor.listeners('debug').length) {\n    var logArgs = ['api', self.name, name];\n    for (var i = 0; i < args.length - 1; i++) {\n      logArgs.push(args[i]);\n    }\n    self.constructor.emit('debug', logArgs);\n\n    // override the callback itself to log the response\n    var origCallback = args[args.length - 1];\n    args[args.length - 1] = function (err, res) {\n      var responseArgs = ['api', self.name, name];\n      responseArgs = responseArgs.concat(\n        err ? ['error', err] : ['success', res]\n      );\n      self.constructor.emit('debug', responseArgs);\n      origCallback(err, res);\n    };\n  }\n}\n\nfunction adapterFun(name, callback) {\n  return toPromise(getArguments(function (args) {\n    if (this._closed) {\n      return Promise.reject(new Error('database is closed'));\n    }\n    if (this._destroyed) {\n      return Promise.reject(new Error('database is destroyed'));\n    }\n    var self = this;\n    logApiCall(self, name, args);\n    if (!this.taskqueue.isReady) {\n      return new Promise(function (fulfill, reject) {\n        self.taskqueue.addTask(function (failed) {\n          if (failed) {\n            reject(failed);\n          } else {\n            fulfill(self[name].apply(self, args));\n          }\n        });\n      });\n    }\n    return callback.apply(this, args);\n  }));\n}\n\n// like underscore/lodash _.pick()\nfunction pick(obj, arr) {\n  var res = {};\n  for (var i = 0, len = arr.length; i < len; i++) {\n    var prop = arr[i];\n    if (prop in obj) {\n      res[prop] = obj[prop];\n    }\n  }\n  return res;\n}\n\n// Most browsers throttle concurrent requests at 6, so it's silly\n// to shim _bulk_get by trying to launch potentially hundreds of requests\n// and then letting the majority time out. We can handle this ourselves.\nvar MAX_NUM_CONCURRENT_REQUESTS = 6;\n\nfunction identityFunction(x) {\n  return x;\n}\n\nfunction formatResultForOpenRevsGet(result) {\n  return [{\n    ok: result\n  }];\n}\n\n// shim for P/CouchDB adapters that don't directly implement _bulk_get\nfunction bulkGet(db, opts, callback) {\n  var requests = opts.docs;\n\n  // consolidate into one request per doc if possible\n  var requestsById = new ExportedMap();\n  requests.forEach(function (request) {\n    if (requestsById.has(request.id)) {\n      requestsById.get(request.id).push(request);\n    } else {\n      requestsById.set(request.id, [request]);\n    }\n  });\n\n  var numDocs = requestsById.size;\n  var numDone = 0;\n  var perDocResults = new Array(numDocs);\n\n  function collapseResultsAndFinish() {\n    var results = [];\n    perDocResults.forEach(function (res) {\n      res.docs.forEach(function (info) {\n        results.push({\n          id: res.id,\n          docs: [info]\n        });\n      });\n    });\n    callback(null, {results: results});\n  }\n\n  function checkDone() {\n    if (++numDone === numDocs) {\n      collapseResultsAndFinish();\n    }\n  }\n\n  function gotResult(docIndex, id, docs) {\n    perDocResults[docIndex] = {id: id, docs: docs};\n    checkDone();\n  }\n\n  var allRequests = [];\n  requestsById.forEach(function (value, key) {\n    allRequests.push(key);\n  });\n\n  var i = 0;\n\n  function nextBatch() {\n\n    if (i >= allRequests.length) {\n      return;\n    }\n\n    var upTo = Math.min(i + MAX_NUM_CONCURRENT_REQUESTS, allRequests.length);\n    var batch = allRequests.slice(i, upTo);\n    processBatch(batch, i);\n    i += batch.length;\n  }\n\n  function processBatch(batch, offset) {\n    batch.forEach(function (docId, j) {\n      var docIdx = offset + j;\n      var docRequests = requestsById.get(docId);\n\n      // just use the first request as the \"template\"\n      // TODO: The _bulk_get API allows for more subtle use cases than this,\n      // but for now it is unlikely that there will be a mix of different\n      // \"atts_since\" or \"attachments\" in the same request, since it's just\n      // replicate.js that is using this for the moment.\n      // Also, atts_since is aspirational, since we don't support it yet.\n      var docOpts = pick(docRequests[0], ['atts_since', 'attachments']);\n      docOpts.open_revs = docRequests.map(function (request) {\n        // rev is optional, open_revs disallowed\n        return request.rev;\n      });\n\n      // remove falsey / undefined revisions\n      docOpts.open_revs = docOpts.open_revs.filter(identityFunction);\n\n      var formatResult = identityFunction;\n\n      if (docOpts.open_revs.length === 0) {\n        delete docOpts.open_revs;\n\n        // when fetching only the \"winning\" leaf,\n        // transform the result so it looks like an open_revs\n        // request\n        formatResult = formatResultForOpenRevsGet;\n      }\n\n      // globally-supplied options\n      ['revs', 'attachments', 'binary', 'ajax', 'latest'].forEach(function (param) {\n        if (param in opts) {\n          docOpts[param] = opts[param];\n        }\n      });\n      db.get(docId, docOpts, function (err, res) {\n        var result;\n        /* istanbul ignore if */\n        if (err) {\n          result = [{error: err}];\n        } else {\n          result = formatResult(res);\n        }\n        gotResult(docIdx, docId, result);\n        nextBatch();\n      });\n    });\n  }\n\n  nextBatch();\n\n}\n\nvar hasLocal;\n\ntry {\n  localStorage.setItem('_pouch_check_localstorage', 1);\n  hasLocal = !!localStorage.getItem('_pouch_check_localstorage');\n} catch (e) {\n  hasLocal = false;\n}\n\nfunction hasLocalStorage() {\n  return hasLocal;\n}\n\n// Custom nextTick() shim for browsers. In node, this will just be process.nextTick(). We\n\ninherits(Changes, EE);\n\n/* istanbul ignore next */\nfunction attachBrowserEvents(self) {\n  if (hasLocalStorage()) {\n    addEventListener(\"storage\", function (e) {\n      self.emit(e.key);\n    });\n  }\n}\n\nfunction Changes() {\n  EE.call(this);\n  this._listeners = {};\n\n  attachBrowserEvents(this);\n}\nChanges.prototype.addListener = function (dbName, id, db, opts) {\n  /* istanbul ignore if */\n  if (this._listeners[id]) {\n    return;\n  }\n  var self = this;\n  var inprogress = false;\n  function eventFunction() {\n    /* istanbul ignore if */\n    if (!self._listeners[id]) {\n      return;\n    }\n    if (inprogress) {\n      inprogress = 'waiting';\n      return;\n    }\n    inprogress = true;\n    var changesOpts = pick(opts, [\n      'style', 'include_docs', 'attachments', 'conflicts', 'filter',\n      'doc_ids', 'view', 'since', 'query_params', 'binary', 'return_docs'\n    ]);\n\n    /* istanbul ignore next */\n    function onError() {\n      inprogress = false;\n    }\n\n    db.changes(changesOpts).on('change', function (c) {\n      if (c.seq > opts.since && !opts.cancelled) {\n        opts.since = c.seq;\n        opts.onChange(c);\n      }\n    }).on('complete', function () {\n      if (inprogress === 'waiting') {\n        immediate(eventFunction);\n      }\n      inprogress = false;\n    }).on('error', onError);\n  }\n  this._listeners[id] = eventFunction;\n  this.on(dbName, eventFunction);\n};\n\nChanges.prototype.removeListener = function (dbName, id) {\n  /* istanbul ignore if */\n  if (!(id in this._listeners)) {\n    return;\n  }\n  EE.prototype.removeListener.call(this, dbName,\n    this._listeners[id]);\n  delete this._listeners[id];\n};\n\n\n/* istanbul ignore next */\nChanges.prototype.notifyLocalWindows = function (dbName) {\n  //do a useless change on a storage thing\n  //in order to get other windows's listeners to activate\n  if (hasLocalStorage()) {\n    localStorage[dbName] = (localStorage[dbName] === \"a\") ? \"b\" : \"a\";\n  }\n};\n\nChanges.prototype.notify = function (dbName) {\n  this.emit(dbName);\n  this.notifyLocalWindows(dbName);\n};\n\nfunction guardedConsole(method) {\n  /* istanbul ignore else */\n  if (typeof console !== 'undefined' && typeof console[method] === 'function') {\n    var args = Array.prototype.slice.call(arguments, 1);\n    console[method].apply(console, args);\n  }\n}\n\nfunction randomNumber(min, max) {\n  var maxTimeout = 600000; // Hard-coded default of 10 minutes\n  min = parseInt(min, 10) || 0;\n  max = parseInt(max, 10);\n  if (max !== max || max <= min) {\n    max = (min || 1) << 1; //doubling\n  } else {\n    max = max + 1;\n  }\n  // In order to not exceed maxTimeout, pick a random value between half of maxTimeout and maxTimeout\n  if (max > maxTimeout) {\n    min = maxTimeout >> 1; // divide by two\n    max = maxTimeout;\n  }\n  var ratio = Math.random();\n  var range = max - min;\n\n  return ~~(range * ratio + min); // ~~ coerces to an int, but fast.\n}\n\nfunction defaultBackOff(min) {\n  var max = 0;\n  if (!min) {\n    max = 2000;\n  }\n  return randomNumber(min, max);\n}\n\n// designed to give info to browser users, who are disturbed\n// when they see http errors in the console\nfunction explainError(status, str) {\n  guardedConsole('info', 'The above ' + status + ' is totally normal. ' + str);\n}\n\nvar assign;\n{\n  if (typeof Object.assign === 'function') {\n    assign = Object.assign;\n  } else {\n    // lite Object.assign polyfill based on\n    // https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Object/assign\n    assign = function (target) {\n      var to = Object(target);\n\n      for (var index = 1; index < arguments.length; index++) {\n        var nextSource = arguments[index];\n\n        if (nextSource != null) { // Skip over if undefined or null\n          for (var nextKey in nextSource) {\n            // Avoid bugs when hasOwnProperty is shadowed\n            if (Object.prototype.hasOwnProperty.call(nextSource, nextKey)) {\n              to[nextKey] = nextSource[nextKey];\n            }\n          }\n        }\n      }\n      return to;\n    };\n  }\n}\n\nvar $inject_Object_assign = assign;\n\ninherits(PouchError, Error);\n\nfunction PouchError(status, error, reason) {\n  Error.call(this, reason);\n  this.status = status;\n  this.name = error;\n  this.message = reason;\n  this.error = true;\n}\n\nPouchError.prototype.toString = function () {\n  return JSON.stringify({\n    status: this.status,\n    name: this.name,\n    message: this.message,\n    reason: this.reason\n  });\n};\n\nvar UNAUTHORIZED = new PouchError(401, 'unauthorized', \"Name or password is incorrect.\");\nvar MISSING_BULK_DOCS = new PouchError(400, 'bad_request', \"Missing JSON list of 'docs'\");\nvar MISSING_DOC = new PouchError(404, 'not_found', 'missing');\nvar REV_CONFLICT = new PouchError(409, 'conflict', 'Document update conflict');\nvar INVALID_ID = new PouchError(400, 'bad_request', '_id field must contain a string');\nvar MISSING_ID = new PouchError(412, 'missing_id', '_id is required for puts');\nvar RESERVED_ID = new PouchError(400, 'bad_request', 'Only reserved document ids may start with underscore.');\nvar NOT_OPEN = new PouchError(412, 'precondition_failed', 'Database not open');\nvar UNKNOWN_ERROR = new PouchError(500, 'unknown_error', 'Database encountered an unknown error');\nvar BAD_ARG = new PouchError(500, 'badarg', 'Some query argument is invalid');\nvar INVALID_REQUEST = new PouchError(400, 'invalid_request', 'Request was invalid');\nvar QUERY_PARSE_ERROR = new PouchError(400, 'query_parse_error', 'Some query parameter is invalid');\nvar DOC_VALIDATION = new PouchError(500, 'doc_validation', 'Bad special document member');\nvar BAD_REQUEST = new PouchError(400, 'bad_request', 'Something wrong with the request');\nvar NOT_AN_OBJECT = new PouchError(400, 'bad_request', 'Document must be a JSON object');\nvar DB_MISSING = new PouchError(404, 'not_found', 'Database not found');\nvar IDB_ERROR = new PouchError(500, 'indexed_db_went_bad', 'unknown');\nvar WSQ_ERROR = new PouchError(500, 'web_sql_went_bad', 'unknown');\nvar LDB_ERROR = new PouchError(500, 'levelDB_went_went_bad', 'unknown');\nvar FORBIDDEN = new PouchError(403, 'forbidden', 'Forbidden by design doc validate_doc_update function');\nvar INVALID_REV = new PouchError(400, 'bad_request', 'Invalid rev format');\nvar FILE_EXISTS = new PouchError(412, 'file_exists', 'The database could not be created, the file already exists.');\nvar MISSING_STUB = new PouchError(412, 'missing_stub', 'A pre-existing attachment stub wasn\\'t found');\nvar INVALID_URL = new PouchError(413, 'invalid_url', 'Provided URL is invalid');\n\nfunction createError(error, reason) {\n  function CustomPouchError(reason) {\n    // inherit error properties from our parent error manually\n    // so as to allow proper JSON parsing.\n    /* jshint ignore:start */\n    var names = Object.getOwnPropertyNames(error);\n    for (var i = 0, len = names.length; i < len; i++) {\n      if (typeof error[names[i]] !== 'function') {\n        this[names[i]] = error[names[i]];\n      }\n    }\n    /* jshint ignore:end */\n    if (reason !== undefined) {\n      this.reason = reason;\n    }\n  }\n  CustomPouchError.prototype = PouchError.prototype;\n  return new CustomPouchError(reason);\n}\n\nfunction generateErrorFromResponse(err) {\n\n  if (typeof err !== 'object') {\n    var data = err;\n    err = UNKNOWN_ERROR;\n    err.data = data;\n  }\n\n  if ('error' in err && err.error === 'conflict') {\n    err.name = 'conflict';\n    err.status = 409;\n  }\n\n  if (!('name' in err)) {\n    err.name = err.error || 'unknown';\n  }\n\n  if (!('status' in err)) {\n    err.status = 500;\n  }\n\n  if (!('message' in err)) {\n    err.message = err.message || err.reason;\n  }\n\n  return err;\n}\n\nfunction tryFilter(filter, doc, req) {\n  try {\n    return !filter(doc, req);\n  } catch (err) {\n    var msg = 'Filter function threw: ' + err.toString();\n    return createError(BAD_REQUEST, msg);\n  }\n}\n\nfunction filterChange(opts) {\n  var req = {};\n  var hasFilter = opts.filter && typeof opts.filter === 'function';\n  req.query = opts.query_params;\n\n  return function filter(change) {\n    if (!change.doc) {\n      // CSG sends events on the changes feed that don't have documents,\n      // this hack makes a whole lot of existing code robust.\n      change.doc = {};\n    }\n\n    var filterReturn = hasFilter && tryFilter(opts.filter, change.doc, req);\n\n    if (typeof filterReturn === 'object') {\n      return filterReturn;\n    }\n\n    if (filterReturn) {\n      return false;\n    }\n\n    if (!opts.include_docs) {\n      delete change.doc;\n    } else if (!opts.attachments) {\n      for (var att in change.doc._attachments) {\n        /* istanbul ignore else */\n        if (change.doc._attachments.hasOwnProperty(att)) {\n          change.doc._attachments[att].stub = true;\n        }\n      }\n    }\n    return true;\n  };\n}\n\nfunction flatten(arrs) {\n  var res = [];\n  for (var i = 0, len = arrs.length; i < len; i++) {\n    res = res.concat(arrs[i]);\n  }\n  return res;\n}\n\n// shim for Function.prototype.name,\n\n// Determine id an ID is valid\n//   - invalid IDs begin with an underescore that does not begin '_design' or\n//     '_local'\n//   - any other string value is a valid id\n// Returns the specific error object for each case\nfunction invalidIdError(id) {\n  var err;\n  if (!id) {\n    err = createError(MISSING_ID);\n  } else if (typeof id !== 'string') {\n    err = createError(INVALID_ID);\n  } else if (/^_/.test(id) && !(/^_(design|local)/).test(id)) {\n    err = createError(RESERVED_ID);\n  }\n  if (err) {\n    throw err;\n  }\n}\n\n// Checks if a PouchDB object is \"remote\" or not. This is\n\nfunction isRemote(db) {\n  if (typeof db._remote === 'boolean') {\n    return db._remote;\n  }\n  /* istanbul ignore next */\n  if (typeof db.type === 'function') {\n    guardedConsole('warn',\n      'db.type() is deprecated and will be removed in ' +\n      'a future version of PouchDB');\n    return db.type() === 'http';\n  }\n  /* istanbul ignore next */\n  return false;\n}\n\nfunction listenerCount(ee, type) {\n  return 'listenerCount' in ee ? ee.listenerCount(type) :\n                                 EE.listenerCount(ee, type);\n}\n\nfunction parseDesignDocFunctionName(s) {\n  if (!s) {\n    return null;\n  }\n  var parts = s.split('/');\n  if (parts.length === 2) {\n    return parts;\n  }\n  if (parts.length === 1) {\n    return [s, s];\n  }\n  return null;\n}\n\nfunction normalizeDesignDocFunctionName(s) {\n  var normalized = parseDesignDocFunctionName(s);\n  return normalized ? normalized.join('/') : null;\n}\n\n// originally parseUri 1.2.2, now patched by us\n// (c) Steven Levithan <stevenlevithan.com>\n// MIT License\nvar keys = [\"source\", \"protocol\", \"authority\", \"userInfo\", \"user\", \"password\",\n    \"host\", \"port\", \"relative\", \"path\", \"directory\", \"file\", \"query\", \"anchor\"];\nvar qName =\"queryKey\";\nvar qParser = /(?:^|&)([^&=]*)=?([^&]*)/g;\n\n// use the \"loose\" parser\n/* eslint maxlen: 0, no-useless-escape: 0 */\nvar parser = /^(?:(?![^:@]+:[^:@\\/]*@)([^:\\/?#.]+):)?(?:\\/\\/)?((?:(([^:@]*)(?::([^:@]*))?)?@)?([^:\\/?#]*)(?::(\\d*))?)(((\\/(?:[^?#](?![^?#\\/]*\\.[^?#\\/.]+(?:[?#]|$)))*\\/?)?([^?#\\/]*))(?:\\?([^#]*))?(?:#(.*))?)/;\n\nfunction parseUri(str) {\n  var m = parser.exec(str);\n  var uri = {};\n  var i = 14;\n\n  while (i--) {\n    var key = keys[i];\n    var value = m[i] || \"\";\n    var encoded = ['user', 'password'].indexOf(key) !== -1;\n    uri[key] = encoded ? decodeURIComponent(value) : value;\n  }\n\n  uri[qName] = {};\n  uri[keys[12]].replace(qParser, function ($0, $1, $2) {\n    if ($1) {\n      uri[qName][$1] = $2;\n    }\n  });\n\n  return uri;\n}\n\n// Based on https://github.com/alexdavid/scope-eval v0.0.3\n// (source: https://unpkg.com/scope-eval@0.0.3/scope_eval.js)\n// This is basically just a wrapper around new Function()\n\nfunction scopeEval(source, scope) {\n  var keys = [];\n  var values = [];\n  for (var key in scope) {\n    if (scope.hasOwnProperty(key)) {\n      keys.push(key);\n      values.push(scope[key]);\n    }\n  }\n  keys.push(source);\n  return Function.apply(null, keys).apply(null, values);\n}\n\n// this is essentially the \"update sugar\" function from daleharvey/pouchdb#1388\n// the diffFun tells us what delta to apply to the doc.  it either returns\n// the doc, or false if it doesn't need to do an update after all\nfunction upsert(db, docId, diffFun) {\n  return new Promise(function (fulfill, reject) {\n    db.get(docId, function (err, doc) {\n      if (err) {\n        /* istanbul ignore next */\n        if (err.status !== 404) {\n          return reject(err);\n        }\n        doc = {};\n      }\n\n      // the user might change the _rev, so save it for posterity\n      var docRev = doc._rev;\n      var newDoc = diffFun(doc);\n\n      if (!newDoc) {\n        // if the diffFun returns falsy, we short-circuit as\n        // an optimization\n        return fulfill({updated: false, rev: docRev});\n      }\n\n      // users aren't allowed to modify these values,\n      // so reset them here\n      newDoc._id = docId;\n      newDoc._rev = docRev;\n      fulfill(tryAndPut(db, newDoc, diffFun));\n    });\n  });\n}\n\nfunction tryAndPut(db, doc, diffFun) {\n  return db.put(doc).then(function (res) {\n    return {\n      updated: true,\n      rev: res.rev\n    };\n  }, function (err) {\n    /* istanbul ignore next */\n    if (err.status !== 409) {\n      throw err;\n    }\n    return upsert(db, doc._id, diffFun);\n  });\n}\n\nvar thisAtob = function (str) {\n  return atob(str);\n};\n\nvar thisBtoa = function (str) {\n  return btoa(str);\n};\n\n// Abstracts constructing a Blob object, so it also works in older\n// browsers that don't support the native Blob constructor (e.g.\n// old QtWebKit versions, Android < 4.4).\nfunction createBlob(parts, properties) {\n  /* global BlobBuilder,MSBlobBuilder,MozBlobBuilder,WebKitBlobBuilder */\n  parts = parts || [];\n  properties = properties || {};\n  try {\n    return new Blob(parts, properties);\n  } catch (e) {\n    if (e.name !== \"TypeError\") {\n      throw e;\n    }\n    var Builder = typeof BlobBuilder !== 'undefined' ? BlobBuilder :\n                  typeof MSBlobBuilder !== 'undefined' ? MSBlobBuilder :\n                  typeof MozBlobBuilder !== 'undefined' ? MozBlobBuilder :\n                  WebKitBlobBuilder;\n    var builder = new Builder();\n    for (var i = 0; i < parts.length; i += 1) {\n      builder.append(parts[i]);\n    }\n    return builder.getBlob(properties.type);\n  }\n}\n\n// From http://stackoverflow.com/questions/14967647/ (continues on next line)\n// encode-decode-image-with-base64-breaks-image (2013-04-21)\nfunction binaryStringToArrayBuffer(bin) {\n  var length = bin.length;\n  var buf = new ArrayBuffer(length);\n  var arr = new Uint8Array(buf);\n  for (var i = 0; i < length; i++) {\n    arr[i] = bin.charCodeAt(i);\n  }\n  return buf;\n}\n\nfunction binStringToBluffer(binString, type) {\n  return createBlob([binaryStringToArrayBuffer(binString)], {type: type});\n}\n\nfunction b64ToBluffer(b64, type) {\n  return binStringToBluffer(thisAtob(b64), type);\n}\n\n//Can't find original post, but this is close\n//http://stackoverflow.com/questions/6965107/ (continues on next line)\n//converting-between-strings-and-arraybuffers\nfunction arrayBufferToBinaryString(buffer) {\n  var binary = '';\n  var bytes = new Uint8Array(buffer);\n  var length = bytes.byteLength;\n  for (var i = 0; i < length; i++) {\n    binary += String.fromCharCode(bytes[i]);\n  }\n  return binary;\n}\n\n// shim for browsers that don't support it\nfunction readAsBinaryString(blob, callback) {\n  var reader = new FileReader();\n  var hasBinaryString = typeof reader.readAsBinaryString === 'function';\n  reader.onloadend = function (e) {\n    var result = e.target.result || '';\n    if (hasBinaryString) {\n      return callback(result);\n    }\n    callback(arrayBufferToBinaryString(result));\n  };\n  if (hasBinaryString) {\n    reader.readAsBinaryString(blob);\n  } else {\n    reader.readAsArrayBuffer(blob);\n  }\n}\n\nfunction blobToBinaryString(blobOrBuffer, callback) {\n  readAsBinaryString(blobOrBuffer, function (bin) {\n    callback(bin);\n  });\n}\n\nfunction blobToBase64(blobOrBuffer, callback) {\n  blobToBinaryString(blobOrBuffer, function (base64) {\n    callback(thisBtoa(base64));\n  });\n}\n\n// simplified API. universal browser support is assumed\nfunction readAsArrayBuffer(blob, callback) {\n  var reader = new FileReader();\n  reader.onloadend = function (e) {\n    var result = e.target.result || new ArrayBuffer(0);\n    callback(result);\n  };\n  reader.readAsArrayBuffer(blob);\n}\n\n// this is not used in the browser\n\nvar setImmediateShim = self.setImmediate || self.setTimeout;\nvar MD5_CHUNK_SIZE = 32768;\n\nfunction rawToBase64(raw) {\n  return thisBtoa(raw);\n}\n\nfunction sliceBlob(blob, start, end) {\n  if (blob.webkitSlice) {\n    return blob.webkitSlice(start, end);\n  }\n  return blob.slice(start, end);\n}\n\nfunction appendBlob(buffer, blob, start, end, callback) {\n  if (start > 0 || end < blob.size) {\n    // only slice blob if we really need to\n    blob = sliceBlob(blob, start, end);\n  }\n  readAsArrayBuffer(blob, function (arrayBuffer) {\n    buffer.append(arrayBuffer);\n    callback();\n  });\n}\n\nfunction appendString(buffer, string, start, end, callback) {\n  if (start > 0 || end < string.length) {\n    // only create a substring if we really need to\n    string = string.substring(start, end);\n  }\n  buffer.appendBinary(string);\n  callback();\n}\n\nfunction binaryMd5(data, callback) {\n  var inputIsString = typeof data === 'string';\n  var len = inputIsString ? data.length : data.size;\n  var chunkSize = Math.min(MD5_CHUNK_SIZE, len);\n  var chunks = Math.ceil(len / chunkSize);\n  var currentChunk = 0;\n  var buffer = inputIsString ? new Md5() : new Md5.ArrayBuffer();\n\n  var append = inputIsString ? appendString : appendBlob;\n\n  function next() {\n    setImmediateShim(loadNextChunk);\n  }\n\n  function done() {\n    var raw = buffer.end(true);\n    var base64 = rawToBase64(raw);\n    callback(base64);\n    buffer.destroy();\n  }\n\n  function loadNextChunk() {\n    var start = currentChunk * chunkSize;\n    var end = start + chunkSize;\n    currentChunk++;\n    if (currentChunk < chunks) {\n      append(buffer, data, start, end, next);\n    } else {\n      append(buffer, data, start, end, done);\n    }\n  }\n  loadNextChunk();\n}\n\nfunction stringMd5(string) {\n  return Md5.hash(string);\n}\n\nfunction rev(doc, deterministic_revs) {\n  var clonedDoc = clone(doc);\n  if (!deterministic_revs) {\n    return v4().replace(/-/g, '').toLowerCase();\n  }\n\n  delete clonedDoc._rev_tree;\n  return stringMd5(JSON.stringify(clonedDoc));\n}\n\nvar uuid = v4; // mimic old import, only v4 is ever used elsewhere\n\n// We fetch all leafs of the revision tree, and sort them based on tree length\n// and whether they were deleted, undeleted documents with the longest revision\n// tree (most edits) win\n// The final sort algorithm is slightly documented in a sidebar here:\n// http://guide.couchdb.org/draft/conflicts.html\nfunction winningRev(metadata) {\n  var winningId;\n  var winningPos;\n  var winningDeleted;\n  var toVisit = metadata.rev_tree.slice();\n  var node;\n  while ((node = toVisit.pop())) {\n    var tree = node.ids;\n    var branches = tree[2];\n    var pos = node.pos;\n    if (branches.length) { // non-leaf\n      for (var i = 0, len = branches.length; i < len; i++) {\n        toVisit.push({pos: pos + 1, ids: branches[i]});\n      }\n      continue;\n    }\n    var deleted = !!tree[1].deleted;\n    var id = tree[0];\n    // sort by deleted, then pos, then id\n    if (!winningId || (winningDeleted !== deleted ? winningDeleted :\n        winningPos !== pos ? winningPos < pos : winningId < id)) {\n      winningId = id;\n      winningPos = pos;\n      winningDeleted = deleted;\n    }\n  }\n\n  return winningPos + '-' + winningId;\n}\n\n// Pretty much all below can be combined into a higher order function to\n// traverse revisions\n// The return value from the callback will be passed as context to all\n// children of that node\nfunction traverseRevTree(revs, callback) {\n  var toVisit = revs.slice();\n\n  var node;\n  while ((node = toVisit.pop())) {\n    var pos = node.pos;\n    var tree = node.ids;\n    var branches = tree[2];\n    var newCtx =\n      callback(branches.length === 0, pos, tree[0], node.ctx, tree[1]);\n    for (var i = 0, len = branches.length; i < len; i++) {\n      toVisit.push({pos: pos + 1, ids: branches[i], ctx: newCtx});\n    }\n  }\n}\n\nfunction sortByPos(a, b) {\n  return a.pos - b.pos;\n}\n\nfunction collectLeaves(revs) {\n  var leaves = [];\n  traverseRevTree(revs, function (isLeaf, pos, id, acc, opts) {\n    if (isLeaf) {\n      leaves.push({rev: pos + \"-\" + id, pos: pos, opts: opts});\n    }\n  });\n  leaves.sort(sortByPos).reverse();\n  for (var i = 0, len = leaves.length; i < len; i++) {\n    delete leaves[i].pos;\n  }\n  return leaves;\n}\n\n// returns revs of all conflicts that is leaves such that\n// 1. are not deleted and\n// 2. are different than winning revision\nfunction collectConflicts(metadata) {\n  var win = winningRev(metadata);\n  var leaves = collectLeaves(metadata.rev_tree);\n  var conflicts = [];\n  for (var i = 0, len = leaves.length; i < len; i++) {\n    var leaf = leaves[i];\n    if (leaf.rev !== win && !leaf.opts.deleted) {\n      conflicts.push(leaf.rev);\n    }\n  }\n  return conflicts;\n}\n\n// compact a tree by marking its non-leafs as missing,\n// and return a list of revs to delete\nfunction compactTree(metadata) {\n  var revs = [];\n  traverseRevTree(metadata.rev_tree, function (isLeaf, pos,\n                                               revHash, ctx, opts) {\n    if (opts.status === 'available' && !isLeaf) {\n      revs.push(pos + '-' + revHash);\n      opts.status = 'missing';\n    }\n  });\n  return revs;\n}\n\n// build up a list of all the paths to the leafs in this revision tree\nfunction rootToLeaf(revs) {\n  var paths = [];\n  var toVisit = revs.slice();\n  var node;\n  while ((node = toVisit.pop())) {\n    var pos = node.pos;\n    var tree = node.ids;\n    var id = tree[0];\n    var opts = tree[1];\n    var branches = tree[2];\n    var isLeaf = branches.length === 0;\n\n    var history = node.history ? node.history.slice() : [];\n    history.push({id: id, opts: opts});\n    if (isLeaf) {\n      paths.push({pos: (pos + 1 - history.length), ids: history});\n    }\n    for (var i = 0, len = branches.length; i < len; i++) {\n      toVisit.push({pos: pos + 1, ids: branches[i], history: history});\n    }\n  }\n  return paths.reverse();\n}\n\n// for a better overview of what this is doing, read:\n\nfunction sortByPos$1(a, b) {\n  return a.pos - b.pos;\n}\n\n// classic binary search\nfunction binarySearch(arr, item, comparator) {\n  var low = 0;\n  var high = arr.length;\n  var mid;\n  while (low < high) {\n    mid = (low + high) >>> 1;\n    if (comparator(arr[mid], item) < 0) {\n      low = mid + 1;\n    } else {\n      high = mid;\n    }\n  }\n  return low;\n}\n\n// assuming the arr is sorted, insert the item in the proper place\nfunction insertSorted(arr, item, comparator) {\n  var idx = binarySearch(arr, item, comparator);\n  arr.splice(idx, 0, item);\n}\n\n// Turn a path as a flat array into a tree with a single branch.\n// If any should be stemmed from the beginning of the array, that's passed\n// in as the second argument\nfunction pathToTree(path, numStemmed) {\n  var root;\n  var leaf;\n  for (var i = numStemmed, len = path.length; i < len; i++) {\n    var node = path[i];\n    var currentLeaf = [node.id, node.opts, []];\n    if (leaf) {\n      leaf[2].push(currentLeaf);\n      leaf = currentLeaf;\n    } else {\n      root = leaf = currentLeaf;\n    }\n  }\n  return root;\n}\n\n// compare the IDs of two trees\nfunction compareTree(a, b) {\n  return a[0] < b[0] ? -1 : 1;\n}\n\n// Merge two trees together\n// The roots of tree1 and tree2 must be the same revision\nfunction mergeTree(in_tree1, in_tree2) {\n  var queue = [{tree1: in_tree1, tree2: in_tree2}];\n  var conflicts = false;\n  while (queue.length > 0) {\n    var item = queue.pop();\n    var tree1 = item.tree1;\n    var tree2 = item.tree2;\n\n    if (tree1[1].status || tree2[1].status) {\n      tree1[1].status =\n        (tree1[1].status ===  'available' ||\n        tree2[1].status === 'available') ? 'available' : 'missing';\n    }\n\n    for (var i = 0; i < tree2[2].length; i++) {\n      if (!tree1[2][0]) {\n        conflicts = 'new_leaf';\n        tree1[2][0] = tree2[2][i];\n        continue;\n      }\n\n      var merged = false;\n      for (var j = 0; j < tree1[2].length; j++) {\n        if (tree1[2][j][0] === tree2[2][i][0]) {\n          queue.push({tree1: tree1[2][j], tree2: tree2[2][i]});\n          merged = true;\n        }\n      }\n      if (!merged) {\n        conflicts = 'new_branch';\n        insertSorted(tree1[2], tree2[2][i], compareTree);\n      }\n    }\n  }\n  return {conflicts: conflicts, tree: in_tree1};\n}\n\nfunction doMerge(tree, path, dontExpand) {\n  var restree = [];\n  var conflicts = false;\n  var merged = false;\n  var res;\n\n  if (!tree.length) {\n    return {tree: [path], conflicts: 'new_leaf'};\n  }\n\n  for (var i = 0, len = tree.length; i < len; i++) {\n    var branch = tree[i];\n    if (branch.pos === path.pos && branch.ids[0] === path.ids[0]) {\n      // Paths start at the same position and have the same root, so they need\n      // merged\n      res = mergeTree(branch.ids, path.ids);\n      restree.push({pos: branch.pos, ids: res.tree});\n      conflicts = conflicts || res.conflicts;\n      merged = true;\n    } else if (dontExpand !== true) {\n      // The paths start at a different position, take the earliest path and\n      // traverse up until it as at the same point from root as the path we\n      // want to merge.  If the keys match we return the longer path with the\n      // other merged After stemming we dont want to expand the trees\n\n      var t1 = branch.pos < path.pos ? branch : path;\n      var t2 = branch.pos < path.pos ? path : branch;\n      var diff = t2.pos - t1.pos;\n\n      var candidateParents = [];\n\n      var trees = [];\n      trees.push({ids: t1.ids, diff: diff, parent: null, parentIdx: null});\n      while (trees.length > 0) {\n        var item = trees.pop();\n        if (item.diff === 0) {\n          if (item.ids[0] === t2.ids[0]) {\n            candidateParents.push(item);\n          }\n          continue;\n        }\n        var elements = item.ids[2];\n        for (var j = 0, elementsLen = elements.length; j < elementsLen; j++) {\n          trees.push({\n            ids: elements[j],\n            diff: item.diff - 1,\n            parent: item.ids,\n            parentIdx: j\n          });\n        }\n      }\n\n      var el = candidateParents[0];\n\n      if (!el) {\n        restree.push(branch);\n      } else {\n        res = mergeTree(el.ids, t2.ids);\n        el.parent[2][el.parentIdx] = res.tree;\n        restree.push({pos: t1.pos, ids: t1.ids});\n        conflicts = conflicts || res.conflicts;\n        merged = true;\n      }\n    } else {\n      restree.push(branch);\n    }\n  }\n\n  // We didnt find\n  if (!merged) {\n    restree.push(path);\n  }\n\n  restree.sort(sortByPos$1);\n\n  return {\n    tree: restree,\n    conflicts: conflicts || 'internal_node'\n  };\n}\n\n// To ensure we dont grow the revision tree infinitely, we stem old revisions\nfunction stem(tree, depth) {\n  // First we break out the tree into a complete list of root to leaf paths\n  var paths = rootToLeaf(tree);\n  var stemmedRevs;\n\n  var result;\n  for (var i = 0, len = paths.length; i < len; i++) {\n    // Then for each path, we cut off the start of the path based on the\n    // `depth` to stem to, and generate a new set of flat trees\n    var path = paths[i];\n    var stemmed = path.ids;\n    var node;\n    if (stemmed.length > depth) {\n      // only do the stemming work if we actually need to stem\n      if (!stemmedRevs) {\n        stemmedRevs = {}; // avoid allocating this object unnecessarily\n      }\n      var numStemmed = stemmed.length - depth;\n      node = {\n        pos: path.pos + numStemmed,\n        ids: pathToTree(stemmed, numStemmed)\n      };\n\n      for (var s = 0; s < numStemmed; s++) {\n        var rev = (path.pos + s) + '-' + stemmed[s].id;\n        stemmedRevs[rev] = true;\n      }\n    } else { // no need to actually stem\n      node = {\n        pos: path.pos,\n        ids: pathToTree(stemmed, 0)\n      };\n    }\n\n    // Then we remerge all those flat trees together, ensuring that we dont\n    // connect trees that would go beyond the depth limit\n    if (result) {\n      result = doMerge(result, node, true).tree;\n    } else {\n      result = [node];\n    }\n  }\n\n  // this is memory-heavy per Chrome profiler, avoid unless we actually stemmed\n  if (stemmedRevs) {\n    traverseRevTree(result, function (isLeaf, pos, revHash) {\n      // some revisions may have been removed in a branch but not in another\n      delete stemmedRevs[pos + '-' + revHash];\n    });\n  }\n\n  return {\n    tree: result,\n    revs: stemmedRevs ? Object.keys(stemmedRevs) : []\n  };\n}\n\nfunction merge(tree, path, depth) {\n  var newTree = doMerge(tree, path);\n  var stemmed = stem(newTree.tree, depth);\n  return {\n    tree: stemmed.tree,\n    stemmedRevs: stemmed.revs,\n    conflicts: newTree.conflicts\n  };\n}\n\n// return true if a rev exists in the rev tree, false otherwise\nfunction revExists(revs, rev) {\n  var toVisit = revs.slice();\n  var splitRev = rev.split('-');\n  var targetPos = parseInt(splitRev[0], 10);\n  var targetId = splitRev[1];\n\n  var node;\n  while ((node = toVisit.pop())) {\n    if (node.pos === targetPos && node.ids[0] === targetId) {\n      return true;\n    }\n    var branches = node.ids[2];\n    for (var i = 0, len = branches.length; i < len; i++) {\n      toVisit.push({pos: node.pos + 1, ids: branches[i]});\n    }\n  }\n  return false;\n}\n\nfunction getTrees(node) {\n  return node.ids;\n}\n\n// check if a specific revision of a doc has been deleted\n//  - metadata: the metadata object from the doc store\n//  - rev: (optional) the revision to check. defaults to winning revision\nfunction isDeleted(metadata, rev) {\n  if (!rev) {\n    rev = winningRev(metadata);\n  }\n  var id = rev.substring(rev.indexOf('-') + 1);\n  var toVisit = metadata.rev_tree.map(getTrees);\n\n  var tree;\n  while ((tree = toVisit.pop())) {\n    if (tree[0] === id) {\n      return !!tree[1].deleted;\n    }\n    toVisit = toVisit.concat(tree[2]);\n  }\n}\n\nfunction isLocalId(id) {\n  return (/^_local/).test(id);\n}\n\n// returns the current leaf node for a given revision\nfunction latest(rev, metadata) {\n  var toVisit = metadata.rev_tree.slice();\n  var node;\n  while ((node = toVisit.pop())) {\n    var pos = node.pos;\n    var tree = node.ids;\n    var id = tree[0];\n    var opts = tree[1];\n    var branches = tree[2];\n    var isLeaf = branches.length === 0;\n\n    var history = node.history ? node.history.slice() : [];\n    history.push({id: id, pos: pos, opts: opts});\n\n    if (isLeaf) {\n      for (var i = 0, len = history.length; i < len; i++) {\n        var historyNode = history[i];\n        var historyRev = historyNode.pos + '-' + historyNode.id;\n\n        if (historyRev === rev) {\n          // return the rev of this leaf\n          return pos + '-' + id;\n        }\n      }\n    }\n\n    for (var j = 0, l = branches.length; j < l; j++) {\n      toVisit.push({pos: pos + 1, ids: branches[j], history: history});\n    }\n  }\n\n  /* istanbul ignore next */\n  throw new Error('Unable to resolve latest revision for id ' + metadata.id + ', rev ' + rev);\n}\n\ninherits(Changes$1, EE);\n\nfunction tryCatchInChangeListener(self, change, pending, lastSeq) {\n  // isolate try/catches to avoid V8 deoptimizations\n  try {\n    self.emit('change', change, pending, lastSeq);\n  } catch (e) {\n    guardedConsole('error', 'Error in .on(\"change\", function):', e);\n  }\n}\n\nfunction Changes$1(db, opts, callback) {\n  EE.call(this);\n  var self = this;\n  this.db = db;\n  opts = opts ? clone(opts) : {};\n  var complete = opts.complete = once(function (err, resp) {\n    if (err) {\n      if (listenerCount(self, 'error') > 0) {\n        self.emit('error', err);\n      }\n    } else {\n      self.emit('complete', resp);\n    }\n    self.removeAllListeners();\n    db.removeListener('destroyed', onDestroy);\n  });\n  if (callback) {\n    self.on('complete', function (resp) {\n      callback(null, resp);\n    });\n    self.on('error', callback);\n  }\n  function onDestroy() {\n    self.cancel();\n  }\n  db.once('destroyed', onDestroy);\n\n  opts.onChange = function (change, pending, lastSeq) {\n    /* istanbul ignore if */\n    if (self.isCancelled) {\n      return;\n    }\n    tryCatchInChangeListener(self, change, pending, lastSeq);\n  };\n\n  var promise = new Promise(function (fulfill, reject) {\n    opts.complete = function (err, res) {\n      if (err) {\n        reject(err);\n      } else {\n        fulfill(res);\n      }\n    };\n  });\n  self.once('cancel', function () {\n    db.removeListener('destroyed', onDestroy);\n    opts.complete(null, {status: 'cancelled'});\n  });\n  this.then = promise.then.bind(promise);\n  this['catch'] = promise['catch'].bind(promise);\n  this.then(function (result) {\n    complete(null, result);\n  }, complete);\n\n\n\n  if (!db.taskqueue.isReady) {\n    db.taskqueue.addTask(function (failed) {\n      if (failed) {\n        opts.complete(failed);\n      } else if (self.isCancelled) {\n        self.emit('cancel');\n      } else {\n        self.validateChanges(opts);\n      }\n    });\n  } else {\n    self.validateChanges(opts);\n  }\n}\nChanges$1.prototype.cancel = function () {\n  this.isCancelled = true;\n  if (this.db.taskqueue.isReady) {\n    this.emit('cancel');\n  }\n};\nfunction processChange(doc, metadata, opts) {\n  var changeList = [{rev: doc._rev}];\n  if (opts.style === 'all_docs') {\n    changeList = collectLeaves(metadata.rev_tree)\n    .map(function (x) { return {rev: x.rev}; });\n  }\n  var change = {\n    id: metadata.id,\n    changes: changeList,\n    doc: doc\n  };\n\n  if (isDeleted(metadata, doc._rev)) {\n    change.deleted = true;\n  }\n  if (opts.conflicts) {\n    change.doc._conflicts = collectConflicts(metadata);\n    if (!change.doc._conflicts.length) {\n      delete change.doc._conflicts;\n    }\n  }\n  return change;\n}\n\nChanges$1.prototype.validateChanges = function (opts) {\n  var callback = opts.complete;\n  var self = this;\n\n  /* istanbul ignore else */\n  if (PouchDB._changesFilterPlugin) {\n    PouchDB._changesFilterPlugin.validate(opts, function (err) {\n      if (err) {\n        return callback(err);\n      }\n      self.doChanges(opts);\n    });\n  } else {\n    self.doChanges(opts);\n  }\n};\n\nChanges$1.prototype.doChanges = function (opts) {\n  var self = this;\n  var callback = opts.complete;\n\n  opts = clone(opts);\n  if ('live' in opts && !('continuous' in opts)) {\n    opts.continuous = opts.live;\n  }\n  opts.processChange = processChange;\n\n  if (opts.since === 'latest') {\n    opts.since = 'now';\n  }\n  if (!opts.since) {\n    opts.since = 0;\n  }\n  if (opts.since === 'now') {\n    this.db.info().then(function (info) {\n      /* istanbul ignore if */\n      if (self.isCancelled) {\n        callback(null, {status: 'cancelled'});\n        return;\n      }\n      opts.since = info.update_seq;\n      self.doChanges(opts);\n    }, callback);\n    return;\n  }\n\n  /* istanbul ignore else */\n  if (PouchDB._changesFilterPlugin) {\n    PouchDB._changesFilterPlugin.normalize(opts);\n    if (PouchDB._changesFilterPlugin.shouldFilter(this, opts)) {\n      return PouchDB._changesFilterPlugin.filter(this, opts);\n    }\n  } else {\n    ['doc_ids', 'filter', 'selector', 'view'].forEach(function (key) {\n      if (key in opts) {\n        guardedConsole('warn',\n          'The \"' + key + '\" option was passed in to changes/replicate, ' +\n          'but pouchdb-changes-filter plugin is not installed, so it ' +\n          'was ignored. Please install the plugin to enable filtering.'\n        );\n      }\n    });\n  }\n\n  if (!('descending' in opts)) {\n    opts.descending = false;\n  }\n\n  // 0 and 1 should return 1 document\n  opts.limit = opts.limit === 0 ? 1 : opts.limit;\n  opts.complete = callback;\n  var newPromise = this.db._changes(opts);\n  /* istanbul ignore else */\n  if (newPromise && typeof newPromise.cancel === 'function') {\n    var cancel = self.cancel;\n    self.cancel = getArguments(function (args) {\n      newPromise.cancel();\n      cancel.apply(this, args);\n    });\n  }\n};\n\n/*\n * A generic pouch adapter\n */\n\nfunction compare(left, right) {\n  return left < right ? -1 : left > right ? 1 : 0;\n}\n\n// Wrapper for functions that call the bulkdocs api with a single doc,\n// if the first result is an error, return an error\nfunction yankError(callback, docId) {\n  return function (err, results) {\n    if (err || (results[0] && results[0].error)) {\n      err = err || results[0];\n      err.docId = docId;\n      callback(err);\n    } else {\n      callback(null, results.length ? results[0]  : results);\n    }\n  };\n}\n\n// clean docs given to us by the user\nfunction cleanDocs(docs) {\n  for (var i = 0; i < docs.length; i++) {\n    var doc = docs[i];\n    if (doc._deleted) {\n      delete doc._attachments; // ignore atts for deleted docs\n    } else if (doc._attachments) {\n      // filter out extraneous keys from _attachments\n      var atts = Object.keys(doc._attachments);\n      for (var j = 0; j < atts.length; j++) {\n        var att = atts[j];\n        doc._attachments[att] = pick(doc._attachments[att],\n          ['data', 'digest', 'content_type', 'length', 'revpos', 'stub']);\n      }\n    }\n  }\n}\n\n// compare two docs, first by _id then by _rev\nfunction compareByIdThenRev(a, b) {\n  var idCompare = compare(a._id, b._id);\n  if (idCompare !== 0) {\n    return idCompare;\n  }\n  var aStart = a._revisions ? a._revisions.start : 0;\n  var bStart = b._revisions ? b._revisions.start : 0;\n  return compare(aStart, bStart);\n}\n\n// for every node in a revision tree computes its distance from the closest\n// leaf\nfunction computeHeight(revs) {\n  var height = {};\n  var edges = [];\n  traverseRevTree(revs, function (isLeaf, pos, id, prnt) {\n    var rev$$1 = pos + \"-\" + id;\n    if (isLeaf) {\n      height[rev$$1] = 0;\n    }\n    if (prnt !== undefined) {\n      edges.push({from: prnt, to: rev$$1});\n    }\n    return rev$$1;\n  });\n\n  edges.reverse();\n  edges.forEach(function (edge) {\n    if (height[edge.from] === undefined) {\n      height[edge.from] = 1 + height[edge.to];\n    } else {\n      height[edge.from] = Math.min(height[edge.from], 1 + height[edge.to]);\n    }\n  });\n  return height;\n}\n\nfunction allDocsKeysParse(opts) {\n  var keys =  ('limit' in opts) ?\n    opts.keys.slice(opts.skip, opts.limit + opts.skip) :\n    (opts.skip > 0) ? opts.keys.slice(opts.skip) : opts.keys;\n  opts.keys = keys;\n  opts.skip = 0;\n  delete opts.limit;\n  if (opts.descending) {\n    keys.reverse();\n    opts.descending = false;\n  }\n}\n\n// all compaction is done in a queue, to avoid attaching\n// too many listeners at once\nfunction doNextCompaction(self) {\n  var task = self._compactionQueue[0];\n  var opts = task.opts;\n  var callback = task.callback;\n  self.get('_local/compaction').catch(function () {\n    return false;\n  }).then(function (doc) {\n    if (doc && doc.last_seq) {\n      opts.last_seq = doc.last_seq;\n    }\n    self._compact(opts, function (err, res) {\n      /* istanbul ignore if */\n      if (err) {\n        callback(err);\n      } else {\n        callback(null, res);\n      }\n      immediate(function () {\n        self._compactionQueue.shift();\n        if (self._compactionQueue.length) {\n          doNextCompaction(self);\n        }\n      });\n    });\n  });\n}\n\nfunction attachmentNameError(name) {\n  if (name.charAt(0) === '_') {\n    return name + ' is not a valid attachment name, attachment ' +\n      'names cannot start with \\'_\\'';\n  }\n  return false;\n}\n\ninherits(AbstractPouchDB, EE);\n\nfunction AbstractPouchDB() {\n  EE.call(this);\n\n  // re-bind prototyped methods\n  for (var p in AbstractPouchDB.prototype) {\n    if (typeof this[p] === 'function') {\n      this[p] = this[p].bind(this);\n    }\n  }\n}\n\nAbstractPouchDB.prototype.post =\n  adapterFun('post', function (doc, opts, callback) {\n  if (typeof opts === 'function') {\n    callback = opts;\n    opts = {};\n  }\n  if (typeof doc !== 'object' || Array.isArray(doc)) {\n    return callback(createError(NOT_AN_OBJECT));\n  }\n  this.bulkDocs({docs: [doc]}, opts, yankError(callback, doc._id));\n});\n\nAbstractPouchDB.prototype.put = adapterFun('put', function (doc, opts, cb) {\n  if (typeof opts === 'function') {\n    cb = opts;\n    opts = {};\n  }\n  if (typeof doc !== 'object' || Array.isArray(doc)) {\n    return cb(createError(NOT_AN_OBJECT));\n  }\n  invalidIdError(doc._id);\n  if (isLocalId(doc._id) && typeof this._putLocal === 'function') {\n    if (doc._deleted) {\n      return this._removeLocal(doc, cb);\n    } else {\n      return this._putLocal(doc, cb);\n    }\n  }\n  var self = this;\n  if (opts.force && doc._rev) {\n    transformForceOptionToNewEditsOption();\n    putDoc(function (err) {\n      var result = err ? null : {ok: true, id: doc._id, rev: doc._rev};\n      cb(err, result);\n    });\n  } else {\n    putDoc(cb);\n  }\n\n  function transformForceOptionToNewEditsOption() {\n    var parts = doc._rev.split('-');\n    var oldRevId = parts[1];\n    var oldRevNum = parseInt(parts[0], 10);\n\n    var newRevNum = oldRevNum + 1;\n    var newRevId = rev();\n\n    doc._revisions = {\n      start: newRevNum,\n      ids: [newRevId, oldRevId]\n    };\n    doc._rev = newRevNum + '-' + newRevId;\n    opts.new_edits = false;\n  }\n  function putDoc(next) {\n    if (typeof self._put === 'function' && opts.new_edits !== false) {\n      self._put(doc, opts, next);\n    } else {\n      self.bulkDocs({docs: [doc]}, opts, yankError(next, doc._id));\n    }\n  }\n});\n\nAbstractPouchDB.prototype.putAttachment =\n  adapterFun('putAttachment', function (docId, attachmentId, rev$$1,\n                                              blob, type) {\n  var api = this;\n  if (typeof type === 'function') {\n    type = blob;\n    blob = rev$$1;\n    rev$$1 = null;\n  }\n  // Lets fix in https://github.com/pouchdb/pouchdb/issues/3267\n  /* istanbul ignore if */\n  if (typeof type === 'undefined') {\n    type = blob;\n    blob = rev$$1;\n    rev$$1 = null;\n  }\n  if (!type) {\n    guardedConsole('warn', 'Attachment', attachmentId, 'on document', docId, 'is missing content_type');\n  }\n\n  function createAttachment(doc) {\n    var prevrevpos = '_rev' in doc ? parseInt(doc._rev, 10) : 0;\n    doc._attachments = doc._attachments || {};\n    doc._attachments[attachmentId] = {\n      content_type: type,\n      data: blob,\n      revpos: ++prevrevpos\n    };\n    return api.put(doc);\n  }\n\n  return api.get(docId).then(function (doc) {\n    if (doc._rev !== rev$$1) {\n      throw createError(REV_CONFLICT);\n    }\n\n    return createAttachment(doc);\n  }, function (err) {\n     // create new doc\n    /* istanbul ignore else */\n    if (err.reason === MISSING_DOC.message) {\n      return createAttachment({_id: docId});\n    } else {\n      throw err;\n    }\n  });\n});\n\nAbstractPouchDB.prototype.removeAttachment =\n  adapterFun('removeAttachment', function (docId, attachmentId, rev$$1,\n                                                 callback) {\n  var self = this;\n  self.get(docId, function (err, obj) {\n    /* istanbul ignore if */\n    if (err) {\n      callback(err);\n      return;\n    }\n    if (obj._rev !== rev$$1) {\n      callback(createError(REV_CONFLICT));\n      return;\n    }\n    /* istanbul ignore if */\n    if (!obj._attachments) {\n      return callback();\n    }\n    delete obj._attachments[attachmentId];\n    if (Object.keys(obj._attachments).length === 0) {\n      delete obj._attachments;\n    }\n    self.put(obj, callback);\n  });\n});\n\nAbstractPouchDB.prototype.remove =\n  adapterFun('remove', function (docOrId, optsOrRev, opts, callback) {\n  var doc;\n  if (typeof optsOrRev === 'string') {\n    // id, rev, opts, callback style\n    doc = {\n      _id: docOrId,\n      _rev: optsOrRev\n    };\n    if (typeof opts === 'function') {\n      callback = opts;\n      opts = {};\n    }\n  } else {\n    // doc, opts, callback style\n    doc = docOrId;\n    if (typeof optsOrRev === 'function') {\n      callback = optsOrRev;\n      opts = {};\n    } else {\n      callback = opts;\n      opts = optsOrRev;\n    }\n  }\n  opts = opts || {};\n  opts.was_delete = true;\n  var newDoc = {_id: doc._id, _rev: (doc._rev || opts.rev)};\n  newDoc._deleted = true;\n  if (isLocalId(newDoc._id) && typeof this._removeLocal === 'function') {\n    return this._removeLocal(doc, callback);\n  }\n  this.bulkDocs({docs: [newDoc]}, opts, yankError(callback, newDoc._id));\n});\n\nAbstractPouchDB.prototype.revsDiff =\n  adapterFun('revsDiff', function (req, opts, callback) {\n  if (typeof opts === 'function') {\n    callback = opts;\n    opts = {};\n  }\n  var ids = Object.keys(req);\n\n  if (!ids.length) {\n    return callback(null, {});\n  }\n\n  var count = 0;\n  var missing = new ExportedMap();\n\n  function addToMissing(id, revId) {\n    if (!missing.has(id)) {\n      missing.set(id, {missing: []});\n    }\n    missing.get(id).missing.push(revId);\n  }\n\n  function processDoc(id, rev_tree) {\n    // Is this fast enough? Maybe we should switch to a set simulated by a map\n    var missingForId = req[id].slice(0);\n    traverseRevTree(rev_tree, function (isLeaf, pos, revHash, ctx,\n      opts) {\n        var rev$$1 = pos + '-' + revHash;\n        var idx = missingForId.indexOf(rev$$1);\n        if (idx === -1) {\n          return;\n        }\n\n        missingForId.splice(idx, 1);\n        /* istanbul ignore if */\n        if (opts.status !== 'available') {\n          addToMissing(id, rev$$1);\n        }\n      });\n\n    // Traversing the tree is synchronous, so now `missingForId` contains\n    // revisions that were not found in the tree\n    missingForId.forEach(function (rev$$1) {\n      addToMissing(id, rev$$1);\n    });\n  }\n\n  ids.map(function (id) {\n    this._getRevisionTree(id, function (err, rev_tree) {\n      if (err && err.status === 404 && err.message === 'missing') {\n        missing.set(id, {missing: req[id]});\n      } else if (err) {\n        /* istanbul ignore next */\n        return callback(err);\n      } else {\n        processDoc(id, rev_tree);\n      }\n\n      if (++count === ids.length) {\n        // convert LazyMap to object\n        var missingObj = {};\n        missing.forEach(function (value, key) {\n          missingObj[key] = value;\n        });\n        return callback(null, missingObj);\n      }\n    });\n  }, this);\n});\n\n// _bulk_get API for faster replication, as described in\n// https://github.com/apache/couchdb-chttpd/pull/33\n// At the \"abstract\" level, it will just run multiple get()s in\n// parallel, because this isn't much of a performance cost\n// for local databases (except the cost of multiple transactions, which is\n// small). The http adapter overrides this in order\n// to do a more efficient single HTTP request.\nAbstractPouchDB.prototype.bulkGet =\n  adapterFun('bulkGet', function (opts, callback) {\n  bulkGet(this, opts, callback);\n});\n\n// compact one document and fire callback\n// by compacting we mean removing all revisions which\n// are further from the leaf in revision tree than max_height\nAbstractPouchDB.prototype.compactDocument =\n  adapterFun('compactDocument', function (docId, maxHeight, callback) {\n  var self = this;\n  this._getRevisionTree(docId, function (err, revTree) {\n    /* istanbul ignore if */\n    if (err) {\n      return callback(err);\n    }\n    var height = computeHeight(revTree);\n    var candidates = [];\n    var revs = [];\n    Object.keys(height).forEach(function (rev$$1) {\n      if (height[rev$$1] > maxHeight) {\n        candidates.push(rev$$1);\n      }\n    });\n\n    traverseRevTree(revTree, function (isLeaf, pos, revHash, ctx, opts) {\n      var rev$$1 = pos + '-' + revHash;\n      if (opts.status === 'available' && candidates.indexOf(rev$$1) !== -1) {\n        revs.push(rev$$1);\n      }\n    });\n    self._doCompaction(docId, revs, callback);\n  });\n});\n\n// compact the whole database using single document\n// compaction\nAbstractPouchDB.prototype.compact =\n  adapterFun('compact', function (opts, callback) {\n  if (typeof opts === 'function') {\n    callback = opts;\n    opts = {};\n  }\n\n  var self = this;\n  opts = opts || {};\n\n  self._compactionQueue = self._compactionQueue || [];\n  self._compactionQueue.push({opts: opts, callback: callback});\n  if (self._compactionQueue.length === 1) {\n    doNextCompaction(self);\n  }\n});\nAbstractPouchDB.prototype._compact = function (opts, callback) {\n  var self = this;\n  var changesOpts = {\n    return_docs: false,\n    last_seq: opts.last_seq || 0\n  };\n  var promises = [];\n\n  function onChange(row) {\n    promises.push(self.compactDocument(row.id, 0));\n  }\n  function onComplete(resp) {\n    var lastSeq = resp.last_seq;\n    Promise.all(promises).then(function () {\n      return upsert(self, '_local/compaction', function deltaFunc(doc) {\n        if (!doc.last_seq || doc.last_seq < lastSeq) {\n          doc.last_seq = lastSeq;\n          return doc;\n        }\n        return false; // somebody else got here first, don't update\n      });\n    }).then(function () {\n      callback(null, {ok: true});\n    }).catch(callback);\n  }\n  self.changes(changesOpts)\n    .on('change', onChange)\n    .on('complete', onComplete)\n    .on('error', callback);\n};\n\n/* Begin api wrappers. Specific functionality to storage belongs in the\n   _[method] */\nAbstractPouchDB.prototype.get = adapterFun('get', function (id, opts, cb) {\n  if (typeof opts === 'function') {\n    cb = opts;\n    opts = {};\n  }\n  if (typeof id !== 'string') {\n    return cb(createError(INVALID_ID));\n  }\n  if (isLocalId(id) && typeof this._getLocal === 'function') {\n    return this._getLocal(id, cb);\n  }\n  var leaves = [], self = this;\n\n  function finishOpenRevs() {\n    var result = [];\n    var count = leaves.length;\n    /* istanbul ignore if */\n    if (!count) {\n      return cb(null, result);\n    }\n\n    // order with open_revs is unspecified\n    leaves.forEach(function (leaf) {\n      self.get(id, {\n        rev: leaf,\n        revs: opts.revs,\n        latest: opts.latest,\n        attachments: opts.attachments,\n        binary: opts.binary\n      }, function (err, doc) {\n        if (!err) {\n          // using latest=true can produce duplicates\n          var existing;\n          for (var i = 0, l = result.length; i < l; i++) {\n            if (result[i].ok && result[i].ok._rev === doc._rev) {\n              existing = true;\n              break;\n            }\n          }\n          if (!existing) {\n            result.push({ok: doc});\n          }\n        } else {\n          result.push({missing: leaf});\n        }\n        count--;\n        if (!count) {\n          cb(null, result);\n        }\n      });\n    });\n  }\n\n  if (opts.open_revs) {\n    if (opts.open_revs === \"all\") {\n      this._getRevisionTree(id, function (err, rev_tree) {\n        /* istanbul ignore if */\n        if (err) {\n          return cb(err);\n        }\n        leaves = collectLeaves(rev_tree).map(function (leaf) {\n          return leaf.rev;\n        });\n        finishOpenRevs();\n      });\n    } else {\n      if (Array.isArray(opts.open_revs)) {\n        leaves = opts.open_revs;\n        for (var i = 0; i < leaves.length; i++) {\n          var l = leaves[i];\n          // looks like it's the only thing couchdb checks\n          if (!(typeof (l) === \"string\" && /^\\d+-/.test(l))) {\n            return cb(createError(INVALID_REV));\n          }\n        }\n        finishOpenRevs();\n      } else {\n        return cb(createError(UNKNOWN_ERROR, 'function_clause'));\n      }\n    }\n    return; // open_revs does not like other options\n  }\n\n  return this._get(id, opts, function (err, result) {\n    if (err) {\n      err.docId = id;\n      return cb(err);\n    }\n\n    var doc = result.doc;\n    var metadata = result.metadata;\n    var ctx = result.ctx;\n\n    if (opts.conflicts) {\n      var conflicts = collectConflicts(metadata);\n      if (conflicts.length) {\n        doc._conflicts = conflicts;\n      }\n    }\n\n    if (isDeleted(metadata, doc._rev)) {\n      doc._deleted = true;\n    }\n\n    if (opts.revs || opts.revs_info) {\n      var splittedRev = doc._rev.split('-');\n      var revNo       = parseInt(splittedRev[0], 10);\n      var revHash     = splittedRev[1];\n\n      var paths = rootToLeaf(metadata.rev_tree);\n      var path = null;\n\n      for (var i = 0; i < paths.length; i++) {\n        var currentPath = paths[i];\n        var hashIndex = currentPath.ids.map(function (x) { return x.id; })\n          .indexOf(revHash);\n        var hashFoundAtRevPos = hashIndex === (revNo - 1);\n\n        if (hashFoundAtRevPos || (!path && hashIndex !== -1)) {\n          path = currentPath;\n        }\n      }\n\n      /* istanbul ignore if */\n      if (!path) {\n        err = new Error('invalid rev tree');\n        err.docId = id;\n        return cb(err);\n      }\n\n      var indexOfRev = path.ids.map(function (x) { return x.id; })\n        .indexOf(doc._rev.split('-')[1]) + 1;\n      var howMany = path.ids.length - indexOfRev;\n      path.ids.splice(indexOfRev, howMany);\n      path.ids.reverse();\n\n      if (opts.revs) {\n        doc._revisions = {\n          start: (path.pos + path.ids.length) - 1,\n          ids: path.ids.map(function (rev$$1) {\n            return rev$$1.id;\n          })\n        };\n      }\n      if (opts.revs_info) {\n        var pos =  path.pos + path.ids.length;\n        doc._revs_info = path.ids.map(function (rev$$1) {\n          pos--;\n          return {\n            rev: pos + '-' + rev$$1.id,\n            status: rev$$1.opts.status\n          };\n        });\n      }\n    }\n\n    if (opts.attachments && doc._attachments) {\n      var attachments = doc._attachments;\n      var count = Object.keys(attachments).length;\n      if (count === 0) {\n        return cb(null, doc);\n      }\n      Object.keys(attachments).forEach(function (key) {\n        this._getAttachment(doc._id, key, attachments[key], {\n          // Previously the revision handling was done in adapter.js\n          // getAttachment, however since idb-next doesnt we need to\n          // pass the rev through\n          rev: doc._rev,\n          binary: opts.binary,\n          ctx: ctx\n        }, function (err, data) {\n          var att = doc._attachments[key];\n          att.data = data;\n          delete att.stub;\n          delete att.length;\n          if (!--count) {\n            cb(null, doc);\n          }\n        });\n      }, self);\n    } else {\n      if (doc._attachments) {\n        for (var key in doc._attachments) {\n          /* istanbul ignore else */\n          if (doc._attachments.hasOwnProperty(key)) {\n            doc._attachments[key].stub = true;\n          }\n        }\n      }\n      cb(null, doc);\n    }\n  });\n});\n\n// TODO: I dont like this, it forces an extra read for every\n// attachment read and enforces a confusing api between\n// adapter.js and the adapter implementation\nAbstractPouchDB.prototype.getAttachment =\n  adapterFun('getAttachment', function (docId, attachmentId, opts, callback) {\n  var self = this;\n  if (opts instanceof Function) {\n    callback = opts;\n    opts = {};\n  }\n  this._get(docId, opts, function (err, res) {\n    if (err) {\n      return callback(err);\n    }\n    if (res.doc._attachments && res.doc._attachments[attachmentId]) {\n      opts.ctx = res.ctx;\n      opts.binary = true;\n      self._getAttachment(docId, attachmentId,\n                          res.doc._attachments[attachmentId], opts, callback);\n    } else {\n      return callback(createError(MISSING_DOC));\n    }\n  });\n});\n\nAbstractPouchDB.prototype.allDocs =\n  adapterFun('allDocs', function (opts, callback) {\n  if (typeof opts === 'function') {\n    callback = opts;\n    opts = {};\n  }\n  opts.skip = typeof opts.skip !== 'undefined' ? opts.skip : 0;\n  if (opts.start_key) {\n    opts.startkey = opts.start_key;\n  }\n  if (opts.end_key) {\n    opts.endkey = opts.end_key;\n  }\n  if ('keys' in opts) {\n    if (!Array.isArray(opts.keys)) {\n      return callback(new TypeError('options.keys must be an array'));\n    }\n    var incompatibleOpt =\n      ['startkey', 'endkey', 'key'].filter(function (incompatibleOpt) {\n      return incompatibleOpt in opts;\n    })[0];\n    if (incompatibleOpt) {\n      callback(createError(QUERY_PARSE_ERROR,\n        'Query parameter `' + incompatibleOpt +\n        '` is not compatible with multi-get'\n      ));\n      return;\n    }\n    if (!isRemote(this)) {\n      allDocsKeysParse(opts);\n      if (opts.keys.length === 0) {\n        return this._allDocs({limit: 0}, callback);\n      }\n    }\n  }\n\n  return this._allDocs(opts, callback);\n});\n\nAbstractPouchDB.prototype.changes = function (opts, callback) {\n  if (typeof opts === 'function') {\n    callback = opts;\n    opts = {};\n  }\n\n  opts = opts || {};\n\n  // By default set return_docs to false if the caller has opts.live = true,\n  // this will prevent us from collecting the set of changes indefinitely\n  // resulting in growing memory\n  opts.return_docs = ('return_docs' in opts) ? opts.return_docs : !opts.live;\n\n  return new Changes$1(this, opts, callback);\n};\n\nAbstractPouchDB.prototype.close = adapterFun('close', function (callback) {\n  this._closed = true;\n  this.emit('closed');\n  return this._close(callback);\n});\n\nAbstractPouchDB.prototype.info = adapterFun('info', function (callback) {\n  var self = this;\n  this._info(function (err, info) {\n    if (err) {\n      return callback(err);\n    }\n    // assume we know better than the adapter, unless it informs us\n    info.db_name = info.db_name || self.name;\n    info.auto_compaction = !!(self.auto_compaction && !isRemote(self));\n    info.adapter = self.adapter;\n    callback(null, info);\n  });\n});\n\nAbstractPouchDB.prototype.id = adapterFun('id', function (callback) {\n  return this._id(callback);\n});\n\n/* istanbul ignore next */\nAbstractPouchDB.prototype.type = function () {\n  return (typeof this._type === 'function') ? this._type() : this.adapter;\n};\n\nAbstractPouchDB.prototype.bulkDocs =\n  adapterFun('bulkDocs', function (req, opts, callback) {\n  if (typeof opts === 'function') {\n    callback = opts;\n    opts = {};\n  }\n\n  opts = opts || {};\n\n  if (Array.isArray(req)) {\n    req = {\n      docs: req\n    };\n  }\n\n  if (!req || !req.docs || !Array.isArray(req.docs)) {\n    return callback(createError(MISSING_BULK_DOCS));\n  }\n\n  for (var i = 0; i < req.docs.length; ++i) {\n    if (typeof req.docs[i] !== 'object' || Array.isArray(req.docs[i])) {\n      return callback(createError(NOT_AN_OBJECT));\n    }\n  }\n\n  var attachmentError;\n  req.docs.forEach(function (doc) {\n    if (doc._attachments) {\n      Object.keys(doc._attachments).forEach(function (name) {\n        attachmentError = attachmentError || attachmentNameError(name);\n        if (!doc._attachments[name].content_type) {\n          guardedConsole('warn', 'Attachment', name, 'on document', doc._id, 'is missing content_type');\n        }\n      });\n    }\n  });\n\n  if (attachmentError) {\n    return callback(createError(BAD_REQUEST, attachmentError));\n  }\n\n  if (!('new_edits' in opts)) {\n    if ('new_edits' in req) {\n      opts.new_edits = req.new_edits;\n    } else {\n      opts.new_edits = true;\n    }\n  }\n\n  var adapter = this;\n  if (!opts.new_edits && !isRemote(adapter)) {\n    // ensure revisions of the same doc are sorted, so that\n    // the local adapter processes them correctly (#2935)\n    req.docs.sort(compareByIdThenRev);\n  }\n\n  cleanDocs(req.docs);\n\n  // in the case of conflicts, we want to return the _ids to the user\n  // however, the underlying adapter may destroy the docs array, so\n  // create a copy here\n  var ids = req.docs.map(function (doc) {\n    return doc._id;\n  });\n\n  return this._bulkDocs(req, opts, function (err, res) {\n    if (err) {\n      return callback(err);\n    }\n    if (!opts.new_edits) {\n      // this is what couch does when new_edits is false\n      res = res.filter(function (x) {\n        return x.error;\n      });\n    }\n    // add ids for error/conflict responses (not required for CouchDB)\n    if (!isRemote(adapter)) {\n      for (var i = 0, l = res.length; i < l; i++) {\n        res[i].id = res[i].id || ids[i];\n      }\n    }\n\n    callback(null, res);\n  });\n});\n\nAbstractPouchDB.prototype.registerDependentDatabase =\n  adapterFun('registerDependentDatabase', function (dependentDb,\n                                                          callback) {\n  var depDB = new this.constructor(dependentDb, this.__opts);\n\n  function diffFun(doc) {\n    doc.dependentDbs = doc.dependentDbs || {};\n    if (doc.dependentDbs[dependentDb]) {\n      return false; // no update required\n    }\n    doc.dependentDbs[dependentDb] = true;\n    return doc;\n  }\n  upsert(this, '_local/_pouch_dependentDbs', diffFun)\n    .then(function () {\n      callback(null, {db: depDB});\n    }).catch(callback);\n});\n\nAbstractPouchDB.prototype.destroy =\n  adapterFun('destroy', function (opts, callback) {\n\n  if (typeof opts === 'function') {\n    callback = opts;\n    opts = {};\n  }\n\n  var self = this;\n  var usePrefix = 'use_prefix' in self ? self.use_prefix : true;\n\n  function destroyDb() {\n    // call destroy method of the particular adaptor\n    self._destroy(opts, function (err, resp) {\n      if (err) {\n        return callback(err);\n      }\n      self._destroyed = true;\n      self.emit('destroyed');\n      callback(null, resp || { 'ok': true });\n    });\n  }\n\n  if (isRemote(self)) {\n    // no need to check for dependent DBs if it's a remote DB\n    return destroyDb();\n  }\n\n  self.get('_local/_pouch_dependentDbs', function (err, localDoc) {\n    if (err) {\n      /* istanbul ignore if */\n      if (err.status !== 404) {\n        return callback(err);\n      } else { // no dependencies\n        return destroyDb();\n      }\n    }\n    var dependentDbs = localDoc.dependentDbs;\n    var PouchDB = self.constructor;\n    var deletedMap = Object.keys(dependentDbs).map(function (name) {\n      // use_prefix is only false in the browser\n      /* istanbul ignore next */\n      var trueName = usePrefix ?\n        name.replace(new RegExp('^' + PouchDB.prefix), '') : name;\n      return new PouchDB(trueName, self.__opts).destroy();\n    });\n    Promise.all(deletedMap).then(destroyDb, callback);\n  });\n});\n\nfunction TaskQueue() {\n  this.isReady = false;\n  this.failed = false;\n  this.queue = [];\n}\n\nTaskQueue.prototype.execute = function () {\n  var fun;\n  if (this.failed) {\n    while ((fun = this.queue.shift())) {\n      fun(this.failed);\n    }\n  } else {\n    while ((fun = this.queue.shift())) {\n      fun();\n    }\n  }\n};\n\nTaskQueue.prototype.fail = function (err) {\n  this.failed = err;\n  this.execute();\n};\n\nTaskQueue.prototype.ready = function (db) {\n  this.isReady = true;\n  this.db = db;\n  this.execute();\n};\n\nTaskQueue.prototype.addTask = function (fun) {\n  this.queue.push(fun);\n  if (this.failed) {\n    this.execute();\n  }\n};\n\nfunction parseAdapter(name, opts) {\n  var match = name.match(/([a-z-]*):\\/\\/(.*)/);\n  if (match) {\n    // the http adapter expects the fully qualified name\n    return {\n      name: /https?/.test(match[1]) ? match[1] + '://' + match[2] : match[2],\n      adapter: match[1]\n    };\n  }\n\n  var adapters = PouchDB.adapters;\n  var preferredAdapters = PouchDB.preferredAdapters;\n  var prefix = PouchDB.prefix;\n  var adapterName = opts.adapter;\n\n  if (!adapterName) { // automatically determine adapter\n    for (var i = 0; i < preferredAdapters.length; ++i) {\n      adapterName = preferredAdapters[i];\n      // check for browsers that have been upgraded from websql-only to websql+idb\n      /* istanbul ignore if */\n      if (adapterName === 'idb' && 'websql' in adapters &&\n          hasLocalStorage() && localStorage['_pouch__websqldb_' + prefix + name]) {\n        // log it, because this can be confusing during development\n        guardedConsole('log', 'PouchDB is downgrading \"' + name + '\" to WebSQL to' +\n          ' avoid data loss, because it was already opened with WebSQL.');\n        continue; // keep using websql to avoid user data loss\n      }\n      break;\n    }\n  }\n\n  var adapter = adapters[adapterName];\n\n  // if adapter is invalid, then an error will be thrown later\n  var usePrefix = (adapter && 'use_prefix' in adapter) ?\n    adapter.use_prefix : true;\n\n  return {\n    name: usePrefix ? (prefix + name) : name,\n    adapter: adapterName\n  };\n}\n\n// OK, so here's the deal. Consider this code:\n//     var db1 = new PouchDB('foo');\n//     var db2 = new PouchDB('foo');\n//     db1.destroy();\n// ^ these two both need to emit 'destroyed' events,\n// as well as the PouchDB constructor itself.\n// So we have one db object (whichever one got destroy() called on it)\n// responsible for emitting the initial event, which then gets emitted\n// by the constructor, which then broadcasts it to any other dbs\n// that may have been created with the same name.\nfunction prepareForDestruction(self) {\n\n  function onDestroyed(from_constructor) {\n    self.removeListener('closed', onClosed);\n    if (!from_constructor) {\n      self.constructor.emit('destroyed', self.name);\n    }\n  }\n\n  function onClosed() {\n    self.removeListener('destroyed', onDestroyed);\n    self.constructor.emit('unref', self);\n  }\n\n  self.once('destroyed', onDestroyed);\n  self.once('closed', onClosed);\n  self.constructor.emit('ref', self);\n}\n\ninherits(PouchDB, AbstractPouchDB);\nfunction PouchDB(name, opts) {\n  // In Node our test suite only tests this for PouchAlt unfortunately\n  /* istanbul ignore if */\n  if (!(this instanceof PouchDB)) {\n    return new PouchDB(name, opts);\n  }\n\n  var self = this;\n  opts = opts || {};\n\n  if (name && typeof name === 'object') {\n    opts = name;\n    name = opts.name;\n    delete opts.name;\n  }\n\n  if (opts.deterministic_revs === undefined) {\n    opts.deterministic_revs = true;\n  }\n\n  this.__opts = opts = clone(opts);\n\n  self.auto_compaction = opts.auto_compaction;\n  self.prefix = PouchDB.prefix;\n\n  if (typeof name !== 'string') {\n    throw new Error('Missing/invalid DB name');\n  }\n\n  var prefixedName = (opts.prefix || '') + name;\n  var backend = parseAdapter(prefixedName, opts);\n\n  opts.name = backend.name;\n  opts.adapter = opts.adapter || backend.adapter;\n\n  self.name = name;\n  self._adapter = opts.adapter;\n  PouchDB.emit('debug', ['adapter', 'Picked adapter: ', opts.adapter]);\n\n  if (!PouchDB.adapters[opts.adapter] ||\n      !PouchDB.adapters[opts.adapter].valid()) {\n    throw new Error('Invalid Adapter: ' + opts.adapter);\n  }\n\n  AbstractPouchDB.call(self);\n  self.taskqueue = new TaskQueue();\n\n  self.adapter = opts.adapter;\n\n  PouchDB.adapters[opts.adapter].call(self, opts, function (err) {\n    if (err) {\n      return self.taskqueue.fail(err);\n    }\n    prepareForDestruction(self);\n\n    self.emit('created', self);\n    PouchDB.emit('created', self.name);\n    self.taskqueue.ready(self);\n  });\n\n}\n\n// AbortController was introduced quite a while after fetch and\n// isnt required for PouchDB to function so polyfill if needed\nvar a = (typeof AbortController !== 'undefined')\n    ? AbortController\n    : function () { return {abort: function () {}}; };\n\nvar f$1 = fetch;\nvar h = Headers;\n\nPouchDB.adapters = {};\nPouchDB.preferredAdapters = [];\n\nPouchDB.prefix = '_pouch_';\n\nvar eventEmitter = new EE();\n\nfunction setUpEventEmitter(Pouch) {\n  Object.keys(EE.prototype).forEach(function (key) {\n    if (typeof EE.prototype[key] === 'function') {\n      Pouch[key] = eventEmitter[key].bind(eventEmitter);\n    }\n  });\n\n  // these are created in constructor.js, and allow us to notify each DB with\n  // the same name that it was destroyed, via the constructor object\n  var destructListeners = Pouch._destructionListeners = new ExportedMap();\n\n  Pouch.on('ref', function onConstructorRef(db) {\n    if (!destructListeners.has(db.name)) {\n      destructListeners.set(db.name, []);\n    }\n    destructListeners.get(db.name).push(db);\n  });\n\n  Pouch.on('unref', function onConstructorUnref(db) {\n    if (!destructListeners.has(db.name)) {\n      return;\n    }\n    var dbList = destructListeners.get(db.name);\n    var pos = dbList.indexOf(db);\n    if (pos < 0) {\n      /* istanbul ignore next */\n      return;\n    }\n    dbList.splice(pos, 1);\n    if (dbList.length > 1) {\n      /* istanbul ignore next */\n      destructListeners.set(db.name, dbList);\n    } else {\n      destructListeners.delete(db.name);\n    }\n  });\n\n  Pouch.on('destroyed', function onConstructorDestroyed(name) {\n    if (!destructListeners.has(name)) {\n      return;\n    }\n    var dbList = destructListeners.get(name);\n    destructListeners.delete(name);\n    dbList.forEach(function (db) {\n      db.emit('destroyed',true);\n    });\n  });\n}\n\nsetUpEventEmitter(PouchDB);\n\nPouchDB.adapter = function (id, obj, addToPreferredAdapters) {\n  /* istanbul ignore else */\n  if (obj.valid()) {\n    PouchDB.adapters[id] = obj;\n    if (addToPreferredAdapters) {\n      PouchDB.preferredAdapters.push(id);\n    }\n  }\n};\n\nPouchDB.plugin = function (obj) {\n  if (typeof obj === 'function') { // function style for plugins\n    obj(PouchDB);\n  } else if (typeof obj !== 'object' || Object.keys(obj).length === 0) {\n    throw new Error('Invalid plugin: got \"' + obj + '\", expected an object or a function');\n  } else {\n    Object.keys(obj).forEach(function (id) { // object style for plugins\n      PouchDB.prototype[id] = obj[id];\n    });\n  }\n  if (this.__defaults) {\n    PouchDB.__defaults = $inject_Object_assign({}, this.__defaults);\n  }\n  return PouchDB;\n};\n\nPouchDB.defaults = function (defaultOpts) {\n  function PouchAlt(name, opts) {\n    if (!(this instanceof PouchAlt)) {\n      return new PouchAlt(name, opts);\n    }\n\n    opts = opts || {};\n\n    if (name && typeof name === 'object') {\n      opts = name;\n      name = opts.name;\n      delete opts.name;\n    }\n\n    opts = $inject_Object_assign({}, PouchAlt.__defaults, opts);\n    PouchDB.call(this, name, opts);\n  }\n\n  inherits(PouchAlt, PouchDB);\n\n  PouchAlt.preferredAdapters = PouchDB.preferredAdapters.slice();\n  Object.keys(PouchDB).forEach(function (key) {\n    if (!(key in PouchAlt)) {\n      PouchAlt[key] = PouchDB[key];\n    }\n  });\n\n  // make default options transitive\n  // https://github.com/pouchdb/pouchdb/issues/5922\n  PouchAlt.__defaults = $inject_Object_assign({}, this.__defaults, defaultOpts);\n\n  return PouchAlt;\n};\n\nPouchDB.fetch = function (url, opts) {\n  return f$1(url, opts);\n};\n\n// managed automatically by set-version.js\nvar version = \"7.2.2\";\n\n// this would just be \"return doc[field]\", but fields\n// can be \"deep\" due to dot notation\nfunction getFieldFromDoc(doc, parsedField) {\n  var value = doc;\n  for (var i = 0, len = parsedField.length; i < len; i++) {\n    var key = parsedField[i];\n    value = value[key];\n    if (!value) {\n      break;\n    }\n  }\n  return value;\n}\n\nfunction compare$1(left, right) {\n  return left < right ? -1 : left > right ? 1 : 0;\n}\n\n// Converts a string in dot notation to an array of its components, with backslash escaping\nfunction parseField(fieldName) {\n  // fields may be deep (e.g. \"foo.bar.baz\"), so parse\n  var fields = [];\n  var current = '';\n  for (var i = 0, len = fieldName.length; i < len; i++) {\n    var ch = fieldName[i];\n    if (ch === '.') {\n      if (i > 0 && fieldName[i - 1] === '\\\\') { // escaped delimiter\n        current = current.substring(0, current.length - 1) + '.';\n      } else { // not escaped, so delimiter\n        fields.push(current);\n        current = '';\n      }\n    } else { // normal character\n      current += ch;\n    }\n  }\n  fields.push(current);\n  return fields;\n}\n\nvar combinationFields = ['$or', '$nor', '$not'];\nfunction isCombinationalField(field) {\n  return combinationFields.indexOf(field) > -1;\n}\n\nfunction getKey(obj) {\n  return Object.keys(obj)[0];\n}\n\nfunction getValue(obj) {\n  return obj[getKey(obj)];\n}\n\n\n// flatten an array of selectors joined by an $and operator\nfunction mergeAndedSelectors(selectors) {\n\n  // sort to ensure that e.g. if the user specified\n  // $and: [{$gt: 'a'}, {$gt: 'b'}], then it's collapsed into\n  // just {$gt: 'b'}\n  var res = {};\n\n  selectors.forEach(function (selector) {\n    Object.keys(selector).forEach(function (field) {\n      var matcher = selector[field];\n      if (typeof matcher !== 'object') {\n        matcher = {$eq: matcher};\n      }\n\n      if (isCombinationalField(field)) {\n        if (matcher instanceof Array) {\n          res[field] = matcher.map(function (m) {\n            return mergeAndedSelectors([m]);\n          });\n        } else {\n          res[field] = mergeAndedSelectors([matcher]);\n        }\n      } else {\n        var fieldMatchers = res[field] = res[field] || {};\n        Object.keys(matcher).forEach(function (operator) {\n          var value = matcher[operator];\n\n          if (operator === '$gt' || operator === '$gte') {\n            return mergeGtGte(operator, value, fieldMatchers);\n          } else if (operator === '$lt' || operator === '$lte') {\n            return mergeLtLte(operator, value, fieldMatchers);\n          } else if (operator === '$ne') {\n            return mergeNe(value, fieldMatchers);\n          } else if (operator === '$eq') {\n            return mergeEq(value, fieldMatchers);\n          }\n          fieldMatchers[operator] = value;\n        });\n      }\n    });\n  });\n\n  return res;\n}\n\n\n\n// collapse logically equivalent gt/gte values\nfunction mergeGtGte(operator, value, fieldMatchers) {\n  if (typeof fieldMatchers.$eq !== 'undefined') {\n    return; // do nothing\n  }\n  if (typeof fieldMatchers.$gte !== 'undefined') {\n    if (operator === '$gte') {\n      if (value > fieldMatchers.$gte) { // more specificity\n        fieldMatchers.$gte = value;\n      }\n    } else { // operator === '$gt'\n      if (value >= fieldMatchers.$gte) { // more specificity\n        delete fieldMatchers.$gte;\n        fieldMatchers.$gt = value;\n      }\n    }\n  } else if (typeof fieldMatchers.$gt !== 'undefined') {\n    if (operator === '$gte') {\n      if (value > fieldMatchers.$gt) { // more specificity\n        delete fieldMatchers.$gt;\n        fieldMatchers.$gte = value;\n      }\n    } else { // operator === '$gt'\n      if (value > fieldMatchers.$gt) { // more specificity\n        fieldMatchers.$gt = value;\n      }\n    }\n  } else {\n    fieldMatchers[operator] = value;\n  }\n}\n\n// collapse logically equivalent lt/lte values\nfunction mergeLtLte(operator, value, fieldMatchers) {\n  if (typeof fieldMatchers.$eq !== 'undefined') {\n    return; // do nothing\n  }\n  if (typeof fieldMatchers.$lte !== 'undefined') {\n    if (operator === '$lte') {\n      if (value < fieldMatchers.$lte) { // more specificity\n        fieldMatchers.$lte = value;\n      }\n    } else { // operator === '$gt'\n      if (value <= fieldMatchers.$lte) { // more specificity\n        delete fieldMatchers.$lte;\n        fieldMatchers.$lt = value;\n      }\n    }\n  } else if (typeof fieldMatchers.$lt !== 'undefined') {\n    if (operator === '$lte') {\n      if (value < fieldMatchers.$lt) { // more specificity\n        delete fieldMatchers.$lt;\n        fieldMatchers.$lte = value;\n      }\n    } else { // operator === '$gt'\n      if (value < fieldMatchers.$lt) { // more specificity\n        fieldMatchers.$lt = value;\n      }\n    }\n  } else {\n    fieldMatchers[operator] = value;\n  }\n}\n\n// combine $ne values into one array\nfunction mergeNe(value, fieldMatchers) {\n  if ('$ne' in fieldMatchers) {\n    // there are many things this could \"not\" be\n    fieldMatchers.$ne.push(value);\n  } else { // doesn't exist yet\n    fieldMatchers.$ne = [value];\n  }\n}\n\n// add $eq into the mix\nfunction mergeEq(value, fieldMatchers) {\n  // these all have less specificity than the $eq\n  // TODO: check for user errors here\n  delete fieldMatchers.$gt;\n  delete fieldMatchers.$gte;\n  delete fieldMatchers.$lt;\n  delete fieldMatchers.$lte;\n  delete fieldMatchers.$ne;\n  fieldMatchers.$eq = value;\n}\n\n//#7458: execute function mergeAndedSelectors on nested $and\nfunction mergeAndedSelectorsNested(obj) {\n    for (var prop in obj) {\n        if (Array.isArray(obj)) {\n            for (var i in obj) {\n                if (obj[i]['$and']) {\n                    obj[i] = mergeAndedSelectors(obj[i]['$and']);\n                }\n            }\n        }\n        var value = obj[prop];\n        if (typeof value === 'object') {\n            mergeAndedSelectorsNested(value); // <- recursive call\n        }\n    }\n    return obj;\n}\n\n//#7458: determine id $and is present in selector (at any level)\nfunction isAndInSelector(obj, isAnd) {\n    for (var prop in obj) {\n        if (prop === '$and') {\n            isAnd = true;\n        }\n        var value = obj[prop];\n        if (typeof value === 'object') {\n            isAnd = isAndInSelector(value, isAnd); // <- recursive call\n        }\n    }\n    return isAnd;\n}\n\n//\n// normalize the selector\n//\nfunction massageSelector(input) {\n  var result = clone(input);\n  var wasAnded = false;\n    //#7458: if $and is present in selector (at any level) merge nested $and\n    if (isAndInSelector(result, false)) {\n        result = mergeAndedSelectorsNested(result);\n        if ('$and' in result) {\n            result = mergeAndedSelectors(result['$and']);\n        }\n        wasAnded = true;\n    }\n\n  ['$or', '$nor'].forEach(function (orOrNor) {\n    if (orOrNor in result) {\n      // message each individual selector\n      // e.g. {foo: 'bar'} becomes {foo: {$eq: 'bar'}}\n      result[orOrNor].forEach(function (subSelector) {\n        var fields = Object.keys(subSelector);\n        for (var i = 0; i < fields.length; i++) {\n          var field = fields[i];\n          var matcher = subSelector[field];\n          if (typeof matcher !== 'object' || matcher === null) {\n            subSelector[field] = {$eq: matcher};\n          }\n        }\n      });\n    }\n  });\n\n  if ('$not' in result) {\n    //This feels a little like forcing, but it will work for now,\n    //I would like to come back to this and make the merging of selectors a little more generic\n    result['$not'] = mergeAndedSelectors([result['$not']]);\n  }\n\n  var fields = Object.keys(result);\n\n  for (var i = 0; i < fields.length; i++) {\n    var field = fields[i];\n    var matcher = result[field];\n\n    if (typeof matcher !== 'object' || matcher === null) {\n      matcher = {$eq: matcher};\n    } else if ('$ne' in matcher && !wasAnded) {\n      // I put these in an array, since there may be more than one\n      // but in the \"mergeAnded\" operation, I already take care of that\n      matcher.$ne = [matcher.$ne];\n    }\n    result[field] = matcher;\n  }\n\n  return result;\n}\n\nfunction pad(str, padWith, upToLength) {\n  var padding = '';\n  var targetLength = upToLength - str.length;\n  /* istanbul ignore next */\n  while (padding.length < targetLength) {\n    padding += padWith;\n  }\n  return padding;\n}\n\nfunction padLeft(str, padWith, upToLength) {\n  var padding = pad(str, padWith, upToLength);\n  return padding + str;\n}\n\nvar MIN_MAGNITUDE = -324; // verified by -Number.MIN_VALUE\nvar MAGNITUDE_DIGITS = 3; // ditto\nvar SEP = ''; // set to '_' for easier debugging \n\nfunction collate(a, b) {\n\n  if (a === b) {\n    return 0;\n  }\n\n  a = normalizeKey(a);\n  b = normalizeKey(b);\n\n  var ai = collationIndex(a);\n  var bi = collationIndex(b);\n  if ((ai - bi) !== 0) {\n    return ai - bi;\n  }\n  switch (typeof a) {\n    case 'number':\n      return a - b;\n    case 'boolean':\n      return a < b ? -1 : 1;\n    case 'string':\n      return stringCollate(a, b);\n  }\n  return Array.isArray(a) ? arrayCollate(a, b) : objectCollate(a, b);\n}\n\n// couch considers null/NaN/Infinity/-Infinity === undefined,\n// for the purposes of mapreduce indexes. also, dates get stringified.\nfunction normalizeKey(key) {\n  switch (typeof key) {\n    case 'undefined':\n      return null;\n    case 'number':\n      if (key === Infinity || key === -Infinity || isNaN(key)) {\n        return null;\n      }\n      return key;\n    case 'object':\n      var origKey = key;\n      if (Array.isArray(key)) {\n        var len = key.length;\n        key = new Array(len);\n        for (var i = 0; i < len; i++) {\n          key[i] = normalizeKey(origKey[i]);\n        }\n      /* istanbul ignore next */\n      } else if (key instanceof Date) {\n        return key.toJSON();\n      } else if (key !== null) { // generic object\n        key = {};\n        for (var k in origKey) {\n          if (origKey.hasOwnProperty(k)) {\n            var val = origKey[k];\n            if (typeof val !== 'undefined') {\n              key[k] = normalizeKey(val);\n            }\n          }\n        }\n      }\n  }\n  return key;\n}\n\nfunction indexify(key) {\n  if (key !== null) {\n    switch (typeof key) {\n      case 'boolean':\n        return key ? 1 : 0;\n      case 'number':\n        return numToIndexableString(key);\n      case 'string':\n        // We've to be sure that key does not contain \\u0000\n        // Do order-preserving replacements:\n        // 0 -> 1, 1\n        // 1 -> 1, 2\n        // 2 -> 2, 2\n        /* eslint-disable no-control-regex */\n        return key\n          .replace(/\\u0002/g, '\\u0002\\u0002')\n          .replace(/\\u0001/g, '\\u0001\\u0002')\n          .replace(/\\u0000/g, '\\u0001\\u0001');\n        /* eslint-enable no-control-regex */\n      case 'object':\n        var isArray = Array.isArray(key);\n        var arr = isArray ? key : Object.keys(key);\n        var i = -1;\n        var len = arr.length;\n        var result = '';\n        if (isArray) {\n          while (++i < len) {\n            result += toIndexableString(arr[i]);\n          }\n        } else {\n          while (++i < len) {\n            var objKey = arr[i];\n            result += toIndexableString(objKey) +\n                toIndexableString(key[objKey]);\n          }\n        }\n        return result;\n    }\n  }\n  return '';\n}\n\n// convert the given key to a string that would be appropriate\n// for lexical sorting, e.g. within a database, where the\n// sorting is the same given by the collate() function.\nfunction toIndexableString(key) {\n  var zero = '\\u0000';\n  key = normalizeKey(key);\n  return collationIndex(key) + SEP + indexify(key) + zero;\n}\n\nfunction parseNumber(str, i) {\n  var originalIdx = i;\n  var num;\n  var zero = str[i] === '1';\n  if (zero) {\n    num = 0;\n    i++;\n  } else {\n    var neg = str[i] === '0';\n    i++;\n    var numAsString = '';\n    var magAsString = str.substring(i, i + MAGNITUDE_DIGITS);\n    var magnitude = parseInt(magAsString, 10) + MIN_MAGNITUDE;\n    /* istanbul ignore next */\n    if (neg) {\n      magnitude = -magnitude;\n    }\n    i += MAGNITUDE_DIGITS;\n    while (true) {\n      var ch = str[i];\n      if (ch === '\\u0000') {\n        break;\n      } else {\n        numAsString += ch;\n      }\n      i++;\n    }\n    numAsString = numAsString.split('.');\n    if (numAsString.length === 1) {\n      num = parseInt(numAsString, 10);\n    } else {\n      /* istanbul ignore next */\n      num = parseFloat(numAsString[0] + '.' + numAsString[1]);\n    }\n    /* istanbul ignore next */\n    if (neg) {\n      num = num - 10;\n    }\n    /* istanbul ignore next */\n    if (magnitude !== 0) {\n      // parseFloat is more reliable than pow due to rounding errors\n      // e.g. Number.MAX_VALUE would return Infinity if we did\n      // num * Math.pow(10, magnitude);\n      num = parseFloat(num + 'e' + magnitude);\n    }\n  }\n  return {num: num, length : i - originalIdx};\n}\n\n// move up the stack while parsing\n// this function moved outside of parseIndexableString for performance\nfunction pop(stack, metaStack) {\n  var obj = stack.pop();\n\n  if (metaStack.length) {\n    var lastMetaElement = metaStack[metaStack.length - 1];\n    if (obj === lastMetaElement.element) {\n      // popping a meta-element, e.g. an object whose value is another object\n      metaStack.pop();\n      lastMetaElement = metaStack[metaStack.length - 1];\n    }\n    var element = lastMetaElement.element;\n    var lastElementIndex = lastMetaElement.index;\n    if (Array.isArray(element)) {\n      element.push(obj);\n    } else if (lastElementIndex === stack.length - 2) { // obj with key+value\n      var key = stack.pop();\n      element[key] = obj;\n    } else {\n      stack.push(obj); // obj with key only\n    }\n  }\n}\n\nfunction parseIndexableString(str) {\n  var stack = [];\n  var metaStack = []; // stack for arrays and objects\n  var i = 0;\n\n  /*eslint no-constant-condition: [\"error\", { \"checkLoops\": false }]*/\n  while (true) {\n    var collationIndex = str[i++];\n    if (collationIndex === '\\u0000') {\n      if (stack.length === 1) {\n        return stack.pop();\n      } else {\n        pop(stack, metaStack);\n        continue;\n      }\n    }\n    switch (collationIndex) {\n      case '1':\n        stack.push(null);\n        break;\n      case '2':\n        stack.push(str[i] === '1');\n        i++;\n        break;\n      case '3':\n        var parsedNum = parseNumber(str, i);\n        stack.push(parsedNum.num);\n        i += parsedNum.length;\n        break;\n      case '4':\n        var parsedStr = '';\n        /*eslint no-constant-condition: [\"error\", { \"checkLoops\": false }]*/\n        while (true) {\n          var ch = str[i];\n          if (ch === '\\u0000') {\n            break;\n          }\n          parsedStr += ch;\n          i++;\n        }\n        // perform the reverse of the order-preserving replacement\n        // algorithm (see above)\n        /* eslint-disable no-control-regex */\n        parsedStr = parsedStr.replace(/\\u0001\\u0001/g, '\\u0000')\n          .replace(/\\u0001\\u0002/g, '\\u0001')\n          .replace(/\\u0002\\u0002/g, '\\u0002');\n        /* eslint-enable no-control-regex */\n        stack.push(parsedStr);\n        break;\n      case '5':\n        var arrayElement = { element: [], index: stack.length };\n        stack.push(arrayElement.element);\n        metaStack.push(arrayElement);\n        break;\n      case '6':\n        var objElement = { element: {}, index: stack.length };\n        stack.push(objElement.element);\n        metaStack.push(objElement);\n        break;\n      /* istanbul ignore next */\n      default:\n        throw new Error(\n          'bad collationIndex or unexpectedly reached end of input: ' +\n            collationIndex);\n    }\n  }\n}\n\nfunction arrayCollate(a, b) {\n  var len = Math.min(a.length, b.length);\n  for (var i = 0; i < len; i++) {\n    var sort = collate(a[i], b[i]);\n    if (sort !== 0) {\n      return sort;\n    }\n  }\n  return (a.length === b.length) ? 0 :\n    (a.length > b.length) ? 1 : -1;\n}\nfunction stringCollate(a, b) {\n  // See: https://github.com/daleharvey/pouchdb/issues/40\n  // This is incompatible with the CouchDB implementation, but its the\n  // best we can do for now\n  return (a === b) ? 0 : ((a > b) ? 1 : -1);\n}\nfunction objectCollate(a, b) {\n  var ak = Object.keys(a), bk = Object.keys(b);\n  var len = Math.min(ak.length, bk.length);\n  for (var i = 0; i < len; i++) {\n    // First sort the keys\n    var sort = collate(ak[i], bk[i]);\n    if (sort !== 0) {\n      return sort;\n    }\n    // if the keys are equal sort the values\n    sort = collate(a[ak[i]], b[bk[i]]);\n    if (sort !== 0) {\n      return sort;\n    }\n\n  }\n  return (ak.length === bk.length) ? 0 :\n    (ak.length > bk.length) ? 1 : -1;\n}\n// The collation is defined by erlangs ordered terms\n// the atoms null, true, false come first, then numbers, strings,\n// arrays, then objects\n// null/undefined/NaN/Infinity/-Infinity are all considered null\nfunction collationIndex(x) {\n  var id = ['boolean', 'number', 'string', 'object'];\n  var idx = id.indexOf(typeof x);\n  //false if -1 otherwise true, but fast!!!!1\n  if (~idx) {\n    if (x === null) {\n      return 1;\n    }\n    if (Array.isArray(x)) {\n      return 5;\n    }\n    return idx < 3 ? (idx + 2) : (idx + 3);\n  }\n  /* istanbul ignore next */\n  if (Array.isArray(x)) {\n    return 5;\n  }\n}\n\n// conversion:\n// x yyy zz...zz\n// x = 0 for negative, 1 for 0, 2 for positive\n// y = exponent (for negative numbers negated) moved so that it's >= 0\n// z = mantisse\nfunction numToIndexableString(num) {\n\n  if (num === 0) {\n    return '1';\n  }\n\n  // convert number to exponential format for easier and\n  // more succinct string sorting\n  var expFormat = num.toExponential().split(/e\\+?/);\n  var magnitude = parseInt(expFormat[1], 10);\n\n  var neg = num < 0;\n\n  var result = neg ? '0' : '2';\n\n  // first sort by magnitude\n  // it's easier if all magnitudes are positive\n  var magForComparison = ((neg ? -magnitude : magnitude) - MIN_MAGNITUDE);\n  var magString = padLeft((magForComparison).toString(), '0', MAGNITUDE_DIGITS);\n\n  result += SEP + magString;\n\n  // then sort by the factor\n  var factor = Math.abs(parseFloat(expFormat[0])); // [1..10)\n  /* istanbul ignore next */\n  if (neg) { // for negative reverse ordering\n    factor = 10 - factor;\n  }\n\n  var factorStr = factor.toFixed(20);\n\n  // strip zeros from the end\n  factorStr = factorStr.replace(/\\.?0+$/, '');\n\n  result += SEP + factorStr;\n\n  return result;\n}\n\n// create a comparator based on the sort object\nfunction createFieldSorter(sort) {\n\n  function getFieldValuesAsArray(doc) {\n    return sort.map(function (sorting) {\n      var fieldName = getKey(sorting);\n      var parsedField = parseField(fieldName);\n      var docFieldValue = getFieldFromDoc(doc, parsedField);\n      return docFieldValue;\n    });\n  }\n\n  return function (aRow, bRow) {\n    var aFieldValues = getFieldValuesAsArray(aRow.doc);\n    var bFieldValues = getFieldValuesAsArray(bRow.doc);\n    var collation = collate(aFieldValues, bFieldValues);\n    if (collation !== 0) {\n      return collation;\n    }\n    // this is what mango seems to do\n    return compare$1(aRow.doc._id, bRow.doc._id);\n  };\n}\n\nfunction filterInMemoryFields(rows, requestDef, inMemoryFields) {\n  rows = rows.filter(function (row) {\n    return rowFilter(row.doc, requestDef.selector, inMemoryFields);\n  });\n\n  if (requestDef.sort) {\n    // in-memory sort\n    var fieldSorter = createFieldSorter(requestDef.sort);\n    rows = rows.sort(fieldSorter);\n    if (typeof requestDef.sort[0] !== 'string' &&\n        getValue(requestDef.sort[0]) === 'desc') {\n      rows = rows.reverse();\n    }\n  }\n\n  if ('limit' in requestDef || 'skip' in requestDef) {\n    // have to do the limit in-memory\n    var skip = requestDef.skip || 0;\n    var limit = ('limit' in requestDef ? requestDef.limit : rows.length) + skip;\n    rows = rows.slice(skip, limit);\n  }\n  return rows;\n}\n\nfunction rowFilter(doc, selector, inMemoryFields) {\n  return inMemoryFields.every(function (field) {\n    var matcher = selector[field];\n    var parsedField = parseField(field);\n    var docFieldValue = getFieldFromDoc(doc, parsedField);\n    if (isCombinationalField(field)) {\n      return matchCominationalSelector(field, matcher, doc);\n    }\n\n    return matchSelector(matcher, doc, parsedField, docFieldValue);\n  });\n}\n\nfunction matchSelector(matcher, doc, parsedField, docFieldValue) {\n  if (!matcher) {\n    // no filtering necessary; this field is just needed for sorting\n    return true;\n  }\n\n  // is matcher an object, if so continue recursion\n  if (typeof matcher === 'object') {\n    return Object.keys(matcher).every(function (userOperator) {\n      var userValue = matcher[userOperator];\n      return match(userOperator, doc, userValue, parsedField, docFieldValue);\n    });\n  }\n\n  // no more depth, No need to recurse further\n  return matcher === docFieldValue;\n}\n\nfunction matchCominationalSelector(field, matcher, doc) {\n\n  if (field === '$or') {\n    return matcher.some(function (orMatchers) {\n      return rowFilter(doc, orMatchers, Object.keys(orMatchers));\n    });\n  }\n\n  if (field === '$not') {\n    return !rowFilter(doc, matcher, Object.keys(matcher));\n  }\n\n  //`$nor`\n  return !matcher.find(function (orMatchers) {\n    return rowFilter(doc, orMatchers, Object.keys(orMatchers));\n  });\n\n}\n\nfunction match(userOperator, doc, userValue, parsedField, docFieldValue) {\n  if (!matchers[userOperator]) {\n    throw new Error('unknown operator \"' + userOperator +\n      '\" - should be one of $eq, $lte, $lt, $gt, $gte, $exists, $ne, $in, ' +\n      '$nin, $size, $mod, $regex, $elemMatch, $type, $allMatch or $all');\n  }\n  return matchers[userOperator](doc, userValue, parsedField, docFieldValue);\n}\n\nfunction fieldExists(docFieldValue) {\n  return typeof docFieldValue !== 'undefined' && docFieldValue !== null;\n}\n\nfunction fieldIsNotUndefined(docFieldValue) {\n  return typeof docFieldValue !== 'undefined';\n}\n\nfunction modField(docFieldValue, userValue) {\n  var divisor = userValue[0];\n  var mod = userValue[1];\n  if (divisor === 0) {\n    throw new Error('Bad divisor, cannot divide by zero');\n  }\n\n  if (parseInt(divisor, 10) !== divisor ) {\n    throw new Error('Divisor is not an integer');\n  }\n\n  if (parseInt(mod, 10) !== mod ) {\n    throw new Error('Modulus is not an integer');\n  }\n\n  if (parseInt(docFieldValue, 10) !== docFieldValue) {\n    return false;\n  }\n\n  return docFieldValue % divisor === mod;\n}\n\nfunction arrayContainsValue(docFieldValue, userValue) {\n  return userValue.some(function (val) {\n    if (docFieldValue instanceof Array) {\n      return docFieldValue.indexOf(val) > -1;\n    }\n\n    return docFieldValue === val;\n  });\n}\n\nfunction arrayContainsAllValues(docFieldValue, userValue) {\n  return userValue.every(function (val) {\n    return docFieldValue.indexOf(val) > -1;\n  });\n}\n\nfunction arraySize(docFieldValue, userValue) {\n  return docFieldValue.length === userValue;\n}\n\nfunction regexMatch(docFieldValue, userValue) {\n  var re = new RegExp(userValue);\n\n  return re.test(docFieldValue);\n}\n\nfunction typeMatch(docFieldValue, userValue) {\n\n  switch (userValue) {\n    case 'null':\n      return docFieldValue === null;\n    case 'boolean':\n      return typeof (docFieldValue) === 'boolean';\n    case 'number':\n      return typeof (docFieldValue) === 'number';\n    case 'string':\n      return typeof (docFieldValue) === 'string';\n    case 'array':\n      return docFieldValue instanceof Array;\n    case 'object':\n      return ({}).toString.call(docFieldValue) === '[object Object]';\n  }\n\n  throw new Error(userValue + ' not supported as a type.' +\n                  'Please use one of object, string, array, number, boolean or null.');\n\n}\n\nvar matchers = {\n\n  '$elemMatch': function (doc, userValue, parsedField, docFieldValue) {\n    if (!Array.isArray(docFieldValue)) {\n      return false;\n    }\n\n    if (docFieldValue.length === 0) {\n      return false;\n    }\n\n    if (typeof docFieldValue[0] === 'object') {\n      return docFieldValue.some(function (val) {\n        return rowFilter(val, userValue, Object.keys(userValue));\n      });\n    }\n\n    return docFieldValue.some(function (val) {\n      return matchSelector(userValue, doc, parsedField, val);\n    });\n  },\n\n  '$allMatch': function (doc, userValue, parsedField, docFieldValue) {\n    if (!Array.isArray(docFieldValue)) {\n      return false;\n    }\n\n    /* istanbul ignore next */\n    if (docFieldValue.length === 0) {\n      return false;\n    }\n\n    if (typeof docFieldValue[0] === 'object') {\n      return docFieldValue.every(function (val) {\n        return rowFilter(val, userValue, Object.keys(userValue));\n      });\n    }\n\n    return docFieldValue.every(function (val) {\n      return matchSelector(userValue, doc, parsedField, val);\n    });\n  },\n\n  '$eq': function (doc, userValue, parsedField, docFieldValue) {\n    return fieldIsNotUndefined(docFieldValue) && collate(docFieldValue, userValue) === 0;\n  },\n\n  '$gte': function (doc, userValue, parsedField, docFieldValue) {\n    return fieldIsNotUndefined(docFieldValue) && collate(docFieldValue, userValue) >= 0;\n  },\n\n  '$gt': function (doc, userValue, parsedField, docFieldValue) {\n    return fieldIsNotUndefined(docFieldValue) && collate(docFieldValue, userValue) > 0;\n  },\n\n  '$lte': function (doc, userValue, parsedField, docFieldValue) {\n    return fieldIsNotUndefined(docFieldValue) && collate(docFieldValue, userValue) <= 0;\n  },\n\n  '$lt': function (doc, userValue, parsedField, docFieldValue) {\n    return fieldIsNotUndefined(docFieldValue) && collate(docFieldValue, userValue) < 0;\n  },\n\n  '$exists': function (doc, userValue, parsedField, docFieldValue) {\n    //a field that is null is still considered to exist\n    if (userValue) {\n      return fieldIsNotUndefined(docFieldValue);\n    }\n\n    return !fieldIsNotUndefined(docFieldValue);\n  },\n\n  '$mod': function (doc, userValue, parsedField, docFieldValue) {\n    return fieldExists(docFieldValue) && modField(docFieldValue, userValue);\n  },\n\n  '$ne': function (doc, userValue, parsedField, docFieldValue) {\n    return userValue.every(function (neValue) {\n      return collate(docFieldValue, neValue) !== 0;\n    });\n  },\n  '$in': function (doc, userValue, parsedField, docFieldValue) {\n    return fieldExists(docFieldValue) && arrayContainsValue(docFieldValue, userValue);\n  },\n\n  '$nin': function (doc, userValue, parsedField, docFieldValue) {\n    return fieldExists(docFieldValue) && !arrayContainsValue(docFieldValue, userValue);\n  },\n\n  '$size': function (doc, userValue, parsedField, docFieldValue) {\n    return fieldExists(docFieldValue) && arraySize(docFieldValue, userValue);\n  },\n\n  '$all': function (doc, userValue, parsedField, docFieldValue) {\n    return Array.isArray(docFieldValue) && arrayContainsAllValues(docFieldValue, userValue);\n  },\n\n  '$regex': function (doc, userValue, parsedField, docFieldValue) {\n    return fieldExists(docFieldValue) && regexMatch(docFieldValue, userValue);\n  },\n\n  '$type': function (doc, userValue, parsedField, docFieldValue) {\n    return typeMatch(docFieldValue, userValue);\n  }\n};\n\n// return true if the given doc matches the supplied selector\nfunction matchesSelector(doc, selector) {\n  /* istanbul ignore if */\n  if (typeof selector !== 'object') {\n    // match the CouchDB error message\n    throw new Error('Selector error: expected a JSON object');\n  }\n\n  selector = massageSelector(selector);\n  var row = {\n    'doc': doc\n  };\n\n  var rowsMatched = filterInMemoryFields([row], { 'selector': selector }, Object.keys(selector));\n  return rowsMatched && rowsMatched.length === 1;\n}\n\nfunction evalFilter(input) {\n  return scopeEval('\"use strict\";\\nreturn ' + input + ';', {});\n}\n\nfunction evalView(input) {\n  var code = [\n    'return function(doc) {',\n    '  \"use strict\";',\n    '  var emitted = false;',\n    '  var emit = function (a, b) {',\n    '    emitted = true;',\n    '  };',\n    '  var view = ' + input + ';',\n    '  view(doc);',\n    '  if (emitted) {',\n    '    return true;',\n    '  }',\n    '};'\n  ].join('\\n');\n\n  return scopeEval(code, {});\n}\n\nfunction validate(opts, callback) {\n  if (opts.selector) {\n    if (opts.filter && opts.filter !== '_selector') {\n      var filterName = typeof opts.filter === 'string' ?\n        opts.filter : 'function';\n      return callback(new Error('selector invalid for filter \"' + filterName + '\"'));\n    }\n  }\n  callback();\n}\n\nfunction normalize(opts) {\n  if (opts.view && !opts.filter) {\n    opts.filter = '_view';\n  }\n\n  if (opts.selector && !opts.filter) {\n    opts.filter = '_selector';\n  }\n\n  if (opts.filter && typeof opts.filter === 'string') {\n    if (opts.filter === '_view') {\n      opts.view = normalizeDesignDocFunctionName(opts.view);\n    } else {\n      opts.filter = normalizeDesignDocFunctionName(opts.filter);\n    }\n  }\n}\n\nfunction shouldFilter(changesHandler, opts) {\n  return opts.filter && typeof opts.filter === 'string' &&\n    !opts.doc_ids && !isRemote(changesHandler.db);\n}\n\nfunction filter(changesHandler, opts) {\n  var callback = opts.complete;\n  if (opts.filter === '_view') {\n    if (!opts.view || typeof opts.view !== 'string') {\n      var err = createError(BAD_REQUEST,\n        '`view` filter parameter not found or invalid.');\n      return callback(err);\n    }\n    // fetch a view from a design doc, make it behave like a filter\n    var viewName = parseDesignDocFunctionName(opts.view);\n    changesHandler.db.get('_design/' + viewName[0], function (err, ddoc) {\n      /* istanbul ignore if */\n      if (changesHandler.isCancelled) {\n        return callback(null, {status: 'cancelled'});\n      }\n      /* istanbul ignore next */\n      if (err) {\n        return callback(generateErrorFromResponse(err));\n      }\n      var mapFun = ddoc && ddoc.views && ddoc.views[viewName[1]] &&\n        ddoc.views[viewName[1]].map;\n      if (!mapFun) {\n        return callback(createError(MISSING_DOC,\n          (ddoc.views ? 'missing json key: ' + viewName[1] :\n            'missing json key: views')));\n      }\n      opts.filter = evalView(mapFun);\n      changesHandler.doChanges(opts);\n    });\n  } else if (opts.selector) {\n    opts.filter = function (doc) {\n      return matchesSelector(doc, opts.selector);\n    };\n    changesHandler.doChanges(opts);\n  } else {\n    // fetch a filter from a design doc\n    var filterName = parseDesignDocFunctionName(opts.filter);\n    changesHandler.db.get('_design/' + filterName[0], function (err, ddoc) {\n      /* istanbul ignore if */\n      if (changesHandler.isCancelled) {\n        return callback(null, {status: 'cancelled'});\n      }\n      /* istanbul ignore next */\n      if (err) {\n        return callback(generateErrorFromResponse(err));\n      }\n      var filterFun = ddoc && ddoc.filters && ddoc.filters[filterName[1]];\n      if (!filterFun) {\n        return callback(createError(MISSING_DOC,\n          ((ddoc && ddoc.filters) ? 'missing json key: ' + filterName[1]\n            : 'missing json key: filters')));\n      }\n      opts.filter = evalFilter(filterFun);\n      changesHandler.doChanges(opts);\n    });\n  }\n}\n\nfunction applyChangesFilterPlugin(PouchDB) {\n  PouchDB._changesFilterPlugin = {\n    validate: validate,\n    normalize: normalize,\n    shouldFilter: shouldFilter,\n    filter: filter\n  };\n}\n\n// TODO: remove from pouchdb-core (breaking)\nPouchDB.plugin(applyChangesFilterPlugin);\n\nPouchDB.version = version;\n\nfunction toObject(array) {\n  return array.reduce(function (obj, item) {\n    obj[item] = true;\n    return obj;\n  }, {});\n}\n// List of top level reserved words for doc\nvar reservedWords = toObject([\n  '_id',\n  '_rev',\n  '_attachments',\n  '_deleted',\n  '_revisions',\n  '_revs_info',\n  '_conflicts',\n  '_deleted_conflicts',\n  '_local_seq',\n  '_rev_tree',\n  //replication documents\n  '_replication_id',\n  '_replication_state',\n  '_replication_state_time',\n  '_replication_state_reason',\n  '_replication_stats',\n  // Specific to Couchbase Sync Gateway\n  '_removed'\n]);\n\n// List of reserved words that should end up the document\nvar dataWords = toObject([\n  '_attachments',\n  //replication documents\n  '_replication_id',\n  '_replication_state',\n  '_replication_state_time',\n  '_replication_state_reason',\n  '_replication_stats'\n]);\n\nfunction parseRevisionInfo(rev$$1) {\n  if (!/^\\d+-/.test(rev$$1)) {\n    return createError(INVALID_REV);\n  }\n  var idx = rev$$1.indexOf('-');\n  var left = rev$$1.substring(0, idx);\n  var right = rev$$1.substring(idx + 1);\n  return {\n    prefix: parseInt(left, 10),\n    id: right\n  };\n}\n\nfunction makeRevTreeFromRevisions(revisions, opts) {\n  var pos = revisions.start - revisions.ids.length + 1;\n\n  var revisionIds = revisions.ids;\n  var ids = [revisionIds[0], opts, []];\n\n  for (var i = 1, len = revisionIds.length; i < len; i++) {\n    ids = [revisionIds[i], {status: 'missing'}, [ids]];\n  }\n\n  return [{\n    pos: pos,\n    ids: ids\n  }];\n}\n\n// Preprocess documents, parse their revisions, assign an id and a\n// revision for new writes that are missing them, etc\nfunction parseDoc(doc, newEdits, dbOpts) {\n  if (!dbOpts) {\n    dbOpts = {\n      deterministic_revs: true\n    };\n  }\n\n  var nRevNum;\n  var newRevId;\n  var revInfo;\n  var opts = {status: 'available'};\n  if (doc._deleted) {\n    opts.deleted = true;\n  }\n\n  if (newEdits) {\n    if (!doc._id) {\n      doc._id = uuid();\n    }\n    newRevId = rev(doc, dbOpts.deterministic_revs);\n    if (doc._rev) {\n      revInfo = parseRevisionInfo(doc._rev);\n      if (revInfo.error) {\n        return revInfo;\n      }\n      doc._rev_tree = [{\n        pos: revInfo.prefix,\n        ids: [revInfo.id, {status: 'missing'}, [[newRevId, opts, []]]]\n      }];\n      nRevNum = revInfo.prefix + 1;\n    } else {\n      doc._rev_tree = [{\n        pos: 1,\n        ids : [newRevId, opts, []]\n      }];\n      nRevNum = 1;\n    }\n  } else {\n    if (doc._revisions) {\n      doc._rev_tree = makeRevTreeFromRevisions(doc._revisions, opts);\n      nRevNum = doc._revisions.start;\n      newRevId = doc._revisions.ids[0];\n    }\n    if (!doc._rev_tree) {\n      revInfo = parseRevisionInfo(doc._rev);\n      if (revInfo.error) {\n        return revInfo;\n      }\n      nRevNum = revInfo.prefix;\n      newRevId = revInfo.id;\n      doc._rev_tree = [{\n        pos: nRevNum,\n        ids: [newRevId, opts, []]\n      }];\n    }\n  }\n\n  invalidIdError(doc._id);\n\n  doc._rev = nRevNum + '-' + newRevId;\n\n  var result = {metadata : {}, data : {}};\n  for (var key in doc) {\n    /* istanbul ignore else */\n    if (Object.prototype.hasOwnProperty.call(doc, key)) {\n      var specialKey = key[0] === '_';\n      if (specialKey && !reservedWords[key]) {\n        var error = createError(DOC_VALIDATION, key);\n        error.message = DOC_VALIDATION.message + ': ' + key;\n        throw error;\n      } else if (specialKey && !dataWords[key]) {\n        result.metadata[key.slice(1)] = doc[key];\n      } else {\n        result.data[key] = doc[key];\n      }\n    }\n  }\n  return result;\n}\n\nfunction parseBase64(data) {\n  try {\n    return thisAtob(data);\n  } catch (e) {\n    var err = createError(BAD_ARG,\n      'Attachment is not a valid base64 string');\n    return {error: err};\n  }\n}\n\nfunction preprocessString(att, blobType, callback) {\n  var asBinary = parseBase64(att.data);\n  if (asBinary.error) {\n    return callback(asBinary.error);\n  }\n\n  att.length = asBinary.length;\n  if (blobType === 'blob') {\n    att.data = binStringToBluffer(asBinary, att.content_type);\n  } else if (blobType === 'base64') {\n    att.data = thisBtoa(asBinary);\n  } else { // binary\n    att.data = asBinary;\n  }\n  binaryMd5(asBinary, function (result) {\n    att.digest = 'md5-' + result;\n    callback();\n  });\n}\n\nfunction preprocessBlob(att, blobType, callback) {\n  binaryMd5(att.data, function (md5) {\n    att.digest = 'md5-' + md5;\n    // size is for blobs (browser), length is for buffers (node)\n    att.length = att.data.size || att.data.length || 0;\n    if (blobType === 'binary') {\n      blobToBinaryString(att.data, function (binString) {\n        att.data = binString;\n        callback();\n      });\n    } else if (blobType === 'base64') {\n      blobToBase64(att.data, function (b64) {\n        att.data = b64;\n        callback();\n      });\n    } else {\n      callback();\n    }\n  });\n}\n\nfunction preprocessAttachment(att, blobType, callback) {\n  if (att.stub) {\n    return callback();\n  }\n  if (typeof att.data === 'string') { // input is a base64 string\n    preprocessString(att, blobType, callback);\n  } else { // input is a blob\n    preprocessBlob(att, blobType, callback);\n  }\n}\n\nfunction preprocessAttachments(docInfos, blobType, callback) {\n\n  if (!docInfos.length) {\n    return callback();\n  }\n\n  var docv = 0;\n  var overallErr;\n\n  docInfos.forEach(function (docInfo) {\n    var attachments = docInfo.data && docInfo.data._attachments ?\n      Object.keys(docInfo.data._attachments) : [];\n    var recv = 0;\n\n    if (!attachments.length) {\n      return done();\n    }\n\n    function processedAttachment(err) {\n      overallErr = err;\n      recv++;\n      if (recv === attachments.length) {\n        done();\n      }\n    }\n\n    for (var key in docInfo.data._attachments) {\n      if (docInfo.data._attachments.hasOwnProperty(key)) {\n        preprocessAttachment(docInfo.data._attachments[key],\n          blobType, processedAttachment);\n      }\n    }\n  });\n\n  function done() {\n    docv++;\n    if (docInfos.length === docv) {\n      if (overallErr) {\n        callback(overallErr);\n      } else {\n        callback();\n      }\n    }\n  }\n}\n\nfunction updateDoc(revLimit, prev, docInfo, results,\n                   i, cb, writeDoc, newEdits) {\n\n  if (revExists(prev.rev_tree, docInfo.metadata.rev) && !newEdits) {\n    results[i] = docInfo;\n    return cb();\n  }\n\n  // sometimes this is pre-calculated. historically not always\n  var previousWinningRev = prev.winningRev || winningRev(prev);\n  var previouslyDeleted = 'deleted' in prev ? prev.deleted :\n    isDeleted(prev, previousWinningRev);\n  var deleted = 'deleted' in docInfo.metadata ? docInfo.metadata.deleted :\n    isDeleted(docInfo.metadata);\n  var isRoot = /^1-/.test(docInfo.metadata.rev);\n\n  if (previouslyDeleted && !deleted && newEdits && isRoot) {\n    var newDoc = docInfo.data;\n    newDoc._rev = previousWinningRev;\n    newDoc._id = docInfo.metadata.id;\n    docInfo = parseDoc(newDoc, newEdits);\n  }\n\n  var merged = merge(prev.rev_tree, docInfo.metadata.rev_tree[0], revLimit);\n\n  var inConflict = newEdits && ((\n    (previouslyDeleted && deleted && merged.conflicts !== 'new_leaf') ||\n    (!previouslyDeleted && merged.conflicts !== 'new_leaf') ||\n    (previouslyDeleted && !deleted && merged.conflicts === 'new_branch')));\n\n  if (inConflict) {\n    var err = createError(REV_CONFLICT);\n    results[i] = err;\n    return cb();\n  }\n\n  var newRev = docInfo.metadata.rev;\n  docInfo.metadata.rev_tree = merged.tree;\n  docInfo.stemmedRevs = merged.stemmedRevs || [];\n  /* istanbul ignore else */\n  if (prev.rev_map) {\n    docInfo.metadata.rev_map = prev.rev_map; // used only by leveldb\n  }\n\n  // recalculate\n  var winningRev$$1 = winningRev(docInfo.metadata);\n  var winningRevIsDeleted = isDeleted(docInfo.metadata, winningRev$$1);\n\n  // calculate the total number of documents that were added/removed,\n  // from the perspective of total_rows/doc_count\n  var delta = (previouslyDeleted === winningRevIsDeleted) ? 0 :\n    previouslyDeleted < winningRevIsDeleted ? -1 : 1;\n\n  var newRevIsDeleted;\n  if (newRev === winningRev$$1) {\n    // if the new rev is the same as the winning rev, we can reuse that value\n    newRevIsDeleted = winningRevIsDeleted;\n  } else {\n    // if they're not the same, then we need to recalculate\n    newRevIsDeleted = isDeleted(docInfo.metadata, newRev);\n  }\n\n  writeDoc(docInfo, winningRev$$1, winningRevIsDeleted, newRevIsDeleted,\n    true, delta, i, cb);\n}\n\nfunction rootIsMissing(docInfo) {\n  return docInfo.metadata.rev_tree[0].ids[1].status === 'missing';\n}\n\nfunction processDocs(revLimit, docInfos, api, fetchedDocs, tx, results,\n                     writeDoc, opts, overallCallback) {\n\n  // Default to 1000 locally\n  revLimit = revLimit || 1000;\n\n  function insertDoc(docInfo, resultsIdx, callback) {\n    // Cant insert new deleted documents\n    var winningRev$$1 = winningRev(docInfo.metadata);\n    var deleted = isDeleted(docInfo.metadata, winningRev$$1);\n    if ('was_delete' in opts && deleted) {\n      results[resultsIdx] = createError(MISSING_DOC, 'deleted');\n      return callback();\n    }\n\n    // 4712 - detect whether a new document was inserted with a _rev\n    var inConflict = newEdits && rootIsMissing(docInfo);\n\n    if (inConflict) {\n      var err = createError(REV_CONFLICT);\n      results[resultsIdx] = err;\n      return callback();\n    }\n\n    var delta = deleted ? 0 : 1;\n\n    writeDoc(docInfo, winningRev$$1, deleted, deleted, false,\n      delta, resultsIdx, callback);\n  }\n\n  var newEdits = opts.new_edits;\n  var idsToDocs = new ExportedMap();\n\n  var docsDone = 0;\n  var docsToDo = docInfos.length;\n\n  function checkAllDocsDone() {\n    if (++docsDone === docsToDo && overallCallback) {\n      overallCallback();\n    }\n  }\n\n  docInfos.forEach(function (currentDoc, resultsIdx) {\n\n    if (currentDoc._id && isLocalId(currentDoc._id)) {\n      var fun = currentDoc._deleted ? '_removeLocal' : '_putLocal';\n      api[fun](currentDoc, {ctx: tx}, function (err, res) {\n        results[resultsIdx] = err || res;\n        checkAllDocsDone();\n      });\n      return;\n    }\n\n    var id = currentDoc.metadata.id;\n    if (idsToDocs.has(id)) {\n      docsToDo--; // duplicate\n      idsToDocs.get(id).push([currentDoc, resultsIdx]);\n    } else {\n      idsToDocs.set(id, [[currentDoc, resultsIdx]]);\n    }\n  });\n\n  // in the case of new_edits, the user can provide multiple docs\n  // with the same id. these need to be processed sequentially\n  idsToDocs.forEach(function (docs, id) {\n    var numDone = 0;\n\n    function docWritten() {\n      if (++numDone < docs.length) {\n        nextDoc();\n      } else {\n        checkAllDocsDone();\n      }\n    }\n    function nextDoc() {\n      var value = docs[numDone];\n      var currentDoc = value[0];\n      var resultsIdx = value[1];\n\n      if (fetchedDocs.has(id)) {\n        updateDoc(revLimit, fetchedDocs.get(id), currentDoc, results,\n          resultsIdx, docWritten, writeDoc, newEdits);\n      } else {\n        // Ensure stemming applies to new writes as well\n        var merged = merge([], currentDoc.metadata.rev_tree[0], revLimit);\n        currentDoc.metadata.rev_tree = merged.tree;\n        currentDoc.stemmedRevs = merged.stemmedRevs || [];\n        insertDoc(currentDoc, resultsIdx, docWritten);\n      }\n    }\n    nextDoc();\n  });\n}\n\n// IndexedDB requires a versioned database structure, so we use the\n// version here to manage migrations.\nvar ADAPTER_VERSION = 5;\n\n// The object stores created for each database\n// DOC_STORE stores the document meta data, its revision history and state\n// Keyed by document id\nvar DOC_STORE = 'document-store';\n// BY_SEQ_STORE stores a particular version of a document, keyed by its\n// sequence id\nvar BY_SEQ_STORE = 'by-sequence';\n// Where we store attachments\nvar ATTACH_STORE = 'attach-store';\n// Where we store many-to-many relations\n// between attachment digests and seqs\nvar ATTACH_AND_SEQ_STORE = 'attach-seq-store';\n\n// Where we store database-wide meta data in a single record\n// keyed by id: META_STORE\nvar META_STORE = 'meta-store';\n// Where we store local documents\nvar LOCAL_STORE = 'local-store';\n// Where we detect blob support\nvar DETECT_BLOB_SUPPORT_STORE = 'detect-blob-support';\n\nfunction safeJsonParse(str) {\n  // This try/catch guards against stack overflow errors.\n  // JSON.parse() is faster than vuvuzela.parse() but vuvuzela\n  // cannot overflow.\n  try {\n    return JSON.parse(str);\n  } catch (e) {\n    /* istanbul ignore next */\n    return vuvuzela.parse(str);\n  }\n}\n\nfunction safeJsonStringify(json) {\n  try {\n    return JSON.stringify(json);\n  } catch (e) {\n    /* istanbul ignore next */\n    return vuvuzela.stringify(json);\n  }\n}\n\nfunction idbError(callback) {\n  return function (evt) {\n    var message = 'unknown_error';\n    if (evt.target && evt.target.error) {\n      message = evt.target.error.name || evt.target.error.message;\n    }\n    callback(createError(IDB_ERROR, message, evt.type));\n  };\n}\n\n// Unfortunately, the metadata has to be stringified\n// when it is put into the database, because otherwise\n// IndexedDB can throw errors for deeply-nested objects.\n// Originally we just used JSON.parse/JSON.stringify; now\n// we use this custom vuvuzela library that avoids recursion.\n// If we could do it all over again, we'd probably use a\n// format for the revision trees other than JSON.\nfunction encodeMetadata(metadata, winningRev, deleted) {\n  return {\n    data: safeJsonStringify(metadata),\n    winningRev: winningRev,\n    deletedOrLocal: deleted ? '1' : '0',\n    seq: metadata.seq, // highest seq for this doc\n    id: metadata.id\n  };\n}\n\nfunction decodeMetadata(storedObject) {\n  if (!storedObject) {\n    return null;\n  }\n  var metadata = safeJsonParse(storedObject.data);\n  metadata.winningRev = storedObject.winningRev;\n  metadata.deleted = storedObject.deletedOrLocal === '1';\n  metadata.seq = storedObject.seq;\n  return metadata;\n}\n\n// read the doc back out from the database. we don't store the\n// _id or _rev because we already have _doc_id_rev.\nfunction decodeDoc(doc) {\n  if (!doc) {\n    return doc;\n  }\n  var idx = doc._doc_id_rev.lastIndexOf(':');\n  doc._id = doc._doc_id_rev.substring(0, idx - 1);\n  doc._rev = doc._doc_id_rev.substring(idx + 1);\n  delete doc._doc_id_rev;\n  return doc;\n}\n\n// Read a blob from the database, encoding as necessary\n// and translating from base64 if the IDB doesn't support\n// native Blobs\nfunction readBlobData(body, type, asBlob, callback) {\n  if (asBlob) {\n    if (!body) {\n      callback(createBlob([''], {type: type}));\n    } else if (typeof body !== 'string') { // we have blob support\n      callback(body);\n    } else { // no blob support\n      callback(b64ToBluffer(body, type));\n    }\n  } else { // as base64 string\n    if (!body) {\n      callback('');\n    } else if (typeof body !== 'string') { // we have blob support\n      readAsBinaryString(body, function (binary) {\n        callback(thisBtoa(binary));\n      });\n    } else { // no blob support\n      callback(body);\n    }\n  }\n}\n\nfunction fetchAttachmentsIfNecessary(doc, opts, txn, cb) {\n  var attachments = Object.keys(doc._attachments || {});\n  if (!attachments.length) {\n    return cb && cb();\n  }\n  var numDone = 0;\n\n  function checkDone() {\n    if (++numDone === attachments.length && cb) {\n      cb();\n    }\n  }\n\n  function fetchAttachment(doc, att) {\n    var attObj = doc._attachments[att];\n    var digest = attObj.digest;\n    var req = txn.objectStore(ATTACH_STORE).get(digest);\n    req.onsuccess = function (e) {\n      attObj.body = e.target.result.body;\n      checkDone();\n    };\n  }\n\n  attachments.forEach(function (att) {\n    if (opts.attachments && opts.include_docs) {\n      fetchAttachment(doc, att);\n    } else {\n      doc._attachments[att].stub = true;\n      checkDone();\n    }\n  });\n}\n\n// IDB-specific postprocessing necessary because\n// we don't know whether we stored a true Blob or\n// a base64-encoded string, and if it's a Blob it\n// needs to be read outside of the transaction context\nfunction postProcessAttachments(results, asBlob) {\n  return Promise.all(results.map(function (row) {\n    if (row.doc && row.doc._attachments) {\n      var attNames = Object.keys(row.doc._attachments);\n      return Promise.all(attNames.map(function (att) {\n        var attObj = row.doc._attachments[att];\n        if (!('body' in attObj)) { // already processed\n          return;\n        }\n        var body = attObj.body;\n        var type = attObj.content_type;\n        return new Promise(function (resolve) {\n          readBlobData(body, type, asBlob, function (data) {\n            row.doc._attachments[att] = $inject_Object_assign(\n              pick(attObj, ['digest', 'content_type']),\n              {data: data}\n            );\n            resolve();\n          });\n        });\n      }));\n    }\n  }));\n}\n\nfunction compactRevs(revs, docId, txn) {\n\n  var possiblyOrphanedDigests = [];\n  var seqStore = txn.objectStore(BY_SEQ_STORE);\n  var attStore = txn.objectStore(ATTACH_STORE);\n  var attAndSeqStore = txn.objectStore(ATTACH_AND_SEQ_STORE);\n  var count = revs.length;\n\n  function checkDone() {\n    count--;\n    if (!count) { // done processing all revs\n      deleteOrphanedAttachments();\n    }\n  }\n\n  function deleteOrphanedAttachments() {\n    if (!possiblyOrphanedDigests.length) {\n      return;\n    }\n    possiblyOrphanedDigests.forEach(function (digest) {\n      var countReq = attAndSeqStore.index('digestSeq').count(\n        IDBKeyRange.bound(\n          digest + '::', digest + '::\\uffff', false, false));\n      countReq.onsuccess = function (e) {\n        var count = e.target.result;\n        if (!count) {\n          // orphaned\n          attStore.delete(digest);\n        }\n      };\n    });\n  }\n\n  revs.forEach(function (rev$$1) {\n    var index = seqStore.index('_doc_id_rev');\n    var key = docId + \"::\" + rev$$1;\n    index.getKey(key).onsuccess = function (e) {\n      var seq = e.target.result;\n      if (typeof seq !== 'number') {\n        return checkDone();\n      }\n      seqStore.delete(seq);\n\n      var cursor = attAndSeqStore.index('seq')\n        .openCursor(IDBKeyRange.only(seq));\n\n      cursor.onsuccess = function (event) {\n        var cursor = event.target.result;\n        if (cursor) {\n          var digest = cursor.value.digestSeq.split('::')[0];\n          possiblyOrphanedDigests.push(digest);\n          attAndSeqStore.delete(cursor.primaryKey);\n          cursor.continue();\n        } else { // done\n          checkDone();\n        }\n      };\n    };\n  });\n}\n\nfunction openTransactionSafely(idb, stores, mode) {\n  try {\n    return {\n      txn: idb.transaction(stores, mode)\n    };\n  } catch (err) {\n    return {\n      error: err\n    };\n  }\n}\n\nvar changesHandler = new Changes();\n\nfunction idbBulkDocs(dbOpts, req, opts, api, idb, callback) {\n  var docInfos = req.docs;\n  var txn;\n  var docStore;\n  var bySeqStore;\n  var attachStore;\n  var attachAndSeqStore;\n  var metaStore;\n  var docInfoError;\n  var metaDoc;\n\n  for (var i = 0, len = docInfos.length; i < len; i++) {\n    var doc = docInfos[i];\n    if (doc._id && isLocalId(doc._id)) {\n      continue;\n    }\n    doc = docInfos[i] = parseDoc(doc, opts.new_edits, dbOpts);\n    if (doc.error && !docInfoError) {\n      docInfoError = doc;\n    }\n  }\n\n  if (docInfoError) {\n    return callback(docInfoError);\n  }\n\n  var allDocsProcessed = false;\n  var docCountDelta = 0;\n  var results = new Array(docInfos.length);\n  var fetchedDocs = new ExportedMap();\n  var preconditionErrored = false;\n  var blobType = api._meta.blobSupport ? 'blob' : 'base64';\n\n  preprocessAttachments(docInfos, blobType, function (err) {\n    if (err) {\n      return callback(err);\n    }\n    startTransaction();\n  });\n\n  function startTransaction() {\n\n    var stores = [\n      DOC_STORE, BY_SEQ_STORE,\n      ATTACH_STORE,\n      LOCAL_STORE, ATTACH_AND_SEQ_STORE,\n      META_STORE\n    ];\n    var txnResult = openTransactionSafely(idb, stores, 'readwrite');\n    if (txnResult.error) {\n      return callback(txnResult.error);\n    }\n    txn = txnResult.txn;\n    txn.onabort = idbError(callback);\n    txn.ontimeout = idbError(callback);\n    txn.oncomplete = complete;\n    docStore = txn.objectStore(DOC_STORE);\n    bySeqStore = txn.objectStore(BY_SEQ_STORE);\n    attachStore = txn.objectStore(ATTACH_STORE);\n    attachAndSeqStore = txn.objectStore(ATTACH_AND_SEQ_STORE);\n    metaStore = txn.objectStore(META_STORE);\n\n    metaStore.get(META_STORE).onsuccess = function (e) {\n      metaDoc = e.target.result;\n      updateDocCountIfReady();\n    };\n\n    verifyAttachments(function (err) {\n      if (err) {\n        preconditionErrored = true;\n        return callback(err);\n      }\n      fetchExistingDocs();\n    });\n  }\n\n  function onAllDocsProcessed() {\n    allDocsProcessed = true;\n    updateDocCountIfReady();\n  }\n\n  function idbProcessDocs() {\n    processDocs(dbOpts.revs_limit, docInfos, api, fetchedDocs,\n                txn, results, writeDoc, opts, onAllDocsProcessed);\n  }\n\n  function updateDocCountIfReady() {\n    if (!metaDoc || !allDocsProcessed) {\n      return;\n    }\n    // caching the docCount saves a lot of time in allDocs() and\n    // info(), which is why we go to all the trouble of doing this\n    metaDoc.docCount += docCountDelta;\n    metaStore.put(metaDoc);\n  }\n\n  function fetchExistingDocs() {\n\n    if (!docInfos.length) {\n      return;\n    }\n\n    var numFetched = 0;\n\n    function checkDone() {\n      if (++numFetched === docInfos.length) {\n        idbProcessDocs();\n      }\n    }\n\n    function readMetadata(event) {\n      var metadata = decodeMetadata(event.target.result);\n\n      if (metadata) {\n        fetchedDocs.set(metadata.id, metadata);\n      }\n      checkDone();\n    }\n\n    for (var i = 0, len = docInfos.length; i < len; i++) {\n      var docInfo = docInfos[i];\n      if (docInfo._id && isLocalId(docInfo._id)) {\n        checkDone(); // skip local docs\n        continue;\n      }\n      var req = docStore.get(docInfo.metadata.id);\n      req.onsuccess = readMetadata;\n    }\n  }\n\n  function complete() {\n    if (preconditionErrored) {\n      return;\n    }\n\n    changesHandler.notify(api._meta.name);\n    callback(null, results);\n  }\n\n  function verifyAttachment(digest, callback) {\n\n    var req = attachStore.get(digest);\n    req.onsuccess = function (e) {\n      if (!e.target.result) {\n        var err = createError(MISSING_STUB,\n          'unknown stub attachment with digest ' +\n          digest);\n        err.status = 412;\n        callback(err);\n      } else {\n        callback();\n      }\n    };\n  }\n\n  function verifyAttachments(finish) {\n\n\n    var digests = [];\n    docInfos.forEach(function (docInfo) {\n      if (docInfo.data && docInfo.data._attachments) {\n        Object.keys(docInfo.data._attachments).forEach(function (filename) {\n          var att = docInfo.data._attachments[filename];\n          if (att.stub) {\n            digests.push(att.digest);\n          }\n        });\n      }\n    });\n    if (!digests.length) {\n      return finish();\n    }\n    var numDone = 0;\n    var err;\n\n    function checkDone() {\n      if (++numDone === digests.length) {\n        finish(err);\n      }\n    }\n    digests.forEach(function (digest) {\n      verifyAttachment(digest, function (attErr) {\n        if (attErr && !err) {\n          err = attErr;\n        }\n        checkDone();\n      });\n    });\n  }\n\n  function writeDoc(docInfo, winningRev$$1, winningRevIsDeleted, newRevIsDeleted,\n                    isUpdate, delta, resultsIdx, callback) {\n\n    docInfo.metadata.winningRev = winningRev$$1;\n    docInfo.metadata.deleted = winningRevIsDeleted;\n\n    var doc = docInfo.data;\n    doc._id = docInfo.metadata.id;\n    doc._rev = docInfo.metadata.rev;\n\n    if (newRevIsDeleted) {\n      doc._deleted = true;\n    }\n\n    var hasAttachments = doc._attachments &&\n      Object.keys(doc._attachments).length;\n    if (hasAttachments) {\n      return writeAttachments(docInfo, winningRev$$1, winningRevIsDeleted,\n        isUpdate, resultsIdx, callback);\n    }\n\n    docCountDelta += delta;\n    updateDocCountIfReady();\n\n    finishDoc(docInfo, winningRev$$1, winningRevIsDeleted,\n      isUpdate, resultsIdx, callback);\n  }\n\n  function finishDoc(docInfo, winningRev$$1, winningRevIsDeleted,\n                     isUpdate, resultsIdx, callback) {\n\n    var doc = docInfo.data;\n    var metadata = docInfo.metadata;\n\n    doc._doc_id_rev = metadata.id + '::' + metadata.rev;\n    delete doc._id;\n    delete doc._rev;\n\n    function afterPutDoc(e) {\n      var revsToDelete = docInfo.stemmedRevs || [];\n\n      if (isUpdate && api.auto_compaction) {\n        revsToDelete = revsToDelete.concat(compactTree(docInfo.metadata));\n      }\n\n      if (revsToDelete && revsToDelete.length) {\n        compactRevs(revsToDelete, docInfo.metadata.id, txn);\n      }\n\n      metadata.seq = e.target.result;\n      // Current _rev is calculated from _rev_tree on read\n      // delete metadata.rev;\n      var metadataToStore = encodeMetadata(metadata, winningRev$$1,\n        winningRevIsDeleted);\n      var metaDataReq = docStore.put(metadataToStore);\n      metaDataReq.onsuccess = afterPutMetadata;\n    }\n\n    function afterPutDocError(e) {\n      // ConstraintError, need to update, not put (see #1638 for details)\n      e.preventDefault(); // avoid transaction abort\n      e.stopPropagation(); // avoid transaction onerror\n      var index = bySeqStore.index('_doc_id_rev');\n      var getKeyReq = index.getKey(doc._doc_id_rev);\n      getKeyReq.onsuccess = function (e) {\n        var putReq = bySeqStore.put(doc, e.target.result);\n        putReq.onsuccess = afterPutDoc;\n      };\n    }\n\n    function afterPutMetadata() {\n      results[resultsIdx] = {\n        ok: true,\n        id: metadata.id,\n        rev: metadata.rev\n      };\n      fetchedDocs.set(docInfo.metadata.id, docInfo.metadata);\n      insertAttachmentMappings(docInfo, metadata.seq, callback);\n    }\n\n    var putReq = bySeqStore.put(doc);\n\n    putReq.onsuccess = afterPutDoc;\n    putReq.onerror = afterPutDocError;\n  }\n\n  function writeAttachments(docInfo, winningRev$$1, winningRevIsDeleted,\n                            isUpdate, resultsIdx, callback) {\n\n\n    var doc = docInfo.data;\n\n    var numDone = 0;\n    var attachments = Object.keys(doc._attachments);\n\n    function collectResults() {\n      if (numDone === attachments.length) {\n        finishDoc(docInfo, winningRev$$1, winningRevIsDeleted,\n          isUpdate, resultsIdx, callback);\n      }\n    }\n\n    function attachmentSaved() {\n      numDone++;\n      collectResults();\n    }\n\n    attachments.forEach(function (key) {\n      var att = docInfo.data._attachments[key];\n      if (!att.stub) {\n        var data = att.data;\n        delete att.data;\n        att.revpos = parseInt(winningRev$$1, 10);\n        var digest = att.digest;\n        saveAttachment(digest, data, attachmentSaved);\n      } else {\n        numDone++;\n        collectResults();\n      }\n    });\n  }\n\n  // map seqs to attachment digests, which\n  // we will need later during compaction\n  function insertAttachmentMappings(docInfo, seq, callback) {\n\n    var attsAdded = 0;\n    var attsToAdd = Object.keys(docInfo.data._attachments || {});\n\n    if (!attsToAdd.length) {\n      return callback();\n    }\n\n    function checkDone() {\n      if (++attsAdded === attsToAdd.length) {\n        callback();\n      }\n    }\n\n    function add(att) {\n      var digest = docInfo.data._attachments[att].digest;\n      var req = attachAndSeqStore.put({\n        seq: seq,\n        digestSeq: digest + '::' + seq\n      });\n\n      req.onsuccess = checkDone;\n      req.onerror = function (e) {\n        // this callback is for a constaint error, which we ignore\n        // because this docid/rev has already been associated with\n        // the digest (e.g. when new_edits == false)\n        e.preventDefault(); // avoid transaction abort\n        e.stopPropagation(); // avoid transaction onerror\n        checkDone();\n      };\n    }\n    for (var i = 0; i < attsToAdd.length; i++) {\n      add(attsToAdd[i]); // do in parallel\n    }\n  }\n\n  function saveAttachment(digest, data, callback) {\n\n\n    var getKeyReq = attachStore.count(digest);\n    getKeyReq.onsuccess = function (e) {\n      var count = e.target.result;\n      if (count) {\n        return callback(); // already exists\n      }\n      var newAtt = {\n        digest: digest,\n        body: data\n      };\n      var putReq = attachStore.put(newAtt);\n      putReq.onsuccess = callback;\n    };\n  }\n}\n\n// Abstraction over IDBCursor and getAll()/getAllKeys() that allows us to batch our operations\n// while falling back to a normal IDBCursor operation on browsers that don't support getAll() or\n// getAllKeys(). This allows for a much faster implementation than just straight-up cursors, because\n// we're not processing each document one-at-a-time.\nfunction runBatchedCursor(objectStore, keyRange, descending, batchSize, onBatch) {\n\n  if (batchSize === -1) {\n    batchSize = 1000;\n  }\n\n  // Bail out of getAll()/getAllKeys() in the following cases:\n  // 1) either method is unsupported - we need both\n  // 2) batchSize is 1 (might as well use IDBCursor)\n  // 3) descending – no real way to do this via getAll()/getAllKeys()\n\n  var useGetAll = typeof objectStore.getAll === 'function' &&\n    typeof objectStore.getAllKeys === 'function' &&\n    batchSize > 1 && !descending;\n\n  var keysBatch;\n  var valuesBatch;\n  var pseudoCursor;\n\n  function onGetAll(e) {\n    valuesBatch = e.target.result;\n    if (keysBatch) {\n      onBatch(keysBatch, valuesBatch, pseudoCursor);\n    }\n  }\n\n  function onGetAllKeys(e) {\n    keysBatch = e.target.result;\n    if (valuesBatch) {\n      onBatch(keysBatch, valuesBatch, pseudoCursor);\n    }\n  }\n\n  function continuePseudoCursor() {\n    if (!keysBatch.length) { // no more results\n      return onBatch();\n    }\n    // fetch next batch, exclusive start\n    var lastKey = keysBatch[keysBatch.length - 1];\n    var newKeyRange;\n    if (keyRange && keyRange.upper) {\n      try {\n        newKeyRange = IDBKeyRange.bound(lastKey, keyRange.upper,\n          true, keyRange.upperOpen);\n      } catch (e) {\n        if (e.name === \"DataError\" && e.code === 0) {\n          return onBatch(); // we're done, startkey and endkey are equal\n        }\n      }\n    } else {\n      newKeyRange = IDBKeyRange.lowerBound(lastKey, true);\n    }\n    keyRange = newKeyRange;\n    keysBatch = null;\n    valuesBatch = null;\n    objectStore.getAll(keyRange, batchSize).onsuccess = onGetAll;\n    objectStore.getAllKeys(keyRange, batchSize).onsuccess = onGetAllKeys;\n  }\n\n  function onCursor(e) {\n    var cursor = e.target.result;\n    if (!cursor) { // done\n      return onBatch();\n    }\n    // regular IDBCursor acts like a batch where batch size is always 1\n    onBatch([cursor.key], [cursor.value], cursor);\n  }\n\n  if (useGetAll) {\n    pseudoCursor = {\"continue\": continuePseudoCursor};\n    objectStore.getAll(keyRange, batchSize).onsuccess = onGetAll;\n    objectStore.getAllKeys(keyRange, batchSize).onsuccess = onGetAllKeys;\n  } else if (descending) {\n    objectStore.openCursor(keyRange, 'prev').onsuccess = onCursor;\n  } else {\n    objectStore.openCursor(keyRange).onsuccess = onCursor;\n  }\n}\n\n// simple shim for objectStore.getAll(), falling back to IDBCursor\nfunction getAll(objectStore, keyRange, onSuccess) {\n  if (typeof objectStore.getAll === 'function') {\n    // use native getAll\n    objectStore.getAll(keyRange).onsuccess = onSuccess;\n    return;\n  }\n  // fall back to cursors\n  var values = [];\n\n  function onCursor(e) {\n    var cursor = e.target.result;\n    if (cursor) {\n      values.push(cursor.value);\n      cursor.continue();\n    } else {\n      onSuccess({\n        target: {\n          result: values\n        }\n      });\n    }\n  }\n\n  objectStore.openCursor(keyRange).onsuccess = onCursor;\n}\n\nfunction allDocsKeys(keys, docStore, onBatch) {\n  // It's not guaranted to be returned in right order  \n  var valuesBatch = new Array(keys.length);\n  var count = 0;\n  keys.forEach(function (key, index) {\n    docStore.get(key).onsuccess = function (event) {\n      if (event.target.result) {\n        valuesBatch[index] = event.target.result;\n      } else {\n        valuesBatch[index] = {key: key, error: 'not_found'};\n      }\n      count++;\n      if (count === keys.length) {\n        onBatch(keys, valuesBatch, {});\n      }\n    };\n  });\n}\n\nfunction createKeyRange(start, end, inclusiveEnd, key, descending) {\n  try {\n    if (start && end) {\n      if (descending) {\n        return IDBKeyRange.bound(end, start, !inclusiveEnd, false);\n      } else {\n        return IDBKeyRange.bound(start, end, false, !inclusiveEnd);\n      }\n    } else if (start) {\n      if (descending) {\n        return IDBKeyRange.upperBound(start);\n      } else {\n        return IDBKeyRange.lowerBound(start);\n      }\n    } else if (end) {\n      if (descending) {\n        return IDBKeyRange.lowerBound(end, !inclusiveEnd);\n      } else {\n        return IDBKeyRange.upperBound(end, !inclusiveEnd);\n      }\n    } else if (key) {\n      return IDBKeyRange.only(key);\n    }\n  } catch (e) {\n    return {error: e};\n  }\n  return null;\n}\n\nfunction idbAllDocs(opts, idb, callback) {\n  var start = 'startkey' in opts ? opts.startkey : false;\n  var end = 'endkey' in opts ? opts.endkey : false;\n  var key = 'key' in opts ? opts.key : false;\n  var keys = 'keys' in opts ? opts.keys : false; \n  var skip = opts.skip || 0;\n  var limit = typeof opts.limit === 'number' ? opts.limit : -1;\n  var inclusiveEnd = opts.inclusive_end !== false;\n\n  var keyRange ; \n  var keyRangeError;\n  if (!keys) {\n    keyRange = createKeyRange(start, end, inclusiveEnd, key, opts.descending);\n    keyRangeError = keyRange && keyRange.error;\n    if (keyRangeError && \n      !(keyRangeError.name === \"DataError\" && keyRangeError.code === 0)) {\n      // DataError with error code 0 indicates start is less than end, so\n      // can just do an empty query. Else need to throw\n      return callback(createError(IDB_ERROR,\n        keyRangeError.name, keyRangeError.message));\n    }\n  }\n\n  var stores = [DOC_STORE, BY_SEQ_STORE, META_STORE];\n\n  if (opts.attachments) {\n    stores.push(ATTACH_STORE);\n  }\n  var txnResult = openTransactionSafely(idb, stores, 'readonly');\n  if (txnResult.error) {\n    return callback(txnResult.error);\n  }\n  var txn = txnResult.txn;\n  txn.oncomplete = onTxnComplete;\n  txn.onabort = idbError(callback);\n  var docStore = txn.objectStore(DOC_STORE);\n  var seqStore = txn.objectStore(BY_SEQ_STORE);\n  var metaStore = txn.objectStore(META_STORE);\n  var docIdRevIndex = seqStore.index('_doc_id_rev');\n  var results = [];\n  var docCount;\n  var updateSeq;\n\n  metaStore.get(META_STORE).onsuccess = function (e) {\n    docCount = e.target.result.docCount;\n  };\n\n  /* istanbul ignore if */\n  if (opts.update_seq) {\n    getMaxUpdateSeq(seqStore, function (e) { \n      if (e.target.result && e.target.result.length > 0) {\n        updateSeq = e.target.result[0];\n      }\n    });\n  }\n\n  function getMaxUpdateSeq(objectStore, onSuccess) {\n    function onCursor(e) {\n      var cursor = e.target.result;\n      var maxKey = undefined;\n      if (cursor && cursor.key) {\n        maxKey = cursor.key;\n      } \n      return onSuccess({\n        target: {\n          result: [maxKey]\n        }\n      });\n    }\n    objectStore.openCursor(null, 'prev').onsuccess = onCursor;\n  }\n\n  // if the user specifies include_docs=true, then we don't\n  // want to block the main cursor while we're fetching the doc\n  function fetchDocAsynchronously(metadata, row, winningRev$$1) {\n    var key = metadata.id + \"::\" + winningRev$$1;\n    docIdRevIndex.get(key).onsuccess =  function onGetDoc(e) {\n      row.doc = decodeDoc(e.target.result) || {};\n      if (opts.conflicts) {\n        var conflicts = collectConflicts(metadata);\n        if (conflicts.length) {\n          row.doc._conflicts = conflicts;\n        }\n      }\n      fetchAttachmentsIfNecessary(row.doc, opts, txn);\n    };\n  }\n\n  function allDocsInner(winningRev$$1, metadata) {\n    var row = {\n      id: metadata.id,\n      key: metadata.id,\n      value: {\n        rev: winningRev$$1\n      }\n    };\n    var deleted = metadata.deleted;\n    if (deleted) {\n      if (keys) {\n        results.push(row);\n        // deleted docs are okay with \"keys\" requests\n        row.value.deleted = true;\n        row.doc = null;\n      }\n    } else if (skip-- <= 0) {\n      results.push(row);\n      if (opts.include_docs) {\n        fetchDocAsynchronously(metadata, row, winningRev$$1);\n      }\n    }\n  }\n\n  function processBatch(batchValues) {\n    for (var i = 0, len = batchValues.length; i < len; i++) {\n      if (results.length === limit) {\n        break;\n      }\n      var batchValue = batchValues[i];\n      if (batchValue.error && keys) {\n        // key was not found with \"keys\" requests\n        results.push(batchValue);\n        continue;\n      }\n      var metadata = decodeMetadata(batchValue);\n      var winningRev$$1 = metadata.winningRev;\n      allDocsInner(winningRev$$1, metadata);\n    }\n  }\n\n  function onBatch(batchKeys, batchValues, cursor) {\n    if (!cursor) {\n      return;\n    }\n    processBatch(batchValues);\n    if (results.length < limit) {\n      cursor.continue();\n    }\n  }\n\n  function onGetAll(e) {\n    var values = e.target.result;\n    if (opts.descending) {\n      values = values.reverse();\n    }\n    processBatch(values);\n  }\n\n  function onResultsReady() {\n    var returnVal = {\n      total_rows: docCount,\n      offset: opts.skip,\n      rows: results\n    };\n    \n    /* istanbul ignore if */\n    if (opts.update_seq && updateSeq !== undefined) {\n      returnVal.update_seq = updateSeq;\n    }\n    callback(null, returnVal);\n  }\n\n  function onTxnComplete() {\n    if (opts.attachments) {\n      postProcessAttachments(results, opts.binary).then(onResultsReady);\n    } else {\n      onResultsReady();\n    }\n  }\n\n  // don't bother doing any requests if start > end or limit === 0\n  if (keyRangeError || limit === 0) {\n    return;\n  }\n  if (keys) {\n    return allDocsKeys(opts.keys, docStore, onBatch);\n  }\n  if (limit === -1) { // just fetch everything\n    return getAll(docStore, keyRange, onGetAll);\n  }\n  // else do a cursor\n  // choose a batch size based on the skip, since we'll need to skip that many\n  runBatchedCursor(docStore, keyRange, opts.descending, limit + skip, onBatch);\n}\n\n//\n// Blobs are not supported in all versions of IndexedDB, notably\n// Chrome <37 and Android <5. In those versions, storing a blob will throw.\n//\n// Various other blob bugs exist in Chrome v37-42 (inclusive).\n// Detecting them is expensive and confusing to users, and Chrome 37-42\n// is at very low usage worldwide, so we do a hacky userAgent check instead.\n//\n// content-type bug: https://code.google.com/p/chromium/issues/detail?id=408120\n// 404 bug: https://code.google.com/p/chromium/issues/detail?id=447916\n// FileReader bug: https://code.google.com/p/chromium/issues/detail?id=447836\n//\nfunction checkBlobSupport(txn) {\n  return new Promise(function (resolve) {\n    var blob$$1 = createBlob(['']);\n    var req = txn.objectStore(DETECT_BLOB_SUPPORT_STORE).put(blob$$1, 'key');\n\n    req.onsuccess = function () {\n      var matchedChrome = navigator.userAgent.match(/Chrome\\/(\\d+)/);\n      var matchedEdge = navigator.userAgent.match(/Edge\\//);\n      // MS Edge pretends to be Chrome 42:\n      // https://msdn.microsoft.com/en-us/library/hh869301%28v=vs.85%29.aspx\n      resolve(matchedEdge || !matchedChrome ||\n        parseInt(matchedChrome[1], 10) >= 43);\n    };\n\n    req.onerror = txn.onabort = function (e) {\n      // If the transaction aborts now its due to not being able to\n      // write to the database, likely due to the disk being full\n      e.preventDefault();\n      e.stopPropagation();\n      resolve(false);\n    };\n  }).catch(function () {\n    return false; // error, so assume unsupported\n  });\n}\n\nfunction countDocs(txn, cb) {\n  var index = txn.objectStore(DOC_STORE).index('deletedOrLocal');\n  index.count(IDBKeyRange.only('0')).onsuccess = function (e) {\n    cb(e.target.result);\n  };\n}\n\n// This task queue ensures that IDB open calls are done in their own tick\n\nvar running = false;\nvar queue = [];\n\nfunction tryCode(fun, err, res, PouchDB) {\n  try {\n    fun(err, res);\n  } catch (err) {\n    // Shouldn't happen, but in some odd cases\n    // IndexedDB implementations might throw a sync\n    // error, in which case this will at least log it.\n    PouchDB.emit('error', err);\n  }\n}\n\nfunction applyNext() {\n  if (running || !queue.length) {\n    return;\n  }\n  running = true;\n  queue.shift()();\n}\n\nfunction enqueueTask(action, callback, PouchDB) {\n  queue.push(function runAction() {\n    action(function runCallback(err, res) {\n      tryCode(callback, err, res, PouchDB);\n      running = false;\n      immediate(function runNext() {\n        applyNext(PouchDB);\n      });\n    });\n  });\n  applyNext();\n}\n\nfunction changes(opts, api, dbName, idb) {\n  opts = clone(opts);\n\n  if (opts.continuous) {\n    var id = dbName + ':' + uuid();\n    changesHandler.addListener(dbName, id, api, opts);\n    changesHandler.notify(dbName);\n    return {\n      cancel: function () {\n        changesHandler.removeListener(dbName, id);\n      }\n    };\n  }\n\n  var docIds = opts.doc_ids && new ExportedSet(opts.doc_ids);\n\n  opts.since = opts.since || 0;\n  var lastSeq = opts.since;\n\n  var limit = 'limit' in opts ? opts.limit : -1;\n  if (limit === 0) {\n    limit = 1; // per CouchDB _changes spec\n  }\n\n  var results = [];\n  var numResults = 0;\n  var filter = filterChange(opts);\n  var docIdsToMetadata = new ExportedMap();\n\n  var txn;\n  var bySeqStore;\n  var docStore;\n  var docIdRevIndex;\n\n  function onBatch(batchKeys, batchValues, cursor) {\n    if (!cursor || !batchKeys.length) { // done\n      return;\n    }\n\n    var winningDocs = new Array(batchKeys.length);\n    var metadatas = new Array(batchKeys.length);\n\n    function processMetadataAndWinningDoc(metadata, winningDoc) {\n      var change = opts.processChange(winningDoc, metadata, opts);\n      lastSeq = change.seq = metadata.seq;\n\n      var filtered = filter(change);\n      if (typeof filtered === 'object') { // anything but true/false indicates error\n        return Promise.reject(filtered);\n      }\n\n      if (!filtered) {\n        return Promise.resolve();\n      }\n      numResults++;\n      if (opts.return_docs) {\n        results.push(change);\n      }\n      // process the attachment immediately\n      // for the benefit of live listeners\n      if (opts.attachments && opts.include_docs) {\n        return new Promise(function (resolve) {\n          fetchAttachmentsIfNecessary(winningDoc, opts, txn, function () {\n            postProcessAttachments([change], opts.binary).then(function () {\n              resolve(change);\n            });\n          });\n        });\n      } else {\n        return Promise.resolve(change);\n      }\n    }\n\n    function onBatchDone() {\n      var promises = [];\n      for (var i = 0, len = winningDocs.length; i < len; i++) {\n        if (numResults === limit) {\n          break;\n        }\n        var winningDoc = winningDocs[i];\n        if (!winningDoc) {\n          continue;\n        }\n        var metadata = metadatas[i];\n        promises.push(processMetadataAndWinningDoc(metadata, winningDoc));\n      }\n\n      Promise.all(promises).then(function (changes) {\n        for (var i = 0, len = changes.length; i < len; i++) {\n          if (changes[i]) {\n            opts.onChange(changes[i]);\n          }\n        }\n      }).catch(opts.complete);\n\n      if (numResults !== limit) {\n        cursor.continue();\n      }\n    }\n\n    // Fetch all metadatas/winningdocs from this batch in parallel, then process\n    // them all only once all data has been collected. This is done in parallel\n    // because it's faster than doing it one-at-a-time.\n    var numDone = 0;\n    batchValues.forEach(function (value, i) {\n      var doc = decodeDoc(value);\n      var seq = batchKeys[i];\n      fetchWinningDocAndMetadata(doc, seq, function (metadata, winningDoc) {\n        metadatas[i] = metadata;\n        winningDocs[i] = winningDoc;\n        if (++numDone === batchKeys.length) {\n          onBatchDone();\n        }\n      });\n    });\n  }\n\n  function onGetMetadata(doc, seq, metadata, cb) {\n    if (metadata.seq !== seq) {\n      // some other seq is later\n      return cb();\n    }\n\n    if (metadata.winningRev === doc._rev) {\n      // this is the winning doc\n      return cb(metadata, doc);\n    }\n\n    // fetch winning doc in separate request\n    var docIdRev = doc._id + '::' + metadata.winningRev;\n    var req = docIdRevIndex.get(docIdRev);\n    req.onsuccess = function (e) {\n      cb(metadata, decodeDoc(e.target.result));\n    };\n  }\n\n  function fetchWinningDocAndMetadata(doc, seq, cb) {\n    if (docIds && !docIds.has(doc._id)) {\n      return cb();\n    }\n\n    var metadata = docIdsToMetadata.get(doc._id);\n    if (metadata) { // cached\n      return onGetMetadata(doc, seq, metadata, cb);\n    }\n    // metadata not cached, have to go fetch it\n    docStore.get(doc._id).onsuccess = function (e) {\n      metadata = decodeMetadata(e.target.result);\n      docIdsToMetadata.set(doc._id, metadata);\n      onGetMetadata(doc, seq, metadata, cb);\n    };\n  }\n\n  function finish() {\n    opts.complete(null, {\n      results: results,\n      last_seq: lastSeq\n    });\n  }\n\n  function onTxnComplete() {\n    if (!opts.continuous && opts.attachments) {\n      // cannot guarantee that postProcessing was already done,\n      // so do it again\n      postProcessAttachments(results).then(finish);\n    } else {\n      finish();\n    }\n  }\n\n  var objectStores = [DOC_STORE, BY_SEQ_STORE];\n  if (opts.attachments) {\n    objectStores.push(ATTACH_STORE);\n  }\n  var txnResult = openTransactionSafely(idb, objectStores, 'readonly');\n  if (txnResult.error) {\n    return opts.complete(txnResult.error);\n  }\n  txn = txnResult.txn;\n  txn.onabort = idbError(opts.complete);\n  txn.oncomplete = onTxnComplete;\n\n  bySeqStore = txn.objectStore(BY_SEQ_STORE);\n  docStore = txn.objectStore(DOC_STORE);\n  docIdRevIndex = bySeqStore.index('_doc_id_rev');\n\n  var keyRange = (opts.since && !opts.descending) ?\n    IDBKeyRange.lowerBound(opts.since, true) : null;\n\n  runBatchedCursor(bySeqStore, keyRange, opts.descending, limit, onBatch);\n}\n\nvar cachedDBs = new ExportedMap();\nvar blobSupportPromise;\nvar openReqList = new ExportedMap();\n\nfunction IdbPouch(opts, callback) {\n  var api = this;\n\n  enqueueTask(function (thisCallback) {\n    init(api, opts, thisCallback);\n  }, callback, api.constructor);\n}\n\nfunction init(api, opts, callback) {\n\n  var dbName = opts.name;\n\n  var idb = null;\n  api._meta = null;\n\n  // called when creating a fresh new database\n  function createSchema(db) {\n    var docStore = db.createObjectStore(DOC_STORE, {keyPath : 'id'});\n    db.createObjectStore(BY_SEQ_STORE, {autoIncrement: true})\n      .createIndex('_doc_id_rev', '_doc_id_rev', {unique: true});\n    db.createObjectStore(ATTACH_STORE, {keyPath: 'digest'});\n    db.createObjectStore(META_STORE, {keyPath: 'id', autoIncrement: false});\n    db.createObjectStore(DETECT_BLOB_SUPPORT_STORE);\n\n    // added in v2\n    docStore.createIndex('deletedOrLocal', 'deletedOrLocal', {unique : false});\n\n    // added in v3\n    db.createObjectStore(LOCAL_STORE, {keyPath: '_id'});\n\n    // added in v4\n    var attAndSeqStore = db.createObjectStore(ATTACH_AND_SEQ_STORE,\n      {autoIncrement: true});\n    attAndSeqStore.createIndex('seq', 'seq');\n    attAndSeqStore.createIndex('digestSeq', 'digestSeq', {unique: true});\n  }\n\n  // migration to version 2\n  // unfortunately \"deletedOrLocal\" is a misnomer now that we no longer\n  // store local docs in the main doc-store, but whaddyagonnado\n  function addDeletedOrLocalIndex(txn, callback) {\n    var docStore = txn.objectStore(DOC_STORE);\n    docStore.createIndex('deletedOrLocal', 'deletedOrLocal', {unique : false});\n\n    docStore.openCursor().onsuccess = function (event) {\n      var cursor = event.target.result;\n      if (cursor) {\n        var metadata = cursor.value;\n        var deleted = isDeleted(metadata);\n        metadata.deletedOrLocal = deleted ? \"1\" : \"0\";\n        docStore.put(metadata);\n        cursor.continue();\n      } else {\n        callback();\n      }\n    };\n  }\n\n  // migration to version 3 (part 1)\n  function createLocalStoreSchema(db) {\n    db.createObjectStore(LOCAL_STORE, {keyPath: '_id'})\n      .createIndex('_doc_id_rev', '_doc_id_rev', {unique: true});\n  }\n\n  // migration to version 3 (part 2)\n  function migrateLocalStore(txn, cb) {\n    var localStore = txn.objectStore(LOCAL_STORE);\n    var docStore = txn.objectStore(DOC_STORE);\n    var seqStore = txn.objectStore(BY_SEQ_STORE);\n\n    var cursor = docStore.openCursor();\n    cursor.onsuccess = function (event) {\n      var cursor = event.target.result;\n      if (cursor) {\n        var metadata = cursor.value;\n        var docId = metadata.id;\n        var local = isLocalId(docId);\n        var rev$$1 = winningRev(metadata);\n        if (local) {\n          var docIdRev = docId + \"::\" + rev$$1;\n          // remove all seq entries\n          // associated with this docId\n          var start = docId + \"::\";\n          var end = docId + \"::~\";\n          var index = seqStore.index('_doc_id_rev');\n          var range = IDBKeyRange.bound(start, end, false, false);\n          var seqCursor = index.openCursor(range);\n          seqCursor.onsuccess = function (e) {\n            seqCursor = e.target.result;\n            if (!seqCursor) {\n              // done\n              docStore.delete(cursor.primaryKey);\n              cursor.continue();\n            } else {\n              var data = seqCursor.value;\n              if (data._doc_id_rev === docIdRev) {\n                localStore.put(data);\n              }\n              seqStore.delete(seqCursor.primaryKey);\n              seqCursor.continue();\n            }\n          };\n        } else {\n          cursor.continue();\n        }\n      } else if (cb) {\n        cb();\n      }\n    };\n  }\n\n  // migration to version 4 (part 1)\n  function addAttachAndSeqStore(db) {\n    var attAndSeqStore = db.createObjectStore(ATTACH_AND_SEQ_STORE,\n      {autoIncrement: true});\n    attAndSeqStore.createIndex('seq', 'seq');\n    attAndSeqStore.createIndex('digestSeq', 'digestSeq', {unique: true});\n  }\n\n  // migration to version 4 (part 2)\n  function migrateAttsAndSeqs(txn, callback) {\n    var seqStore = txn.objectStore(BY_SEQ_STORE);\n    var attStore = txn.objectStore(ATTACH_STORE);\n    var attAndSeqStore = txn.objectStore(ATTACH_AND_SEQ_STORE);\n\n    // need to actually populate the table. this is the expensive part,\n    // so as an optimization, check first that this database even\n    // contains attachments\n    var req = attStore.count();\n    req.onsuccess = function (e) {\n      var count = e.target.result;\n      if (!count) {\n        return callback(); // done\n      }\n\n      seqStore.openCursor().onsuccess = function (e) {\n        var cursor = e.target.result;\n        if (!cursor) {\n          return callback(); // done\n        }\n        var doc = cursor.value;\n        var seq = cursor.primaryKey;\n        var atts = Object.keys(doc._attachments || {});\n        var digestMap = {};\n        for (var j = 0; j < atts.length; j++) {\n          var att = doc._attachments[atts[j]];\n          digestMap[att.digest] = true; // uniq digests, just in case\n        }\n        var digests = Object.keys(digestMap);\n        for (j = 0; j < digests.length; j++) {\n          var digest = digests[j];\n          attAndSeqStore.put({\n            seq: seq,\n            digestSeq: digest + '::' + seq\n          });\n        }\n        cursor.continue();\n      };\n    };\n  }\n\n  // migration to version 5\n  // Instead of relying on on-the-fly migration of metadata,\n  // this brings the doc-store to its modern form:\n  // - metadata.winningrev\n  // - metadata.seq\n  // - stringify the metadata when storing it\n  function migrateMetadata(txn) {\n\n    function decodeMetadataCompat(storedObject) {\n      if (!storedObject.data) {\n        // old format, when we didn't store it stringified\n        storedObject.deleted = storedObject.deletedOrLocal === '1';\n        return storedObject;\n      }\n      return decodeMetadata(storedObject);\n    }\n\n    // ensure that every metadata has a winningRev and seq,\n    // which was previously created on-the-fly but better to migrate\n    var bySeqStore = txn.objectStore(BY_SEQ_STORE);\n    var docStore = txn.objectStore(DOC_STORE);\n    var cursor = docStore.openCursor();\n    cursor.onsuccess = function (e) {\n      var cursor = e.target.result;\n      if (!cursor) {\n        return; // done\n      }\n      var metadata = decodeMetadataCompat(cursor.value);\n\n      metadata.winningRev = metadata.winningRev ||\n        winningRev(metadata);\n\n      function fetchMetadataSeq() {\n        // metadata.seq was added post-3.2.0, so if it's missing,\n        // we need to fetch it manually\n        var start = metadata.id + '::';\n        var end = metadata.id + '::\\uffff';\n        var req = bySeqStore.index('_doc_id_rev').openCursor(\n          IDBKeyRange.bound(start, end));\n\n        var metadataSeq = 0;\n        req.onsuccess = function (e) {\n          var cursor = e.target.result;\n          if (!cursor) {\n            metadata.seq = metadataSeq;\n            return onGetMetadataSeq();\n          }\n          var seq = cursor.primaryKey;\n          if (seq > metadataSeq) {\n            metadataSeq = seq;\n          }\n          cursor.continue();\n        };\n      }\n\n      function onGetMetadataSeq() {\n        var metadataToStore = encodeMetadata(metadata,\n          metadata.winningRev, metadata.deleted);\n\n        var req = docStore.put(metadataToStore);\n        req.onsuccess = function () {\n          cursor.continue();\n        };\n      }\n\n      if (metadata.seq) {\n        return onGetMetadataSeq();\n      }\n\n      fetchMetadataSeq();\n    };\n\n  }\n\n  api._remote = false;\n  api.type = function () {\n    return 'idb';\n  };\n\n  api._id = toPromise(function (callback) {\n    callback(null, api._meta.instanceId);\n  });\n\n  api._bulkDocs = function idb_bulkDocs(req, reqOpts, callback) {\n    idbBulkDocs(opts, req, reqOpts, api, idb, callback);\n  };\n\n  // First we look up the metadata in the ids database, then we fetch the\n  // current revision(s) from the by sequence store\n  api._get = function idb_get(id, opts, callback) {\n    var doc;\n    var metadata;\n    var err;\n    var txn = opts.ctx;\n    if (!txn) {\n      var txnResult = openTransactionSafely(idb,\n        [DOC_STORE, BY_SEQ_STORE, ATTACH_STORE], 'readonly');\n      if (txnResult.error) {\n        return callback(txnResult.error);\n      }\n      txn = txnResult.txn;\n    }\n\n    function finish() {\n      callback(err, {doc: doc, metadata: metadata, ctx: txn});\n    }\n\n    txn.objectStore(DOC_STORE).get(id).onsuccess = function (e) {\n      metadata = decodeMetadata(e.target.result);\n      // we can determine the result here if:\n      // 1. there is no such document\n      // 2. the document is deleted and we don't ask about specific rev\n      // When we ask with opts.rev we expect the answer to be either\n      // doc (possibly with _deleted=true) or missing error\n      if (!metadata) {\n        err = createError(MISSING_DOC, 'missing');\n        return finish();\n      }\n\n      var rev$$1;\n      if (!opts.rev) {\n        rev$$1 = metadata.winningRev;\n        var deleted = isDeleted(metadata);\n        if (deleted) {\n          err = createError(MISSING_DOC, \"deleted\");\n          return finish();\n        }\n      } else {\n        rev$$1 = opts.latest ? latest(opts.rev, metadata) : opts.rev;\n      }\n\n      var objectStore = txn.objectStore(BY_SEQ_STORE);\n      var key = metadata.id + '::' + rev$$1;\n\n      objectStore.index('_doc_id_rev').get(key).onsuccess = function (e) {\n        doc = e.target.result;\n        if (doc) {\n          doc = decodeDoc(doc);\n        }\n        if (!doc) {\n          err = createError(MISSING_DOC, 'missing');\n          return finish();\n        }\n        finish();\n      };\n    };\n  };\n\n  api._getAttachment = function (docId, attachId, attachment, opts, callback) {\n    var txn;\n    if (opts.ctx) {\n      txn = opts.ctx;\n    } else {\n      var txnResult = openTransactionSafely(idb,\n        [DOC_STORE, BY_SEQ_STORE, ATTACH_STORE], 'readonly');\n      if (txnResult.error) {\n        return callback(txnResult.error);\n      }\n      txn = txnResult.txn;\n    }\n    var digest = attachment.digest;\n    var type = attachment.content_type;\n\n    txn.objectStore(ATTACH_STORE).get(digest).onsuccess = function (e) {\n      var body = e.target.result.body;\n      readBlobData(body, type, opts.binary, function (blobData) {\n        callback(null, blobData);\n      });\n    };\n  };\n\n  api._info = function idb_info(callback) {\n    var updateSeq;\n    var docCount;\n\n    var txnResult = openTransactionSafely(idb, [META_STORE, BY_SEQ_STORE], 'readonly');\n    if (txnResult.error) {\n      return callback(txnResult.error);\n    }\n    var txn = txnResult.txn;\n    txn.objectStore(META_STORE).get(META_STORE).onsuccess = function (e) {\n      docCount = e.target.result.docCount;\n    };\n    txn.objectStore(BY_SEQ_STORE).openCursor(null, 'prev').onsuccess = function (e) {\n      var cursor = e.target.result;\n      updateSeq = cursor ? cursor.key : 0;\n    };\n\n    txn.oncomplete = function () {\n      callback(null, {\n        doc_count: docCount,\n        update_seq: updateSeq,\n        // for debugging\n        idb_attachment_format: (api._meta.blobSupport ? 'binary' : 'base64')\n      });\n    };\n  };\n\n  api._allDocs = function idb_allDocs(opts, callback) {\n    idbAllDocs(opts, idb, callback);\n  };\n\n  api._changes = function idbChanges(opts) {\n    return changes(opts, api, dbName, idb);\n  };\n\n  api._close = function (callback) {\n    // https://developer.mozilla.org/en-US/docs/IndexedDB/IDBDatabase#close\n    // \"Returns immediately and closes the connection in a separate thread...\"\n    idb.close();\n    cachedDBs.delete(dbName);\n    callback();\n  };\n\n  api._getRevisionTree = function (docId, callback) {\n    var txnResult = openTransactionSafely(idb, [DOC_STORE], 'readonly');\n    if (txnResult.error) {\n      return callback(txnResult.error);\n    }\n    var txn = txnResult.txn;\n    var req = txn.objectStore(DOC_STORE).get(docId);\n    req.onsuccess = function (event) {\n      var doc = decodeMetadata(event.target.result);\n      if (!doc) {\n        callback(createError(MISSING_DOC));\n      } else {\n        callback(null, doc.rev_tree);\n      }\n    };\n  };\n\n  // This function removes revisions of document docId\n  // which are listed in revs and sets this document\n  // revision to to rev_tree\n  api._doCompaction = function (docId, revs, callback) {\n    var stores = [\n      DOC_STORE,\n      BY_SEQ_STORE,\n      ATTACH_STORE,\n      ATTACH_AND_SEQ_STORE\n    ];\n    var txnResult = openTransactionSafely(idb, stores, 'readwrite');\n    if (txnResult.error) {\n      return callback(txnResult.error);\n    }\n    var txn = txnResult.txn;\n\n    var docStore = txn.objectStore(DOC_STORE);\n\n    docStore.get(docId).onsuccess = function (event) {\n      var metadata = decodeMetadata(event.target.result);\n      traverseRevTree(metadata.rev_tree, function (isLeaf, pos,\n                                                         revHash, ctx, opts) {\n        var rev$$1 = pos + '-' + revHash;\n        if (revs.indexOf(rev$$1) !== -1) {\n          opts.status = 'missing';\n        }\n      });\n      compactRevs(revs, docId, txn);\n      var winningRev$$1 = metadata.winningRev;\n      var deleted = metadata.deleted;\n      txn.objectStore(DOC_STORE).put(\n        encodeMetadata(metadata, winningRev$$1, deleted));\n    };\n    txn.onabort = idbError(callback);\n    txn.oncomplete = function () {\n      callback();\n    };\n  };\n\n\n  api._getLocal = function (id, callback) {\n    var txnResult = openTransactionSafely(idb, [LOCAL_STORE], 'readonly');\n    if (txnResult.error) {\n      return callback(txnResult.error);\n    }\n    var tx = txnResult.txn;\n    var req = tx.objectStore(LOCAL_STORE).get(id);\n\n    req.onerror = idbError(callback);\n    req.onsuccess = function (e) {\n      var doc = e.target.result;\n      if (!doc) {\n        callback(createError(MISSING_DOC));\n      } else {\n        delete doc['_doc_id_rev']; // for backwards compat\n        callback(null, doc);\n      }\n    };\n  };\n\n  api._putLocal = function (doc, opts, callback) {\n    if (typeof opts === 'function') {\n      callback = opts;\n      opts = {};\n    }\n    delete doc._revisions; // ignore this, trust the rev\n    var oldRev = doc._rev;\n    var id = doc._id;\n    if (!oldRev) {\n      doc._rev = '0-1';\n    } else {\n      doc._rev = '0-' + (parseInt(oldRev.split('-')[1], 10) + 1);\n    }\n\n    var tx = opts.ctx;\n    var ret;\n    if (!tx) {\n      var txnResult = openTransactionSafely(idb, [LOCAL_STORE], 'readwrite');\n      if (txnResult.error) {\n        return callback(txnResult.error);\n      }\n      tx = txnResult.txn;\n      tx.onerror = idbError(callback);\n      tx.oncomplete = function () {\n        if (ret) {\n          callback(null, ret);\n        }\n      };\n    }\n\n    var oStore = tx.objectStore(LOCAL_STORE);\n    var req;\n    if (oldRev) {\n      req = oStore.get(id);\n      req.onsuccess = function (e) {\n        var oldDoc = e.target.result;\n        if (!oldDoc || oldDoc._rev !== oldRev) {\n          callback(createError(REV_CONFLICT));\n        } else { // update\n          var req = oStore.put(doc);\n          req.onsuccess = function () {\n            ret = {ok: true, id: doc._id, rev: doc._rev};\n            if (opts.ctx) { // return immediately\n              callback(null, ret);\n            }\n          };\n        }\n      };\n    } else { // new doc\n      req = oStore.add(doc);\n      req.onerror = function (e) {\n        // constraint error, already exists\n        callback(createError(REV_CONFLICT));\n        e.preventDefault(); // avoid transaction abort\n        e.stopPropagation(); // avoid transaction onerror\n      };\n      req.onsuccess = function () {\n        ret = {ok: true, id: doc._id, rev: doc._rev};\n        if (opts.ctx) { // return immediately\n          callback(null, ret);\n        }\n      };\n    }\n  };\n\n  api._removeLocal = function (doc, opts, callback) {\n    if (typeof opts === 'function') {\n      callback = opts;\n      opts = {};\n    }\n    var tx = opts.ctx;\n    if (!tx) {\n      var txnResult = openTransactionSafely(idb, [LOCAL_STORE], 'readwrite');\n      if (txnResult.error) {\n        return callback(txnResult.error);\n      }\n      tx = txnResult.txn;\n      tx.oncomplete = function () {\n        if (ret) {\n          callback(null, ret);\n        }\n      };\n    }\n    var ret;\n    var id = doc._id;\n    var oStore = tx.objectStore(LOCAL_STORE);\n    var req = oStore.get(id);\n\n    req.onerror = idbError(callback);\n    req.onsuccess = function (e) {\n      var oldDoc = e.target.result;\n      if (!oldDoc || oldDoc._rev !== doc._rev) {\n        callback(createError(MISSING_DOC));\n      } else {\n        oStore.delete(id);\n        ret = {ok: true, id: id, rev: '0-0'};\n        if (opts.ctx) { // return immediately\n          callback(null, ret);\n        }\n      }\n    };\n  };\n\n  api._destroy = function (opts, callback) {\n    changesHandler.removeAllListeners(dbName);\n\n    //Close open request for \"dbName\" database to fix ie delay.\n    var openReq = openReqList.get(dbName);\n    if (openReq && openReq.result) {\n      openReq.result.close();\n      cachedDBs.delete(dbName);\n    }\n    var req = indexedDB.deleteDatabase(dbName);\n\n    req.onsuccess = function () {\n      //Remove open request from the list.\n      openReqList.delete(dbName);\n      if (hasLocalStorage() && (dbName in localStorage)) {\n        delete localStorage[dbName];\n      }\n      callback(null, { 'ok': true });\n    };\n\n    req.onerror = idbError(callback);\n  };\n\n  var cached = cachedDBs.get(dbName);\n\n  if (cached) {\n    idb = cached.idb;\n    api._meta = cached.global;\n    return immediate(function () {\n      callback(null, api);\n    });\n  }\n\n  var req = indexedDB.open(dbName, ADAPTER_VERSION);\n  openReqList.set(dbName, req);\n\n  req.onupgradeneeded = function (e) {\n    var db = e.target.result;\n    if (e.oldVersion < 1) {\n      return createSchema(db); // new db, initial schema\n    }\n    // do migrations\n\n    var txn = e.currentTarget.transaction;\n    // these migrations have to be done in this function, before\n    // control is returned to the event loop, because IndexedDB\n\n    if (e.oldVersion < 3) {\n      createLocalStoreSchema(db); // v2 -> v3\n    }\n    if (e.oldVersion < 4) {\n      addAttachAndSeqStore(db); // v3 -> v4\n    }\n\n    var migrations = [\n      addDeletedOrLocalIndex, // v1 -> v2\n      migrateLocalStore,      // v2 -> v3\n      migrateAttsAndSeqs,     // v3 -> v4\n      migrateMetadata         // v4 -> v5\n    ];\n\n    var i = e.oldVersion;\n\n    function next() {\n      var migration = migrations[i - 1];\n      i++;\n      if (migration) {\n        migration(txn, next);\n      }\n    }\n\n    next();\n  };\n\n  req.onsuccess = function (e) {\n\n    idb = e.target.result;\n\n    idb.onversionchange = function () {\n      idb.close();\n      cachedDBs.delete(dbName);\n    };\n\n    idb.onabort = function (e) {\n      guardedConsole('error', 'Database has a global failure', e.target.error);\n      idb.close();\n      cachedDBs.delete(dbName);\n    };\n\n    // Do a few setup operations (in parallel as much as possible):\n    // 1. Fetch meta doc\n    // 2. Check blob support\n    // 3. Calculate docCount\n    // 4. Generate an instanceId if necessary\n    // 5. Store docCount and instanceId on meta doc\n\n    var txn = idb.transaction([\n      META_STORE,\n      DETECT_BLOB_SUPPORT_STORE,\n      DOC_STORE\n    ], 'readwrite');\n\n    var storedMetaDoc = false;\n    var metaDoc;\n    var docCount;\n    var blobSupport;\n    var instanceId;\n\n    function completeSetup() {\n      if (typeof blobSupport === 'undefined' || !storedMetaDoc) {\n        return;\n      }\n      api._meta = {\n        name: dbName,\n        instanceId: instanceId,\n        blobSupport: blobSupport\n      };\n\n      cachedDBs.set(dbName, {\n        idb: idb,\n        global: api._meta\n      });\n      callback(null, api);\n    }\n\n    function storeMetaDocIfReady() {\n      if (typeof docCount === 'undefined' || typeof metaDoc === 'undefined') {\n        return;\n      }\n      var instanceKey = dbName + '_id';\n      if (instanceKey in metaDoc) {\n        instanceId = metaDoc[instanceKey];\n      } else {\n        metaDoc[instanceKey] = instanceId = uuid();\n      }\n      metaDoc.docCount = docCount;\n      txn.objectStore(META_STORE).put(metaDoc);\n    }\n\n    //\n    // fetch or generate the instanceId\n    //\n    txn.objectStore(META_STORE).get(META_STORE).onsuccess = function (e) {\n      metaDoc = e.target.result || { id: META_STORE };\n      storeMetaDocIfReady();\n    };\n\n    //\n    // countDocs\n    //\n    countDocs(txn, function (count) {\n      docCount = count;\n      storeMetaDocIfReady();\n    });\n\n    //\n    // check blob support\n    //\n    if (!blobSupportPromise) {\n      // make sure blob support is only checked once\n      blobSupportPromise = checkBlobSupport(txn);\n    }\n\n    blobSupportPromise.then(function (val) {\n      blobSupport = val;\n      completeSetup();\n    });\n\n    // only when the metadata put transaction has completed,\n    // consider the setup done\n    txn.oncomplete = function () {\n      storedMetaDoc = true;\n      completeSetup();\n    };\n    txn.onabort = idbError(callback);\n  };\n\n  req.onerror = function (e) {\n    var msg = e.target.error && e.target.error.message;\n\n    if (!msg) {\n      msg = 'Failed to open indexedDB, are you in private browsing mode?';\n    } else if (msg.indexOf(\"stored database is a higher version\") !== -1) {\n      msg = new Error('This DB was created with the newer \"indexeddb\" adapter, but you are trying to open it with the older \"idb\" adapter');\n    }\n\n    guardedConsole('error', msg);\n    callback(createError(IDB_ERROR, msg));\n  };\n}\n\nIdbPouch.valid = function () {\n  // Following #7085 buggy idb versions (typically Safari < 10.1) are\n  // considered valid.\n\n  // On Firefox SecurityError is thrown while referencing indexedDB if cookies\n  // are not allowed. `typeof indexedDB` also triggers the error.\n  try {\n    // some outdated implementations of IDB that appear on Samsung\n    // and HTC Android devices <4.4 are missing IDBKeyRange\n    return typeof indexedDB !== 'undefined' && typeof IDBKeyRange !== 'undefined';\n  } catch (e) {\n    return false;\n  }\n};\n\nfunction IDBPouch (PouchDB) {\n  PouchDB.adapter('idb', IdbPouch, true);\n}\n\n// dead simple promise pool, inspired by https://github.com/timdp/es6-promise-pool\n// but much smaller in code size. limits the number of concurrent promises that are executed\n\n\nfunction pool(promiseFactories, limit) {\n  return new Promise(function (resolve, reject) {\n    var running = 0;\n    var current = 0;\n    var done = 0;\n    var len = promiseFactories.length;\n    var err;\n\n    function runNext() {\n      running++;\n      promiseFactories[current++]().then(onSuccess, onError);\n    }\n\n    function doNext() {\n      if (++done === len) {\n        /* istanbul ignore if */\n        if (err) {\n          reject(err);\n        } else {\n          resolve();\n        }\n      } else {\n        runNextBatch();\n      }\n    }\n\n    function onSuccess() {\n      running--;\n      doNext();\n    }\n\n    /* istanbul ignore next */\n    function onError(thisErr) {\n      running--;\n      err = err || thisErr;\n      doNext();\n    }\n\n    function runNextBatch() {\n      while (running < limit && current < len) {\n        runNext();\n      }\n    }\n\n    runNextBatch();\n  });\n}\n\nvar CHANGES_BATCH_SIZE = 25;\nvar MAX_SIMULTANEOUS_REVS = 50;\nvar CHANGES_TIMEOUT_BUFFER = 5000;\nvar DEFAULT_HEARTBEAT = 10000;\n\nvar supportsBulkGetMap = {};\n\nfunction readAttachmentsAsBlobOrBuffer(row) {\n  var doc = row.doc || row.ok;\n  var atts = doc && doc._attachments;\n  if (!atts) {\n    return;\n  }\n  Object.keys(atts).forEach(function (filename) {\n    var att = atts[filename];\n    att.data = b64ToBluffer(att.data, att.content_type);\n  });\n}\n\nfunction encodeDocId(id) {\n  if (/^_design/.test(id)) {\n    return '_design/' + encodeURIComponent(id.slice(8));\n  }\n  if (/^_local/.test(id)) {\n    return '_local/' + encodeURIComponent(id.slice(7));\n  }\n  return encodeURIComponent(id);\n}\n\nfunction preprocessAttachments$1(doc) {\n  if (!doc._attachments || !Object.keys(doc._attachments)) {\n    return Promise.resolve();\n  }\n\n  return Promise.all(Object.keys(doc._attachments).map(function (key) {\n    var attachment = doc._attachments[key];\n    if (attachment.data && typeof attachment.data !== 'string') {\n      return new Promise(function (resolve) {\n        blobToBase64(attachment.data, resolve);\n      }).then(function (b64) {\n        attachment.data = b64;\n      });\n    }\n  }));\n}\n\nfunction hasUrlPrefix(opts) {\n  if (!opts.prefix) {\n    return false;\n  }\n  var protocol = parseUri(opts.prefix).protocol;\n  return protocol === 'http' || protocol === 'https';\n}\n\n// Get all the information you possibly can about the URI given by name and\n// return it as a suitable object.\nfunction getHost(name, opts) {\n  // encode db name if opts.prefix is a url (#5574)\n  if (hasUrlPrefix(opts)) {\n    var dbName = opts.name.substr(opts.prefix.length);\n    // Ensure prefix has a trailing slash\n    var prefix = opts.prefix.replace(/\\/?$/, '/');\n    name = prefix + encodeURIComponent(dbName);\n  }\n\n  var uri = parseUri(name);\n  if (uri.user || uri.password) {\n    uri.auth = {username: uri.user, password: uri.password};\n  }\n\n  // Split the path part of the URI into parts using '/' as the delimiter\n  // after removing any leading '/' and any trailing '/'\n  var parts = uri.path.replace(/(^\\/|\\/$)/g, '').split('/');\n\n  uri.db = parts.pop();\n  // Prevent double encoding of URI component\n  if (uri.db.indexOf('%') === -1) {\n    uri.db = encodeURIComponent(uri.db);\n  }\n\n  uri.path = parts.join('/');\n\n  return uri;\n}\n\n// Generate a URL with the host data given by opts and the given path\nfunction genDBUrl(opts, path) {\n  return genUrl(opts, opts.db + '/' + path);\n}\n\n// Generate a URL with the host data given by opts and the given path\nfunction genUrl(opts, path) {\n  // If the host already has a path, then we need to have a path delimiter\n  // Otherwise, the path delimiter is the empty string\n  var pathDel = !opts.path ? '' : '/';\n\n  // If the host already has a path, then we need to have a path delimiter\n  // Otherwise, the path delimiter is the empty string\n  return opts.protocol + '://' + opts.host +\n         (opts.port ? (':' + opts.port) : '') +\n         '/' + opts.path + pathDel + path;\n}\n\nfunction paramsToStr(params) {\n  return '?' + Object.keys(params).map(function (k) {\n    return k + '=' + encodeURIComponent(params[k]);\n  }).join('&');\n}\n\nfunction shouldCacheBust(opts) {\n  var ua = (typeof navigator !== 'undefined' && navigator.userAgent) ?\n      navigator.userAgent.toLowerCase() : '';\n  var isIE = ua.indexOf('msie') !== -1;\n  var isTrident = ua.indexOf('trident') !== -1;\n  var isEdge = ua.indexOf('edge') !== -1;\n  var isGET = !('method' in opts) || opts.method === 'GET';\n  return (isIE || isTrident || isEdge) && isGET;\n}\n\n// Implements the PouchDB API for dealing with CouchDB instances over HTTP\nfunction HttpPouch(opts, callback) {\n\n  // The functions that will be publicly available for HttpPouch\n  var api = this;\n\n  var host = getHost(opts.name, opts);\n  var dbUrl = genDBUrl(host, '');\n\n  opts = clone(opts);\n\n  var ourFetch = function (url, options) {\n\n    options = options || {};\n    options.headers = options.headers || new h();\n\n    options.credentials = 'include';\n\n    if (opts.auth || host.auth) {\n      var nAuth = opts.auth || host.auth;\n      var str = nAuth.username + ':' + nAuth.password;\n      var token = thisBtoa(unescape(encodeURIComponent(str)));\n      options.headers.set('Authorization', 'Basic ' + token);\n    }\n\n    var headers = opts.headers || {};\n    Object.keys(headers).forEach(function (key) {\n      options.headers.append(key, headers[key]);\n    });\n\n    /* istanbul ignore if */\n    if (shouldCacheBust(options)) {\n      url += (url.indexOf('?') === -1 ? '?' : '&') + '_nonce=' + Date.now();\n    }\n\n    var fetchFun = opts.fetch || f$1;\n    return fetchFun(url, options);\n  };\n\n  function adapterFun$$1(name, fun) {\n    return adapterFun(name, getArguments(function (args) {\n      setup().then(function () {\n        return fun.apply(this, args);\n      }).catch(function (e) {\n        var callback = args.pop();\n        callback(e);\n      });\n    })).bind(api);\n  }\n\n  function fetchJSON(url, options, callback) {\n\n    var result = {};\n\n    options = options || {};\n    options.headers = options.headers || new h();\n\n    if (!options.headers.get('Content-Type')) {\n      options.headers.set('Content-Type', 'application/json');\n    }\n    if (!options.headers.get('Accept')) {\n      options.headers.set('Accept', 'application/json');\n    }\n\n    return ourFetch(url, options).then(function (response) {\n      result.ok = response.ok;\n      result.status = response.status;\n      return response.json();\n    }).then(function (json) {\n      result.data = json;\n      if (!result.ok) {\n        result.data.status = result.status;\n        var err = generateErrorFromResponse(result.data);\n        if (callback) {\n          return callback(err);\n        } else {\n          throw err;\n        }\n      }\n\n      if (Array.isArray(result.data)) {\n        result.data = result.data.map(function (v) {\n          if (v.error || v.missing) {\n            return generateErrorFromResponse(v);\n          } else {\n            return v;\n          }\n        });\n      }\n\n      if (callback) {\n        callback(null, result.data);\n      } else {\n        return result;\n      }\n    });\n  }\n\n  var setupPromise;\n\n  function setup() {\n    if (opts.skip_setup) {\n      return Promise.resolve();\n    }\n\n    // If there is a setup in process or previous successful setup\n    // done then we will use that\n    // If previous setups have been rejected we will try again\n    if (setupPromise) {\n      return setupPromise;\n    }\n\n    setupPromise = fetchJSON(dbUrl).catch(function (err) {\n      if (err && err.status && err.status === 404) {\n        // Doesnt exist, create it\n        explainError(404, 'PouchDB is just detecting if the remote exists.');\n        return fetchJSON(dbUrl, {method: 'PUT'});\n      } else {\n        return Promise.reject(err);\n      }\n    }).catch(function (err) {\n      // If we try to create a database that already exists, skipped in\n      // istanbul since its catching a race condition.\n      /* istanbul ignore if */\n      if (err && err.status && err.status === 412) {\n        return true;\n      }\n      return Promise.reject(err);\n    });\n\n    setupPromise.catch(function () {\n      setupPromise = null;\n    });\n\n    return setupPromise;\n  }\n\n  immediate(function () {\n    callback(null, api);\n  });\n\n  api._remote = true;\n\n  /* istanbul ignore next */\n  api.type = function () {\n    return 'http';\n  };\n\n  api.id = adapterFun$$1('id', function (callback) {\n    ourFetch(genUrl(host, '')).then(function (response) {\n      return response.json();\n    }).catch(function () {\n      return {};\n    }).then(function (result) {\n      // Bad response or missing `uuid` should not prevent ID generation.\n      var uuid$$1 = (result && result.uuid) ?\n          (result.uuid + host.db) : genDBUrl(host, '');\n      callback(null, uuid$$1);\n    });\n  });\n\n  // Sends a POST request to the host calling the couchdb _compact function\n  //    version: The version of CouchDB it is running\n  api.compact = adapterFun$$1('compact', function (opts, callback) {\n    if (typeof opts === 'function') {\n      callback = opts;\n      opts = {};\n    }\n    opts = clone(opts);\n\n    fetchJSON(genDBUrl(host, '_compact'), {method: 'POST'}).then(function () {\n      function ping() {\n        api.info(function (err, res) {\n          // CouchDB may send a \"compact_running:true\" if it's\n          // already compacting. PouchDB Server doesn't.\n          /* istanbul ignore else */\n          if (res && !res.compact_running) {\n            callback(null, {ok: true});\n          } else {\n            setTimeout(ping, opts.interval || 200);\n          }\n        });\n      }\n      // Ping the http if it's finished compaction\n      ping();\n    });\n  });\n\n  api.bulkGet = adapterFun('bulkGet', function (opts, callback) {\n    var self = this;\n\n    function doBulkGet(cb) {\n      var params = {};\n      if (opts.revs) {\n        params.revs = true;\n      }\n      if (opts.attachments) {\n        /* istanbul ignore next */\n        params.attachments = true;\n      }\n      if (opts.latest) {\n        params.latest = true;\n      }\n      fetchJSON(genDBUrl(host, '_bulk_get' + paramsToStr(params)), {\n        method: 'POST',\n        body: JSON.stringify({ docs: opts.docs})\n      }).then(function (result) {\n        if (opts.attachments && opts.binary) {\n          result.data.results.forEach(function (res) {\n            res.docs.forEach(readAttachmentsAsBlobOrBuffer);\n          });\n        }\n        cb(null, result.data);\n      }).catch(cb);\n    }\n\n    /* istanbul ignore next */\n    function doBulkGetShim() {\n      // avoid \"url too long error\" by splitting up into multiple requests\n      var batchSize = MAX_SIMULTANEOUS_REVS;\n      var numBatches = Math.ceil(opts.docs.length / batchSize);\n      var numDone = 0;\n      var results = new Array(numBatches);\n\n      function onResult(batchNum) {\n        return function (err, res) {\n          // err is impossible because shim returns a list of errs in that case\n          results[batchNum] = res.results;\n          if (++numDone === numBatches) {\n            callback(null, {results: flatten(results)});\n          }\n        };\n      }\n\n      for (var i = 0; i < numBatches; i++) {\n        var subOpts = pick(opts, ['revs', 'attachments', 'binary', 'latest']);\n        subOpts.docs = opts.docs.slice(i * batchSize,\n          Math.min(opts.docs.length, (i + 1) * batchSize));\n        bulkGet(self, subOpts, onResult(i));\n      }\n    }\n\n    // mark the whole database as either supporting or not supporting _bulk_get\n    var dbUrl = genUrl(host, '');\n    var supportsBulkGet = supportsBulkGetMap[dbUrl];\n\n    /* istanbul ignore next */\n    if (typeof supportsBulkGet !== 'boolean') {\n      // check if this database supports _bulk_get\n      doBulkGet(function (err, res) {\n        if (err) {\n          supportsBulkGetMap[dbUrl] = false;\n          explainError(\n            err.status,\n            'PouchDB is just detecting if the remote ' +\n            'supports the _bulk_get API.'\n          );\n          doBulkGetShim();\n        } else {\n          supportsBulkGetMap[dbUrl] = true;\n          callback(null, res);\n        }\n      });\n    } else if (supportsBulkGet) {\n      doBulkGet(callback);\n    } else {\n      doBulkGetShim();\n    }\n  });\n\n  // Calls GET on the host, which gets back a JSON string containing\n  //    couchdb: A welcome string\n  //    version: The version of CouchDB it is running\n  api._info = function (callback) {\n    setup().then(function () {\n      return ourFetch(genDBUrl(host, ''));\n    }).then(function (response) {\n      return response.json();\n    }).then(function (info) {\n      info.host = genDBUrl(host, '');\n      callback(null, info);\n    }).catch(callback);\n  };\n\n  api.fetch = function (path, options) {\n    return setup().then(function () {\n      var url = path.substring(0, 1) === '/' ?\n        genUrl(host, path.substring(1)) :\n        genDBUrl(host, path);\n      return ourFetch(url, options);\n    });\n  };\n\n  // Get the document with the given id from the database given by host.\n  // The id could be solely the _id in the database, or it may be a\n  // _design/ID or _local/ID path\n  api.get = adapterFun$$1('get', function (id, opts, callback) {\n    // If no options were given, set the callback to the second parameter\n    if (typeof opts === 'function') {\n      callback = opts;\n      opts = {};\n    }\n    opts = clone(opts);\n\n    // List of parameters to add to the GET request\n    var params = {};\n\n    if (opts.revs) {\n      params.revs = true;\n    }\n\n    if (opts.revs_info) {\n      params.revs_info = true;\n    }\n\n    if (opts.latest) {\n      params.latest = true;\n    }\n\n    if (opts.open_revs) {\n      if (opts.open_revs !== \"all\") {\n        opts.open_revs = JSON.stringify(opts.open_revs);\n      }\n      params.open_revs = opts.open_revs;\n    }\n\n    if (opts.rev) {\n      params.rev = opts.rev;\n    }\n\n    if (opts.conflicts) {\n      params.conflicts = opts.conflicts;\n    }\n\n    /* istanbul ignore if */\n    if (opts.update_seq) {\n      params.update_seq = opts.update_seq;\n    }\n\n    id = encodeDocId(id);\n\n    function fetchAttachments(doc) {\n      var atts = doc._attachments;\n      var filenames = atts && Object.keys(atts);\n      if (!atts || !filenames.length) {\n        return;\n      }\n      // we fetch these manually in separate XHRs, because\n      // Sync Gateway would normally send it back as multipart/mixed,\n      // which we cannot parse. Also, this is more efficient than\n      // receiving attachments as base64-encoded strings.\n      function fetchData(filename) {\n        var att = atts[filename];\n        var path = encodeDocId(doc._id) + '/' + encodeAttachmentId(filename) +\n            '?rev=' + doc._rev;\n        return ourFetch(genDBUrl(host, path)).then(function (response) {\n          if ('buffer' in response) {\n            return response.buffer();\n          } else {\n            /* istanbul ignore next */\n            return response.blob();\n          }\n        }).then(function (blob) {\n          if (opts.binary) {\n            var typeFieldDescriptor = Object.getOwnPropertyDescriptor(blob.__proto__, 'type');\n            if (!typeFieldDescriptor || typeFieldDescriptor.set) {\n              blob.type = att.content_type;\n            }\n            return blob;\n          }\n          return new Promise(function (resolve) {\n            blobToBase64(blob, resolve);\n          });\n        }).then(function (data) {\n          delete att.stub;\n          delete att.length;\n          att.data = data;\n        });\n      }\n\n      var promiseFactories = filenames.map(function (filename) {\n        return function () {\n          return fetchData(filename);\n        };\n      });\n\n      // This limits the number of parallel xhr requests to 5 any time\n      // to avoid issues with maximum browser request limits\n      return pool(promiseFactories, 5);\n    }\n\n    function fetchAllAttachments(docOrDocs) {\n      if (Array.isArray(docOrDocs)) {\n        return Promise.all(docOrDocs.map(function (doc) {\n          if (doc.ok) {\n            return fetchAttachments(doc.ok);\n          }\n        }));\n      }\n      return fetchAttachments(docOrDocs);\n    }\n\n    var url = genDBUrl(host, id + paramsToStr(params));\n    fetchJSON(url).then(function (res) {\n      return Promise.resolve().then(function () {\n        if (opts.attachments) {\n          return fetchAllAttachments(res.data);\n        }\n      }).then(function () {\n        callback(null, res.data);\n      });\n    }).catch(function (e) {\n      e.docId = id;\n      callback(e);\n    });\n  });\n\n\n  // Delete the document given by doc from the database given by host.\n  api.remove = adapterFun$$1('remove', function (docOrId, optsOrRev, opts, cb) {\n    var doc;\n    if (typeof optsOrRev === 'string') {\n      // id, rev, opts, callback style\n      doc = {\n        _id: docOrId,\n        _rev: optsOrRev\n      };\n      if (typeof opts === 'function') {\n        cb = opts;\n        opts = {};\n      }\n    } else {\n      // doc, opts, callback style\n      doc = docOrId;\n      if (typeof optsOrRev === 'function') {\n        cb = optsOrRev;\n        opts = {};\n      } else {\n        cb = opts;\n        opts = optsOrRev;\n      }\n    }\n\n    var rev$$1 = (doc._rev || opts.rev);\n    var url = genDBUrl(host, encodeDocId(doc._id)) + '?rev=' + rev$$1;\n\n    fetchJSON(url, {method: 'DELETE'}, cb).catch(cb);\n  });\n\n  function encodeAttachmentId(attachmentId) {\n    return attachmentId.split(\"/\").map(encodeURIComponent).join(\"/\");\n  }\n\n  // Get the attachment\n  api.getAttachment = adapterFun$$1('getAttachment', function (docId, attachmentId,\n                                                            opts, callback) {\n    if (typeof opts === 'function') {\n      callback = opts;\n      opts = {};\n    }\n    var params = opts.rev ? ('?rev=' + opts.rev) : '';\n    var url = genDBUrl(host, encodeDocId(docId)) + '/' +\n        encodeAttachmentId(attachmentId) + params;\n    var contentType;\n    ourFetch(url, {method: 'GET'}).then(function (response) {\n      contentType = response.headers.get('content-type');\n      if (!response.ok) {\n        throw response;\n      } else {\n        if (typeof process !== 'undefined' && !process.browser && typeof response.buffer === 'function') {\n          return response.buffer();\n        } else {\n          /* istanbul ignore next */\n          return response.blob();\n        }\n      }\n    }).then(function (blob) {\n      // TODO: also remove\n      if (typeof process !== 'undefined' && !process.browser) {\n        blob.type = contentType;\n      }\n      callback(null, blob);\n    }).catch(function (err) {\n      callback(err);\n    });\n  });\n\n  // Remove the attachment given by the id and rev\n  api.removeAttachment =  adapterFun$$1('removeAttachment', function (docId,\n                                                                   attachmentId,\n                                                                   rev$$1,\n                                                                   callback) {\n    var url = genDBUrl(host, encodeDocId(docId) + '/' +\n                       encodeAttachmentId(attachmentId)) + '?rev=' + rev$$1;\n    fetchJSON(url, {method: 'DELETE'}, callback).catch(callback);\n  });\n\n  // Add the attachment given by blob and its contentType property\n  // to the document with the given id, the revision given by rev, and\n  // add it to the database given by host.\n  api.putAttachment = adapterFun$$1('putAttachment', function (docId, attachmentId,\n                                                            rev$$1, blob,\n                                                            type, callback) {\n    if (typeof type === 'function') {\n      callback = type;\n      type = blob;\n      blob = rev$$1;\n      rev$$1 = null;\n    }\n    var id = encodeDocId(docId) + '/' + encodeAttachmentId(attachmentId);\n    var url = genDBUrl(host, id);\n    if (rev$$1) {\n      url += '?rev=' + rev$$1;\n    }\n\n    if (typeof blob === 'string') {\n      // input is assumed to be a base64 string\n      var binary;\n      try {\n        binary = thisAtob(blob);\n      } catch (err) {\n        return callback(createError(BAD_ARG,\n                        'Attachment is not a valid base64 string'));\n      }\n      blob = binary ? binStringToBluffer(binary, type) : '';\n    }\n\n    // Add the attachment\n    fetchJSON(url, {\n      headers: new h({'Content-Type': type}),\n      method: 'PUT',\n      body: blob\n    }, callback).catch(callback);\n  });\n\n  // Update/create multiple documents given by req in the database\n  // given by host.\n  api._bulkDocs = function (req, opts, callback) {\n    // If new_edits=false then it prevents the database from creating\n    // new revision numbers for the documents. Instead it just uses\n    // the old ones. This is used in database replication.\n    req.new_edits = opts.new_edits;\n\n    setup().then(function () {\n      return Promise.all(req.docs.map(preprocessAttachments$1));\n    }).then(function () {\n      // Update/create the documents\n      return fetchJSON(genDBUrl(host, '_bulk_docs'), {\n        method: 'POST',\n        body: JSON.stringify(req)\n      }, callback);\n    }).catch(callback);\n  };\n\n\n  // Update/create document\n  api._put = function (doc, opts, callback) {\n    setup().then(function () {\n      return preprocessAttachments$1(doc);\n    }).then(function () {\n      return fetchJSON(genDBUrl(host, encodeDocId(doc._id)), {\n        method: 'PUT',\n        body: JSON.stringify(doc)\n      });\n    }).then(function (result) {\n      callback(null, result.data);\n    }).catch(function (err) {\n      err.docId = doc && doc._id;\n      callback(err);\n    });\n  };\n\n\n  // Get a listing of the documents in the database given\n  // by host and ordered by increasing id.\n  api.allDocs = adapterFun$$1('allDocs', function (opts, callback) {\n    if (typeof opts === 'function') {\n      callback = opts;\n      opts = {};\n    }\n    opts = clone(opts);\n\n    // List of parameters to add to the GET request\n    var params = {};\n    var body;\n    var method = 'GET';\n\n    if (opts.conflicts) {\n      params.conflicts = true;\n    }\n\n    /* istanbul ignore if */\n    if (opts.update_seq) {\n      params.update_seq = true;\n    }\n\n    if (opts.descending) {\n      params.descending = true;\n    }\n\n    if (opts.include_docs) {\n      params.include_docs = true;\n    }\n\n    // added in CouchDB 1.6.0\n    if (opts.attachments) {\n      params.attachments = true;\n    }\n\n    if (opts.key) {\n      params.key = JSON.stringify(opts.key);\n    }\n\n    if (opts.start_key) {\n      opts.startkey = opts.start_key;\n    }\n\n    if (opts.startkey) {\n      params.startkey = JSON.stringify(opts.startkey);\n    }\n\n    if (opts.end_key) {\n      opts.endkey = opts.end_key;\n    }\n\n    if (opts.endkey) {\n      params.endkey = JSON.stringify(opts.endkey);\n    }\n\n    if (typeof opts.inclusive_end !== 'undefined') {\n      params.inclusive_end = !!opts.inclusive_end;\n    }\n\n    if (typeof opts.limit !== 'undefined') {\n      params.limit = opts.limit;\n    }\n\n    if (typeof opts.skip !== 'undefined') {\n      params.skip = opts.skip;\n    }\n\n    var paramStr = paramsToStr(params);\n\n    if (typeof opts.keys !== 'undefined') {\n      method = 'POST';\n      body = {keys: opts.keys};\n    }\n\n    fetchJSON(genDBUrl(host, '_all_docs' + paramStr), {\n       method: method,\n      body: JSON.stringify(body)\n    }).then(function (result) {\n      if (opts.include_docs && opts.attachments && opts.binary) {\n        result.data.rows.forEach(readAttachmentsAsBlobOrBuffer);\n      }\n      callback(null, result.data);\n    }).catch(callback);\n  });\n\n  // Get a list of changes made to documents in the database given by host.\n  // TODO According to the README, there should be two other methods here,\n  // api.changes.addListener and api.changes.removeListener.\n  api._changes = function (opts) {\n\n    // We internally page the results of a changes request, this means\n    // if there is a large set of changes to be returned we can start\n    // processing them quicker instead of waiting on the entire\n    // set of changes to return and attempting to process them at once\n    var batchSize = 'batch_size' in opts ? opts.batch_size : CHANGES_BATCH_SIZE;\n\n    opts = clone(opts);\n\n    if (opts.continuous && !('heartbeat' in opts)) {\n      opts.heartbeat = DEFAULT_HEARTBEAT;\n    }\n\n    var requestTimeout = ('timeout' in opts) ? opts.timeout : 30 * 1000;\n\n    // ensure CHANGES_TIMEOUT_BUFFER applies\n    if ('timeout' in opts && opts.timeout &&\n      (requestTimeout - opts.timeout) < CHANGES_TIMEOUT_BUFFER) {\n        requestTimeout = opts.timeout + CHANGES_TIMEOUT_BUFFER;\n    }\n\n    /* istanbul ignore if */\n    if ('heartbeat' in opts && opts.heartbeat &&\n       (requestTimeout - opts.heartbeat) < CHANGES_TIMEOUT_BUFFER) {\n        requestTimeout = opts.heartbeat + CHANGES_TIMEOUT_BUFFER;\n    }\n\n    var params = {};\n    if ('timeout' in opts && opts.timeout) {\n      params.timeout = opts.timeout;\n    }\n\n    var limit = (typeof opts.limit !== 'undefined') ? opts.limit : false;\n    var leftToFetch = limit;\n\n    if (opts.style) {\n      params.style = opts.style;\n    }\n\n    if (opts.include_docs || opts.filter && typeof opts.filter === 'function') {\n      params.include_docs = true;\n    }\n\n    if (opts.attachments) {\n      params.attachments = true;\n    }\n\n    if (opts.continuous) {\n      params.feed = 'longpoll';\n    }\n\n    if (opts.seq_interval) {\n      params.seq_interval = opts.seq_interval;\n    }\n\n    if (opts.conflicts) {\n      params.conflicts = true;\n    }\n\n    if (opts.descending) {\n      params.descending = true;\n    }\n\n    /* istanbul ignore if */\n    if (opts.update_seq) {\n      params.update_seq = true;\n    }\n\n    if ('heartbeat' in opts) {\n      // If the heartbeat value is false, it disables the default heartbeat\n      if (opts.heartbeat) {\n        params.heartbeat = opts.heartbeat;\n      }\n    }\n\n    if (opts.filter && typeof opts.filter === 'string') {\n      params.filter = opts.filter;\n    }\n\n    if (opts.view && typeof opts.view === 'string') {\n      params.filter = '_view';\n      params.view = opts.view;\n    }\n\n    // If opts.query_params exists, pass it through to the changes request.\n    // These parameters may be used by the filter on the source database.\n    if (opts.query_params && typeof opts.query_params === 'object') {\n      for (var param_name in opts.query_params) {\n        /* istanbul ignore else */\n        if (opts.query_params.hasOwnProperty(param_name)) {\n          params[param_name] = opts.query_params[param_name];\n        }\n      }\n    }\n\n    var method = 'GET';\n    var body;\n\n    if (opts.doc_ids) {\n      // set this automagically for the user; it's annoying that couchdb\n      // requires both a \"filter\" and a \"doc_ids\" param.\n      params.filter = '_doc_ids';\n      method = 'POST';\n      body = {doc_ids: opts.doc_ids };\n    }\n    /* istanbul ignore next */\n    else if (opts.selector) {\n      // set this automagically for the user, similar to above\n      params.filter = '_selector';\n      method = 'POST';\n      body = {selector: opts.selector };\n    }\n\n    var controller = new a();\n    var lastFetchedSeq;\n\n    // Get all the changes starting wtih the one immediately after the\n    // sequence number given by since.\n    var fetchData = function (since, callback) {\n      if (opts.aborted) {\n        return;\n      }\n      params.since = since;\n      // \"since\" can be any kind of json object in Cloudant/CouchDB 2.x\n      /* istanbul ignore next */\n      if (typeof params.since === \"object\") {\n        params.since = JSON.stringify(params.since);\n      }\n\n      if (opts.descending) {\n        if (limit) {\n          params.limit = leftToFetch;\n        }\n      } else {\n        params.limit = (!limit || leftToFetch > batchSize) ?\n          batchSize : leftToFetch;\n      }\n\n      // Set the options for the ajax call\n      var url = genDBUrl(host, '_changes' + paramsToStr(params));\n      var fetchOpts = {\n        signal: controller.signal,\n        method: method,\n        body: JSON.stringify(body)\n      };\n      lastFetchedSeq = since;\n\n      /* istanbul ignore if */\n      if (opts.aborted) {\n        return;\n      }\n\n      // Get the changes\n      setup().then(function () {\n        return fetchJSON(url, fetchOpts, callback);\n      }).catch(callback);\n    };\n\n    // If opts.since exists, get all the changes from the sequence\n    // number given by opts.since. Otherwise, get all the changes\n    // from the sequence number 0.\n    var results = {results: []};\n\n    var fetched = function (err, res) {\n      if (opts.aborted) {\n        return;\n      }\n      var raw_results_length = 0;\n      // If the result of the ajax call (res) contains changes (res.results)\n      if (res && res.results) {\n        raw_results_length = res.results.length;\n        results.last_seq = res.last_seq;\n        var pending = null;\n        var lastSeq = null;\n        // Attach 'pending' property if server supports it (CouchDB 2.0+)\n        /* istanbul ignore if */\n        if (typeof res.pending === 'number') {\n          pending = res.pending;\n        }\n        if (typeof results.last_seq === 'string' || typeof results.last_seq === 'number') {\n          lastSeq = results.last_seq;\n        }\n        // For each change\n        var req = {};\n        req.query = opts.query_params;\n        res.results = res.results.filter(function (c) {\n          leftToFetch--;\n          var ret = filterChange(opts)(c);\n          if (ret) {\n            if (opts.include_docs && opts.attachments && opts.binary) {\n              readAttachmentsAsBlobOrBuffer(c);\n            }\n            if (opts.return_docs) {\n              results.results.push(c);\n            }\n            opts.onChange(c, pending, lastSeq);\n          }\n          return ret;\n        });\n      } else if (err) {\n        // In case of an error, stop listening for changes and call\n        // opts.complete\n        opts.aborted = true;\n        opts.complete(err);\n        return;\n      }\n\n      // The changes feed may have timed out with no results\n      // if so reuse last update sequence\n      if (res && res.last_seq) {\n        lastFetchedSeq = res.last_seq;\n      }\n\n      var finished = (limit && leftToFetch <= 0) ||\n        (res && raw_results_length < batchSize) ||\n        (opts.descending);\n\n      if ((opts.continuous && !(limit && leftToFetch <= 0)) || !finished) {\n        // Queue a call to fetch again with the newest sequence number\n        immediate(function () { fetchData(lastFetchedSeq, fetched); });\n      } else {\n        // We're done, call the callback\n        opts.complete(null, results);\n      }\n    };\n\n    fetchData(opts.since || 0, fetched);\n\n    // Return a method to cancel this method from processing any more\n    return {\n      cancel: function () {\n        opts.aborted = true;\n        controller.abort();\n      }\n    };\n  };\n\n  // Given a set of document/revision IDs (given by req), tets the subset of\n  // those that do NOT correspond to revisions stored in the database.\n  // See http://wiki.apache.org/couchdb/HttpPostRevsDiff\n  api.revsDiff = adapterFun$$1('revsDiff', function (req, opts, callback) {\n    // If no options were given, set the callback to be the second parameter\n    if (typeof opts === 'function') {\n      callback = opts;\n      opts = {};\n    }\n\n    // Get the missing document/revision IDs\n    fetchJSON(genDBUrl(host, '_revs_diff'), {\n      method: 'POST',\n      body: JSON.stringify(req)\n    }, callback).catch(callback);\n  });\n\n  api._close = function (callback) {\n    callback();\n  };\n\n  api._destroy = function (options, callback) {\n    fetchJSON(genDBUrl(host, ''), {method: 'DELETE'}).then(function (json) {\n      callback(null, json);\n    }).catch(function (err) {\n      /* istanbul ignore if */\n      if (err.status === 404) {\n        callback(null, {ok: true});\n      } else {\n        callback(err);\n      }\n    });\n  };\n}\n\n// HttpPouch is a valid adapter.\nHttpPouch.valid = function () {\n  return true;\n};\n\nfunction HttpPouch$1 (PouchDB) {\n  PouchDB.adapter('http', HttpPouch, false);\n  PouchDB.adapter('https', HttpPouch, false);\n}\n\nfunction QueryParseError(message) {\n  this.status = 400;\n  this.name = 'query_parse_error';\n  this.message = message;\n  this.error = true;\n  try {\n    Error.captureStackTrace(this, QueryParseError);\n  } catch (e) {}\n}\n\ninherits(QueryParseError, Error);\n\nfunction NotFoundError(message) {\n  this.status = 404;\n  this.name = 'not_found';\n  this.message = message;\n  this.error = true;\n  try {\n    Error.captureStackTrace(this, NotFoundError);\n  } catch (e) {}\n}\n\ninherits(NotFoundError, Error);\n\nfunction BuiltInError(message) {\n  this.status = 500;\n  this.name = 'invalid_value';\n  this.message = message;\n  this.error = true;\n  try {\n    Error.captureStackTrace(this, BuiltInError);\n  } catch (e) {}\n}\n\ninherits(BuiltInError, Error);\n\nfunction promisedCallback(promise, callback) {\n  if (callback) {\n    promise.then(function (res) {\n      immediate(function () {\n        callback(null, res);\n      });\n    }, function (reason) {\n      immediate(function () {\n        callback(reason);\n      });\n    });\n  }\n  return promise;\n}\n\nfunction callbackify(fun) {\n  return getArguments(function (args) {\n    var cb = args.pop();\n    var promise = fun.apply(this, args);\n    if (typeof cb === 'function') {\n      promisedCallback(promise, cb);\n    }\n    return promise;\n  });\n}\n\n// Promise finally util similar to Q.finally\nfunction fin(promise, finalPromiseFactory) {\n  return promise.then(function (res) {\n    return finalPromiseFactory().then(function () {\n      return res;\n    });\n  }, function (reason) {\n    return finalPromiseFactory().then(function () {\n      throw reason;\n    });\n  });\n}\n\nfunction sequentialize(queue, promiseFactory) {\n  return function () {\n    var args = arguments;\n    var that = this;\n    return queue.add(function () {\n      return promiseFactory.apply(that, args);\n    });\n  };\n}\n\n// uniq an array of strings, order not guaranteed\n// similar to underscore/lodash _.uniq\nfunction uniq(arr) {\n  var theSet = new ExportedSet(arr);\n  var result = new Array(theSet.size);\n  var index = -1;\n  theSet.forEach(function (value) {\n    result[++index] = value;\n  });\n  return result;\n}\n\nfunction mapToKeysArray(map) {\n  var result = new Array(map.size);\n  var index = -1;\n  map.forEach(function (value, key) {\n    result[++index] = key;\n  });\n  return result;\n}\n\nfunction createBuiltInError(name) {\n  var message = 'builtin ' + name +\n    ' function requires map values to be numbers' +\n    ' or number arrays';\n  return new BuiltInError(message);\n}\n\nfunction sum(values) {\n  var result = 0;\n  for (var i = 0, len = values.length; i < len; i++) {\n    var num = values[i];\n    if (typeof num !== 'number') {\n      if (Array.isArray(num)) {\n        // lists of numbers are also allowed, sum them separately\n        result = typeof result === 'number' ? [result] : result;\n        for (var j = 0, jLen = num.length; j < jLen; j++) {\n          var jNum = num[j];\n          if (typeof jNum !== 'number') {\n            throw createBuiltInError('_sum');\n          } else if (typeof result[j] === 'undefined') {\n            result.push(jNum);\n          } else {\n            result[j] += jNum;\n          }\n        }\n      } else { // not array/number\n        throw createBuiltInError('_sum');\n      }\n    } else if (typeof result === 'number') {\n      result += num;\n    } else { // add number to array\n      result[0] += num;\n    }\n  }\n  return result;\n}\n\nvar log = guardedConsole.bind(null, 'log');\nvar isArray = Array.isArray;\nvar toJSON = JSON.parse;\n\nfunction evalFunctionWithEval(func, emit) {\n  return scopeEval(\n    \"return (\" + func.replace(/;\\s*$/, \"\") + \");\",\n    {\n      emit: emit,\n      sum: sum,\n      log: log,\n      isArray: isArray,\n      toJSON: toJSON\n    }\n  );\n}\n\n/*\n * Simple task queue to sequentialize actions. Assumes\n * callbacks will eventually fire (once).\n */\n\n\nfunction TaskQueue$1() {\n  this.promise = new Promise(function (fulfill) {fulfill(); });\n}\nTaskQueue$1.prototype.add = function (promiseFactory) {\n  this.promise = this.promise.catch(function () {\n    // just recover\n  }).then(function () {\n    return promiseFactory();\n  });\n  return this.promise;\n};\nTaskQueue$1.prototype.finish = function () {\n  return this.promise;\n};\n\nfunction stringify(input) {\n  if (!input) {\n    return 'undefined'; // backwards compat for empty reduce\n  }\n  // for backwards compat with mapreduce, functions/strings are stringified\n  // as-is. everything else is JSON-stringified.\n  switch (typeof input) {\n    case 'function':\n      // e.g. a mapreduce map\n      return input.toString();\n    case 'string':\n      // e.g. a mapreduce built-in _reduce function\n      return input.toString();\n    default:\n      // e.g. a JSON object in the case of mango queries\n      return JSON.stringify(input);\n  }\n}\n\n/* create a string signature for a view so we can cache it and uniq it */\nfunction createViewSignature(mapFun, reduceFun) {\n  // the \"undefined\" part is for backwards compatibility\n  return stringify(mapFun) + stringify(reduceFun) + 'undefined';\n}\n\nfunction createView(sourceDB, viewName, mapFun, reduceFun, temporary, localDocName) {\n  var viewSignature = createViewSignature(mapFun, reduceFun);\n\n  var cachedViews;\n  if (!temporary) {\n    // cache this to ensure we don't try to update the same view twice\n    cachedViews = sourceDB._cachedViews = sourceDB._cachedViews || {};\n    if (cachedViews[viewSignature]) {\n      return cachedViews[viewSignature];\n    }\n  }\n\n  var promiseForView = sourceDB.info().then(function (info) {\n\n    var depDbName = info.db_name + '-mrview-' +\n      (temporary ? 'temp' : stringMd5(viewSignature));\n\n    // save the view name in the source db so it can be cleaned up if necessary\n    // (e.g. when the _design doc is deleted, remove all associated view data)\n    function diffFunction(doc) {\n      doc.views = doc.views || {};\n      var fullViewName = viewName;\n      if (fullViewName.indexOf('/') === -1) {\n        fullViewName = viewName + '/' + viewName;\n      }\n      var depDbs = doc.views[fullViewName] = doc.views[fullViewName] || {};\n      /* istanbul ignore if */\n      if (depDbs[depDbName]) {\n        return; // no update necessary\n      }\n      depDbs[depDbName] = true;\n      return doc;\n    }\n    return upsert(sourceDB, '_local/' + localDocName, diffFunction).then(function () {\n      return sourceDB.registerDependentDatabase(depDbName).then(function (res) {\n        var db = res.db;\n        db.auto_compaction = true;\n        var view = {\n          name: depDbName,\n          db: db,\n          sourceDB: sourceDB,\n          adapter: sourceDB.adapter,\n          mapFun: mapFun,\n          reduceFun: reduceFun\n        };\n        return view.db.get('_local/lastSeq').catch(function (err) {\n          /* istanbul ignore if */\n          if (err.status !== 404) {\n            throw err;\n          }\n        }).then(function (lastSeqDoc) {\n          view.seq = lastSeqDoc ? lastSeqDoc.seq : 0;\n          if (cachedViews) {\n            view.db.once('destroyed', function () {\n              delete cachedViews[viewSignature];\n            });\n          }\n          return view;\n        });\n      });\n    });\n  });\n\n  if (cachedViews) {\n    cachedViews[viewSignature] = promiseForView;\n  }\n  return promiseForView;\n}\n\nvar persistentQueues = {};\nvar tempViewQueue = new TaskQueue$1();\nvar CHANGES_BATCH_SIZE$1 = 50;\n\nfunction parseViewName(name) {\n  // can be either 'ddocname/viewname' or just 'viewname'\n  // (where the ddoc name is the same)\n  return name.indexOf('/') === -1 ? [name, name] : name.split('/');\n}\n\nfunction isGenOne(changes) {\n  // only return true if the current change is 1-\n  // and there are no other leafs\n  return changes.length === 1 && /^1-/.test(changes[0].rev);\n}\n\nfunction emitError(db, e) {\n  try {\n    db.emit('error', e);\n  } catch (err) {\n    guardedConsole('error',\n      'The user\\'s map/reduce function threw an uncaught error.\\n' +\n      'You can debug this error by doing:\\n' +\n      'myDatabase.on(\\'error\\', function (err) { debugger; });\\n' +\n      'Please double-check your map/reduce function.');\n    guardedConsole('error', e);\n  }\n}\n\n/**\n * Returns an \"abstract\" mapreduce object of the form:\n *\n *   {\n *     query: queryFun,\n *     viewCleanup: viewCleanupFun\n *   }\n *\n * Arguments are:\n *\n * localDoc: string\n *   This is for the local doc that gets saved in order to track the\n *   \"dependent\" DBs and clean them up for viewCleanup. It should be\n *   unique, so that indexer plugins don't collide with each other.\n * mapper: function (mapFunDef, emit)\n *   Returns a map function based on the mapFunDef, which in the case of\n *   normal map/reduce is just the de-stringified function, but may be\n *   something else, such as an object in the case of pouchdb-find.\n * reducer: function (reduceFunDef)\n *   Ditto, but for reducing. Modules don't have to support reducing\n *   (e.g. pouchdb-find).\n * ddocValidator: function (ddoc, viewName)\n *   Throws an error if the ddoc or viewName is not valid.\n *   This could be a way to communicate to the user that the configuration for the\n *   indexer is invalid.\n */\nfunction createAbstractMapReduce(localDocName, mapper, reducer, ddocValidator) {\n\n  function tryMap(db, fun, doc) {\n    // emit an event if there was an error thrown by a map function.\n    // putting try/catches in a single function also avoids deoptimizations.\n    try {\n      fun(doc);\n    } catch (e) {\n      emitError(db, e);\n    }\n  }\n\n  function tryReduce(db, fun, keys, values, rereduce) {\n    // same as above, but returning the result or an error. there are two separate\n    // functions to avoid extra memory allocations since the tryCode() case is used\n    // for custom map functions (common) vs this function, which is only used for\n    // custom reduce functions (rare)\n    try {\n      return {output : fun(keys, values, rereduce)};\n    } catch (e) {\n      emitError(db, e);\n      return {error: e};\n    }\n  }\n\n  function sortByKeyThenValue(x, y) {\n    var keyCompare = collate(x.key, y.key);\n    return keyCompare !== 0 ? keyCompare : collate(x.value, y.value);\n  }\n\n  function sliceResults(results, limit, skip) {\n    skip = skip || 0;\n    if (typeof limit === 'number') {\n      return results.slice(skip, limit + skip);\n    } else if (skip > 0) {\n      return results.slice(skip);\n    }\n    return results;\n  }\n\n  function rowToDocId(row) {\n    var val = row.value;\n    // Users can explicitly specify a joined doc _id, or it\n    // defaults to the doc _id that emitted the key/value.\n    var docId = (val && typeof val === 'object' && val._id) || row.id;\n    return docId;\n  }\n\n  function readAttachmentsAsBlobOrBuffer(res) {\n    res.rows.forEach(function (row) {\n      var atts = row.doc && row.doc._attachments;\n      if (!atts) {\n        return;\n      }\n      Object.keys(atts).forEach(function (filename) {\n        var att = atts[filename];\n        atts[filename].data = b64ToBluffer(att.data, att.content_type);\n      });\n    });\n  }\n\n  function postprocessAttachments(opts) {\n    return function (res) {\n      if (opts.include_docs && opts.attachments && opts.binary) {\n        readAttachmentsAsBlobOrBuffer(res);\n      }\n      return res;\n    };\n  }\n\n  function addHttpParam(paramName, opts, params, asJson) {\n    // add an http param from opts to params, optionally json-encoded\n    var val = opts[paramName];\n    if (typeof val !== 'undefined') {\n      if (asJson) {\n        val = encodeURIComponent(JSON.stringify(val));\n      }\n      params.push(paramName + '=' + val);\n    }\n  }\n\n  function coerceInteger(integerCandidate) {\n    if (typeof integerCandidate !== 'undefined') {\n      var asNumber = Number(integerCandidate);\n      // prevents e.g. '1foo' or '1.1' being coerced to 1\n      if (!isNaN(asNumber) && asNumber === parseInt(integerCandidate, 10)) {\n        return asNumber;\n      } else {\n        return integerCandidate;\n      }\n    }\n  }\n\n  function coerceOptions(opts) {\n    opts.group_level = coerceInteger(opts.group_level);\n    opts.limit = coerceInteger(opts.limit);\n    opts.skip = coerceInteger(opts.skip);\n    return opts;\n  }\n\n  function checkPositiveInteger(number) {\n    if (number) {\n      if (typeof number !== 'number') {\n        return  new QueryParseError('Invalid value for integer: \"' +\n          number + '\"');\n      }\n      if (number < 0) {\n        return new QueryParseError('Invalid value for positive integer: ' +\n          '\"' + number + '\"');\n      }\n    }\n  }\n\n  function checkQueryParseError(options, fun) {\n    var startkeyName = options.descending ? 'endkey' : 'startkey';\n    var endkeyName = options.descending ? 'startkey' : 'endkey';\n\n    if (typeof options[startkeyName] !== 'undefined' &&\n      typeof options[endkeyName] !== 'undefined' &&\n      collate(options[startkeyName], options[endkeyName]) > 0) {\n      throw new QueryParseError('No rows can match your key range, ' +\n        'reverse your start_key and end_key or set {descending : true}');\n    } else if (fun.reduce && options.reduce !== false) {\n      if (options.include_docs) {\n        throw new QueryParseError('{include_docs:true} is invalid for reduce');\n      } else if (options.keys && options.keys.length > 1 &&\n        !options.group && !options.group_level) {\n        throw new QueryParseError('Multi-key fetches for reduce views must use ' +\n          '{group: true}');\n      }\n    }\n    ['group_level', 'limit', 'skip'].forEach(function (optionName) {\n      var error = checkPositiveInteger(options[optionName]);\n      if (error) {\n        throw error;\n      }\n    });\n  }\n\n  function httpQuery(db, fun, opts) {\n    // List of parameters to add to the PUT request\n    var params = [];\n    var body;\n    var method = 'GET';\n    var ok, status;\n\n    // If opts.reduce exists and is defined, then add it to the list\n    // of parameters.\n    // If reduce=false then the results are that of only the map function\n    // not the final result of map and reduce.\n    addHttpParam('reduce', opts, params);\n    addHttpParam('include_docs', opts, params);\n    addHttpParam('attachments', opts, params);\n    addHttpParam('limit', opts, params);\n    addHttpParam('descending', opts, params);\n    addHttpParam('group', opts, params);\n    addHttpParam('group_level', opts, params);\n    addHttpParam('skip', opts, params);\n    addHttpParam('stale', opts, params);\n    addHttpParam('conflicts', opts, params);\n    addHttpParam('startkey', opts, params, true);\n    addHttpParam('start_key', opts, params, true);\n    addHttpParam('endkey', opts, params, true);\n    addHttpParam('end_key', opts, params, true);\n    addHttpParam('inclusive_end', opts, params);\n    addHttpParam('key', opts, params, true);\n    addHttpParam('update_seq', opts, params);\n\n    // Format the list of parameters into a valid URI query string\n    params = params.join('&');\n    params = params === '' ? '' : '?' + params;\n\n    // If keys are supplied, issue a POST to circumvent GET query string limits\n    // see http://wiki.apache.org/couchdb/HTTP_view_API#Querying_Options\n    if (typeof opts.keys !== 'undefined') {\n      var MAX_URL_LENGTH = 2000;\n      // according to http://stackoverflow.com/a/417184/680742,\n      // the de facto URL length limit is 2000 characters\n\n      var keysAsString =\n        'keys=' + encodeURIComponent(JSON.stringify(opts.keys));\n      if (keysAsString.length + params.length + 1 <= MAX_URL_LENGTH) {\n        // If the keys are short enough, do a GET. we do this to work around\n        // Safari not understanding 304s on POSTs (see pouchdb/pouchdb#1239)\n        params += (params[0] === '?' ? '&' : '?') + keysAsString;\n      } else {\n        method = 'POST';\n        if (typeof fun === 'string') {\n          body = {keys: opts.keys};\n        } else { // fun is {map : mapfun}, so append to this\n          fun.keys = opts.keys;\n        }\n      }\n    }\n\n    // We are referencing a query defined in the design doc\n    if (typeof fun === 'string') {\n      var parts = parseViewName(fun);\n      return db.fetch('_design/' + parts[0] + '/_view/' + parts[1] + params, {\n        headers: new h({'Content-Type': 'application/json'}),\n        method: method,\n        body: JSON.stringify(body)\n      }).then(function (response) {\n        ok = response.ok;\n        status = response.status;\n        return response.json();\n      }).then(function (result) {\n        if (!ok) {\n          result.status = status;\n          throw generateErrorFromResponse(result);\n        }\n        // fail the entire request if the result contains an error\n        result.rows.forEach(function (row) {\n          /* istanbul ignore if */\n          if (row.value && row.value.error && row.value.error === \"builtin_reduce_error\") {\n            throw new Error(row.reason);\n          }\n        });\n        return result;\n      }).then(postprocessAttachments(opts));\n    }\n\n    // We are using a temporary view, terrible for performance, good for testing\n    body = body || {};\n    Object.keys(fun).forEach(function (key) {\n      if (Array.isArray(fun[key])) {\n        body[key] = fun[key];\n      } else {\n        body[key] = fun[key].toString();\n      }\n    });\n\n    return db.fetch('_temp_view' + params, {\n      headers: new h({'Content-Type': 'application/json'}),\n      method: 'POST',\n      body: JSON.stringify(body)\n    }).then(function (response) {\n        ok = response.ok;\n        status = response.status;\n      return response.json();\n    }).then(function (result) {\n      if (!ok) {\n        result.status = status;\n        throw generateErrorFromResponse(result);\n      }\n      return result;\n    }).then(postprocessAttachments(opts));\n  }\n\n  // custom adapters can define their own api._query\n  // and override the default behavior\n  /* istanbul ignore next */\n  function customQuery(db, fun, opts) {\n    return new Promise(function (resolve, reject) {\n      db._query(fun, opts, function (err, res) {\n        if (err) {\n          return reject(err);\n        }\n        resolve(res);\n      });\n    });\n  }\n\n  // custom adapters can define their own api._viewCleanup\n  // and override the default behavior\n  /* istanbul ignore next */\n  function customViewCleanup(db) {\n    return new Promise(function (resolve, reject) {\n      db._viewCleanup(function (err, res) {\n        if (err) {\n          return reject(err);\n        }\n        resolve(res);\n      });\n    });\n  }\n\n  function defaultsTo(value) {\n    return function (reason) {\n      /* istanbul ignore else */\n      if (reason.status === 404) {\n        return value;\n      } else {\n        throw reason;\n      }\n    };\n  }\n\n  // returns a promise for a list of docs to update, based on the input docId.\n  // the order doesn't matter, because post-3.2.0, bulkDocs\n  // is an atomic operation in all three adapters.\n  function getDocsToPersist(docId, view, docIdsToChangesAndEmits) {\n    var metaDocId = '_local/doc_' + docId;\n    var defaultMetaDoc = {_id: metaDocId, keys: []};\n    var docData = docIdsToChangesAndEmits.get(docId);\n    var indexableKeysToKeyValues = docData[0];\n    var changes = docData[1];\n\n    function getMetaDoc() {\n      if (isGenOne(changes)) {\n        // generation 1, so we can safely assume initial state\n        // for performance reasons (avoids unnecessary GETs)\n        return Promise.resolve(defaultMetaDoc);\n      }\n      return view.db.get(metaDocId).catch(defaultsTo(defaultMetaDoc));\n    }\n\n    function getKeyValueDocs(metaDoc) {\n      if (!metaDoc.keys.length) {\n        // no keys, no need for a lookup\n        return Promise.resolve({rows: []});\n      }\n      return view.db.allDocs({\n        keys: metaDoc.keys,\n        include_docs: true\n      });\n    }\n\n    function processKeyValueDocs(metaDoc, kvDocsRes) {\n      var kvDocs = [];\n      var oldKeys = new ExportedSet();\n\n      for (var i = 0, len = kvDocsRes.rows.length; i < len; i++) {\n        var row = kvDocsRes.rows[i];\n        var doc = row.doc;\n        if (!doc) { // deleted\n          continue;\n        }\n        kvDocs.push(doc);\n        oldKeys.add(doc._id);\n        doc._deleted = !indexableKeysToKeyValues.has(doc._id);\n        if (!doc._deleted) {\n          var keyValue = indexableKeysToKeyValues.get(doc._id);\n          if ('value' in keyValue) {\n            doc.value = keyValue.value;\n          }\n        }\n      }\n      var newKeys = mapToKeysArray(indexableKeysToKeyValues);\n      newKeys.forEach(function (key) {\n        if (!oldKeys.has(key)) {\n          // new doc\n          var kvDoc = {\n            _id: key\n          };\n          var keyValue = indexableKeysToKeyValues.get(key);\n          if ('value' in keyValue) {\n            kvDoc.value = keyValue.value;\n          }\n          kvDocs.push(kvDoc);\n        }\n      });\n      metaDoc.keys = uniq(newKeys.concat(metaDoc.keys));\n      kvDocs.push(metaDoc);\n\n      return kvDocs;\n    }\n\n    return getMetaDoc().then(function (metaDoc) {\n      return getKeyValueDocs(metaDoc).then(function (kvDocsRes) {\n        return processKeyValueDocs(metaDoc, kvDocsRes);\n      });\n    });\n  }\n\n  // updates all emitted key/value docs and metaDocs in the mrview database\n  // for the given batch of documents from the source database\n  function saveKeyValues(view, docIdsToChangesAndEmits, seq) {\n    var seqDocId = '_local/lastSeq';\n    return view.db.get(seqDocId)\n      .catch(defaultsTo({_id: seqDocId, seq: 0}))\n      .then(function (lastSeqDoc) {\n        var docIds = mapToKeysArray(docIdsToChangesAndEmits);\n        return Promise.all(docIds.map(function (docId) {\n          return getDocsToPersist(docId, view, docIdsToChangesAndEmits);\n        })).then(function (listOfDocsToPersist) {\n          var docsToPersist = flatten(listOfDocsToPersist);\n          lastSeqDoc.seq = seq;\n          docsToPersist.push(lastSeqDoc);\n          // write all docs in a single operation, update the seq once\n          return view.db.bulkDocs({docs : docsToPersist});\n        });\n      });\n  }\n\n  function getQueue(view) {\n    var viewName = typeof view === 'string' ? view : view.name;\n    var queue = persistentQueues[viewName];\n    if (!queue) {\n      queue = persistentQueues[viewName] = new TaskQueue$1();\n    }\n    return queue;\n  }\n\n  function updateView(view) {\n    return sequentialize(getQueue(view), function () {\n      return updateViewInQueue(view);\n    })();\n  }\n\n  function updateViewInQueue(view) {\n    // bind the emit function once\n    var mapResults;\n    var doc;\n\n    function emit(key, value) {\n      var output = {id: doc._id, key: normalizeKey(key)};\n      // Don't explicitly store the value unless it's defined and non-null.\n      // This saves on storage space, because often people don't use it.\n      if (typeof value !== 'undefined' && value !== null) {\n        output.value = normalizeKey(value);\n      }\n      mapResults.push(output);\n    }\n\n    var mapFun = mapper(view.mapFun, emit);\n\n    var currentSeq = view.seq || 0;\n\n    function processChange(docIdsToChangesAndEmits, seq) {\n      return function () {\n        return saveKeyValues(view, docIdsToChangesAndEmits, seq);\n      };\n    }\n\n    var queue = new TaskQueue$1();\n\n    function processNextBatch() {\n      return view.sourceDB.changes({\n        return_docs: true,\n        conflicts: true,\n        include_docs: true,\n        style: 'all_docs',\n        since: currentSeq,\n        limit: CHANGES_BATCH_SIZE$1\n      }).then(processBatch);\n    }\n\n    function processBatch(response) {\n      var results = response.results;\n      if (!results.length) {\n        return;\n      }\n      var docIdsToChangesAndEmits = createDocIdsToChangesAndEmits(results);\n      queue.add(processChange(docIdsToChangesAndEmits, currentSeq));\n      if (results.length < CHANGES_BATCH_SIZE$1) {\n        return;\n      }\n      return processNextBatch();\n    }\n\n    function createDocIdsToChangesAndEmits(results) {\n      var docIdsToChangesAndEmits = new ExportedMap();\n      for (var i = 0, len = results.length; i < len; i++) {\n        var change = results[i];\n        if (change.doc._id[0] !== '_') {\n          mapResults = [];\n          doc = change.doc;\n\n          if (!doc._deleted) {\n            tryMap(view.sourceDB, mapFun, doc);\n          }\n          mapResults.sort(sortByKeyThenValue);\n\n          var indexableKeysToKeyValues = createIndexableKeysToKeyValues(mapResults);\n          docIdsToChangesAndEmits.set(change.doc._id, [\n            indexableKeysToKeyValues,\n            change.changes\n          ]);\n        }\n        currentSeq = change.seq;\n      }\n      return docIdsToChangesAndEmits;\n    }\n\n    function createIndexableKeysToKeyValues(mapResults) {\n      var indexableKeysToKeyValues = new ExportedMap();\n      var lastKey;\n      for (var i = 0, len = mapResults.length; i < len; i++) {\n        var emittedKeyValue = mapResults[i];\n        var complexKey = [emittedKeyValue.key, emittedKeyValue.id];\n        if (i > 0 && collate(emittedKeyValue.key, lastKey) === 0) {\n          complexKey.push(i); // dup key+id, so make it unique\n        }\n        indexableKeysToKeyValues.set(toIndexableString(complexKey), emittedKeyValue);\n        lastKey = emittedKeyValue.key;\n      }\n      return indexableKeysToKeyValues;\n    }\n\n    return processNextBatch().then(function () {\n      return queue.finish();\n    }).then(function () {\n      view.seq = currentSeq;\n    });\n  }\n\n  function reduceView(view, results, options) {\n    if (options.group_level === 0) {\n      delete options.group_level;\n    }\n\n    var shouldGroup = options.group || options.group_level;\n\n    var reduceFun = reducer(view.reduceFun);\n\n    var groups = [];\n    var lvl = isNaN(options.group_level) ? Number.POSITIVE_INFINITY :\n      options.group_level;\n    results.forEach(function (e) {\n      var last = groups[groups.length - 1];\n      var groupKey = shouldGroup ? e.key : null;\n\n      // only set group_level for array keys\n      if (shouldGroup && Array.isArray(groupKey)) {\n        groupKey = groupKey.slice(0, lvl);\n      }\n\n      if (last && collate(last.groupKey, groupKey) === 0) {\n        last.keys.push([e.key, e.id]);\n        last.values.push(e.value);\n        return;\n      }\n      groups.push({\n        keys: [[e.key, e.id]],\n        values: [e.value],\n        groupKey: groupKey\n      });\n    });\n    results = [];\n    for (var i = 0, len = groups.length; i < len; i++) {\n      var e = groups[i];\n      var reduceTry = tryReduce(view.sourceDB, reduceFun, e.keys, e.values, false);\n      if (reduceTry.error && reduceTry.error instanceof BuiltInError) {\n        // CouchDB returns an error if a built-in errors out\n        throw reduceTry.error;\n      }\n      results.push({\n        // CouchDB just sets the value to null if a non-built-in errors out\n        value: reduceTry.error ? null : reduceTry.output,\n        key: e.groupKey\n      });\n    }\n    // no total_rows/offset when reducing\n    return {rows: sliceResults(results, options.limit, options.skip)};\n  }\n\n  function queryView(view, opts) {\n    return sequentialize(getQueue(view), function () {\n      return queryViewInQueue(view, opts);\n    })();\n  }\n\n  function queryViewInQueue(view, opts) {\n    var totalRows;\n    var shouldReduce = view.reduceFun && opts.reduce !== false;\n    var skip = opts.skip || 0;\n    if (typeof opts.keys !== 'undefined' && !opts.keys.length) {\n      // equivalent query\n      opts.limit = 0;\n      delete opts.keys;\n    }\n\n    function fetchFromView(viewOpts) {\n      viewOpts.include_docs = true;\n      return view.db.allDocs(viewOpts).then(function (res) {\n        totalRows = res.total_rows;\n        return res.rows.map(function (result) {\n\n          // implicit migration - in older versions of PouchDB,\n          // we explicitly stored the doc as {id: ..., key: ..., value: ...}\n          // this is tested in a migration test\n          /* istanbul ignore next */\n          if ('value' in result.doc && typeof result.doc.value === 'object' &&\n            result.doc.value !== null) {\n            var keys = Object.keys(result.doc.value).sort();\n            // this detection method is not perfect, but it's unlikely the user\n            // emitted a value which was an object with these 3 exact keys\n            var expectedKeys = ['id', 'key', 'value'];\n            if (!(keys < expectedKeys || keys > expectedKeys)) {\n              return result.doc.value;\n            }\n          }\n\n          var parsedKeyAndDocId = parseIndexableString(result.doc._id);\n          return {\n            key: parsedKeyAndDocId[0],\n            id: parsedKeyAndDocId[1],\n            value: ('value' in result.doc ? result.doc.value : null)\n          };\n        });\n      });\n    }\n\n    function onMapResultsReady(rows) {\n      var finalResults;\n      if (shouldReduce) {\n        finalResults = reduceView(view, rows, opts);\n      } else {\n        finalResults = {\n          total_rows: totalRows,\n          offset: skip,\n          rows: rows\n        };\n      }\n      /* istanbul ignore if */\n      if (opts.update_seq) {\n        finalResults.update_seq = view.seq;\n      }\n      if (opts.include_docs) {\n        var docIds = uniq(rows.map(rowToDocId));\n\n        return view.sourceDB.allDocs({\n          keys: docIds,\n          include_docs: true,\n          conflicts: opts.conflicts,\n          attachments: opts.attachments,\n          binary: opts.binary\n        }).then(function (allDocsRes) {\n          var docIdsToDocs = new ExportedMap();\n          allDocsRes.rows.forEach(function (row) {\n            docIdsToDocs.set(row.id, row.doc);\n          });\n          rows.forEach(function (row) {\n            var docId = rowToDocId(row);\n            var doc = docIdsToDocs.get(docId);\n            if (doc) {\n              row.doc = doc;\n            }\n          });\n          return finalResults;\n        });\n      } else {\n        return finalResults;\n      }\n    }\n\n    if (typeof opts.keys !== 'undefined') {\n      var keys = opts.keys;\n      var fetchPromises = keys.map(function (key) {\n        var viewOpts = {\n          startkey : toIndexableString([key]),\n          endkey   : toIndexableString([key, {}])\n        };\n        /* istanbul ignore if */\n        if (opts.update_seq) {\n          viewOpts.update_seq = true;\n        }\n        return fetchFromView(viewOpts);\n      });\n      return Promise.all(fetchPromises).then(flatten).then(onMapResultsReady);\n    } else { // normal query, no 'keys'\n      var viewOpts = {\n        descending : opts.descending\n      };\n      /* istanbul ignore if */\n      if (opts.update_seq) {\n        viewOpts.update_seq = true;\n      }\n      var startkey;\n      var endkey;\n      if ('start_key' in opts) {\n        startkey = opts.start_key;\n      }\n      if ('startkey' in opts) {\n        startkey = opts.startkey;\n      }\n      if ('end_key' in opts) {\n        endkey = opts.end_key;\n      }\n      if ('endkey' in opts) {\n        endkey = opts.endkey;\n      }\n      if (typeof startkey !== 'undefined') {\n        viewOpts.startkey = opts.descending ?\n          toIndexableString([startkey, {}]) :\n          toIndexableString([startkey]);\n      }\n      if (typeof endkey !== 'undefined') {\n        var inclusiveEnd = opts.inclusive_end !== false;\n        if (opts.descending) {\n          inclusiveEnd = !inclusiveEnd;\n        }\n\n        viewOpts.endkey = toIndexableString(\n          inclusiveEnd ? [endkey, {}] : [endkey]);\n      }\n      if (typeof opts.key !== 'undefined') {\n        var keyStart = toIndexableString([opts.key]);\n        var keyEnd = toIndexableString([opts.key, {}]);\n        if (viewOpts.descending) {\n          viewOpts.endkey = keyStart;\n          viewOpts.startkey = keyEnd;\n        } else {\n          viewOpts.startkey = keyStart;\n          viewOpts.endkey = keyEnd;\n        }\n      }\n      if (!shouldReduce) {\n        if (typeof opts.limit === 'number') {\n          viewOpts.limit = opts.limit;\n        }\n        viewOpts.skip = skip;\n      }\n      return fetchFromView(viewOpts).then(onMapResultsReady);\n    }\n  }\n\n  function httpViewCleanup(db) {\n    return db.fetch('_view_cleanup', {\n      headers: new h({'Content-Type': 'application/json'}),\n      method: 'POST'\n    }).then(function (response) {\n      return response.json();\n    });\n  }\n\n  function localViewCleanup(db) {\n    return db.get('_local/' + localDocName).then(function (metaDoc) {\n      var docsToViews = new ExportedMap();\n      Object.keys(metaDoc.views).forEach(function (fullViewName) {\n        var parts = parseViewName(fullViewName);\n        var designDocName = '_design/' + parts[0];\n        var viewName = parts[1];\n        var views = docsToViews.get(designDocName);\n        if (!views) {\n          views = new ExportedSet();\n          docsToViews.set(designDocName, views);\n        }\n        views.add(viewName);\n      });\n      var opts = {\n        keys : mapToKeysArray(docsToViews),\n        include_docs : true\n      };\n      return db.allDocs(opts).then(function (res) {\n        var viewsToStatus = {};\n        res.rows.forEach(function (row) {\n          var ddocName = row.key.substring(8); // cuts off '_design/'\n          docsToViews.get(row.key).forEach(function (viewName) {\n            var fullViewName = ddocName + '/' + viewName;\n            /* istanbul ignore if */\n            if (!metaDoc.views[fullViewName]) {\n              // new format, without slashes, to support PouchDB 2.2.0\n              // migration test in pouchdb's browser.migration.js verifies this\n              fullViewName = viewName;\n            }\n            var viewDBNames = Object.keys(metaDoc.views[fullViewName]);\n            // design doc deleted, or view function nonexistent\n            var statusIsGood = row.doc && row.doc.views &&\n              row.doc.views[viewName];\n            viewDBNames.forEach(function (viewDBName) {\n              viewsToStatus[viewDBName] =\n                viewsToStatus[viewDBName] || statusIsGood;\n            });\n          });\n        });\n        var dbsToDelete = Object.keys(viewsToStatus).filter(\n          function (viewDBName) { return !viewsToStatus[viewDBName]; });\n        var destroyPromises = dbsToDelete.map(function (viewDBName) {\n          return sequentialize(getQueue(viewDBName), function () {\n            return new db.constructor(viewDBName, db.__opts).destroy();\n          })();\n        });\n        return Promise.all(destroyPromises).then(function () {\n          return {ok: true};\n        });\n      });\n    }, defaultsTo({ok: true}));\n  }\n\n  function queryPromised(db, fun, opts) {\n    /* istanbul ignore next */\n    if (typeof db._query === 'function') {\n      return customQuery(db, fun, opts);\n    }\n    if (isRemote(db)) {\n      return httpQuery(db, fun, opts);\n    }\n\n    if (typeof fun !== 'string') {\n      // temp_view\n      checkQueryParseError(opts, fun);\n\n      tempViewQueue.add(function () {\n        var createViewPromise = createView(\n          /* sourceDB */ db,\n          /* viewName */ 'temp_view/temp_view',\n          /* mapFun */ fun.map,\n          /* reduceFun */ fun.reduce,\n          /* temporary */ true,\n          /* localDocName */ localDocName);\n        return createViewPromise.then(function (view) {\n          return fin(updateView(view).then(function () {\n            return queryView(view, opts);\n          }), function () {\n            return view.db.destroy();\n          });\n        });\n      });\n      return tempViewQueue.finish();\n    } else {\n      // persistent view\n      var fullViewName = fun;\n      var parts = parseViewName(fullViewName);\n      var designDocName = parts[0];\n      var viewName = parts[1];\n      return db.get('_design/' + designDocName).then(function (doc) {\n        var fun = doc.views && doc.views[viewName];\n\n        if (!fun) {\n          // basic validator; it's assumed that every subclass would want this\n          throw new NotFoundError('ddoc ' + doc._id + ' has no view named ' +\n            viewName);\n        }\n\n        ddocValidator(doc, viewName);\n        checkQueryParseError(opts, fun);\n\n        var createViewPromise = createView(\n          /* sourceDB */ db,\n          /* viewName */ fullViewName,\n          /* mapFun */ fun.map,\n          /* reduceFun */ fun.reduce,\n          /* temporary */ false,\n          /* localDocName */ localDocName);\n        return createViewPromise.then(function (view) {\n          if (opts.stale === 'ok' || opts.stale === 'update_after') {\n            if (opts.stale === 'update_after') {\n              immediate(function () {\n                updateView(view);\n              });\n            }\n            return queryView(view, opts);\n          } else { // stale not ok\n            return updateView(view).then(function () {\n              return queryView(view, opts);\n            });\n          }\n        });\n      });\n    }\n  }\n\n  function abstractQuery(fun, opts, callback) {\n    var db = this;\n    if (typeof opts === 'function') {\n      callback = opts;\n      opts = {};\n    }\n    opts = opts ? coerceOptions(opts) : {};\n\n    if (typeof fun === 'function') {\n      fun = {map : fun};\n    }\n\n    var promise = Promise.resolve().then(function () {\n      return queryPromised(db, fun, opts);\n    });\n    promisedCallback(promise, callback);\n    return promise;\n  }\n\n  var abstractViewCleanup = callbackify(function () {\n    var db = this;\n    /* istanbul ignore next */\n    if (typeof db._viewCleanup === 'function') {\n      return customViewCleanup(db);\n    }\n    if (isRemote(db)) {\n      return httpViewCleanup(db);\n    }\n    return localViewCleanup(db);\n  });\n\n  return {\n    query: abstractQuery,\n    viewCleanup: abstractViewCleanup\n  };\n}\n\nvar builtInReduce = {\n  _sum: function (keys, values) {\n    return sum(values);\n  },\n\n  _count: function (keys, values) {\n    return values.length;\n  },\n\n  _stats: function (keys, values) {\n    // no need to implement rereduce=true, because Pouch\n    // will never call it\n    function sumsqr(values) {\n      var _sumsqr = 0;\n      for (var i = 0, len = values.length; i < len; i++) {\n        var num = values[i];\n        _sumsqr += (num * num);\n      }\n      return _sumsqr;\n    }\n    return {\n      sum     : sum(values),\n      min     : Math.min.apply(null, values),\n      max     : Math.max.apply(null, values),\n      count   : values.length,\n      sumsqr : sumsqr(values)\n    };\n  }\n};\n\nfunction getBuiltIn(reduceFunString) {\n  if (/^_sum/.test(reduceFunString)) {\n    return builtInReduce._sum;\n  } else if (/^_count/.test(reduceFunString)) {\n    return builtInReduce._count;\n  } else if (/^_stats/.test(reduceFunString)) {\n    return builtInReduce._stats;\n  } else if (/^_/.test(reduceFunString)) {\n    throw new Error(reduceFunString + ' is not a supported reduce function.');\n  }\n}\n\nfunction mapper(mapFun, emit) {\n  // for temp_views one can use emit(doc, emit), see #38\n  if (typeof mapFun === \"function\" && mapFun.length === 2) {\n    var origMap = mapFun;\n    return function (doc) {\n      return origMap(doc, emit);\n    };\n  } else {\n    return evalFunctionWithEval(mapFun.toString(), emit);\n  }\n}\n\nfunction reducer(reduceFun) {\n  var reduceFunString = reduceFun.toString();\n  var builtIn = getBuiltIn(reduceFunString);\n  if (builtIn) {\n    return builtIn;\n  } else {\n    return evalFunctionWithEval(reduceFunString);\n  }\n}\n\nfunction ddocValidator(ddoc, viewName) {\n  var fun = ddoc.views && ddoc.views[viewName];\n  if (typeof fun.map !== 'string') {\n    throw new NotFoundError('ddoc ' + ddoc._id + ' has no string view named ' +\n      viewName + ', instead found object of type: ' + typeof fun.map);\n  }\n}\n\nvar localDocName = 'mrviews';\nvar abstract = createAbstractMapReduce(localDocName, mapper, reducer, ddocValidator);\n\nfunction query(fun, opts, callback) {\n  return abstract.query.call(this, fun, opts, callback);\n}\n\nfunction viewCleanup(callback) {\n  return abstract.viewCleanup.call(this, callback);\n}\n\nvar mapreduce = {\n  query: query,\n  viewCleanup: viewCleanup\n};\n\nfunction isGenOne$1(rev$$1) {\n  return /^1-/.test(rev$$1);\n}\n\nfunction fileHasChanged(localDoc, remoteDoc, filename) {\n  return !localDoc._attachments ||\n         !localDoc._attachments[filename] ||\n         localDoc._attachments[filename].digest !== remoteDoc._attachments[filename].digest;\n}\n\nfunction getDocAttachments(db, doc) {\n  var filenames = Object.keys(doc._attachments);\n  return Promise.all(filenames.map(function (filename) {\n    return db.getAttachment(doc._id, filename, {rev: doc._rev});\n  }));\n}\n\nfunction getDocAttachmentsFromTargetOrSource(target, src, doc) {\n  var doCheckForLocalAttachments = isRemote(src) && !isRemote(target);\n  var filenames = Object.keys(doc._attachments);\n\n  if (!doCheckForLocalAttachments) {\n    return getDocAttachments(src, doc);\n  }\n\n  return target.get(doc._id).then(function (localDoc) {\n    return Promise.all(filenames.map(function (filename) {\n      if (fileHasChanged(localDoc, doc, filename)) {\n        return src.getAttachment(doc._id, filename);\n      }\n\n      return target.getAttachment(localDoc._id, filename);\n    }));\n  }).catch(function (error) {\n    /* istanbul ignore if */\n    if (error.status !== 404) {\n      throw error;\n    }\n\n    return getDocAttachments(src, doc);\n  });\n}\n\nfunction createBulkGetOpts(diffs) {\n  var requests = [];\n  Object.keys(diffs).forEach(function (id) {\n    var missingRevs = diffs[id].missing;\n    missingRevs.forEach(function (missingRev) {\n      requests.push({\n        id: id,\n        rev: missingRev\n      });\n    });\n  });\n\n  return {\n    docs: requests,\n    revs: true,\n    latest: true\n  };\n}\n\n//\n// Fetch all the documents from the src as described in the \"diffs\",\n// which is a mapping of docs IDs to revisions. If the state ever\n// changes to \"cancelled\", then the returned promise will be rejected.\n// Else it will be resolved with a list of fetched documents.\n//\nfunction getDocs(src, target, diffs, state) {\n  diffs = clone(diffs); // we do not need to modify this\n\n  var resultDocs = [],\n      ok = true;\n\n  function getAllDocs() {\n\n    var bulkGetOpts = createBulkGetOpts(diffs);\n\n    if (!bulkGetOpts.docs.length) { // optimization: skip empty requests\n      return;\n    }\n\n    return src.bulkGet(bulkGetOpts).then(function (bulkGetResponse) {\n      /* istanbul ignore if */\n      if (state.cancelled) {\n        throw new Error('cancelled');\n      }\n      return Promise.all(bulkGetResponse.results.map(function (bulkGetInfo) {\n        return Promise.all(bulkGetInfo.docs.map(function (doc) {\n          var remoteDoc = doc.ok;\n\n          if (doc.error) {\n            // when AUTO_COMPACTION is set, docs can be returned which look\n            // like this: {\"missing\":\"1-7c3ac256b693c462af8442f992b83696\"}\n            ok = false;\n          }\n\n          if (!remoteDoc || !remoteDoc._attachments) {\n            return remoteDoc;\n          }\n\n          return getDocAttachmentsFromTargetOrSource(target, src, remoteDoc)\n                   .then(function (attachments) {\n                           var filenames = Object.keys(remoteDoc._attachments);\n                           attachments\n                             .forEach(function (attachment, i) {\n                                        var att = remoteDoc._attachments[filenames[i]];\n                                        delete att.stub;\n                                        delete att.length;\n                                        att.data = attachment;\n                                      });\n\n                                      return remoteDoc;\n                                    });\n        }));\n      }))\n\n      .then(function (results) {\n        resultDocs = resultDocs.concat(flatten(results).filter(Boolean));\n      });\n    });\n  }\n\n  function hasAttachments(doc) {\n    return doc._attachments && Object.keys(doc._attachments).length > 0;\n  }\n\n  function hasConflicts(doc) {\n    return doc._conflicts && doc._conflicts.length > 0;\n  }\n\n  function fetchRevisionOneDocs(ids) {\n    // Optimization: fetch gen-1 docs and attachments in\n    // a single request using _all_docs\n    return src.allDocs({\n      keys: ids,\n      include_docs: true,\n      conflicts: true\n    }).then(function (res) {\n      if (state.cancelled) {\n        throw new Error('cancelled');\n      }\n      res.rows.forEach(function (row) {\n        if (row.deleted || !row.doc || !isGenOne$1(row.value.rev) ||\n            hasAttachments(row.doc) || hasConflicts(row.doc)) {\n          // if any of these conditions apply, we need to fetch using get()\n          return;\n        }\n\n        // strip _conflicts array to appease CSG (#5793)\n        /* istanbul ignore if */\n        if (row.doc._conflicts) {\n          delete row.doc._conflicts;\n        }\n\n        // the doc we got back from allDocs() is sufficient\n        resultDocs.push(row.doc);\n        delete diffs[row.id];\n      });\n    });\n  }\n\n  function getRevisionOneDocs() {\n    // filter out the generation 1 docs and get them\n    // leaving the non-generation one docs to be got otherwise\n    var ids = Object.keys(diffs).filter(function (id) {\n      var missing = diffs[id].missing;\n      return missing.length === 1 && isGenOne$1(missing[0]);\n    });\n    if (ids.length > 0) {\n      return fetchRevisionOneDocs(ids);\n    }\n  }\n\n  function returnResult() {\n    return { ok:ok, docs:resultDocs };\n  }\n\n  return Promise.resolve()\n    .then(getRevisionOneDocs)\n    .then(getAllDocs)\n    .then(returnResult);\n}\n\nvar CHECKPOINT_VERSION = 1;\nvar REPLICATOR = \"pouchdb\";\n// This is an arbitrary number to limit the\n// amount of replication history we save in the checkpoint.\n// If we save too much, the checkpoing docs will become very big,\n// if we save fewer, we'll run a greater risk of having to\n// read all the changes from 0 when checkpoint PUTs fail\n// CouchDB 2.0 has a more involved history pruning,\n// but let's go for the simple version for now.\nvar CHECKPOINT_HISTORY_SIZE = 5;\nvar LOWEST_SEQ = 0;\n\nfunction updateCheckpoint(db, id, checkpoint, session, returnValue) {\n  return db.get(id).catch(function (err) {\n    if (err.status === 404) {\n      if (db.adapter === 'http' || db.adapter === 'https') {\n        explainError(\n          404, 'PouchDB is just checking if a remote checkpoint exists.'\n        );\n      }\n      return {\n        session_id: session,\n        _id: id,\n        history: [],\n        replicator: REPLICATOR,\n        version: CHECKPOINT_VERSION\n      };\n    }\n    throw err;\n  }).then(function (doc) {\n    if (returnValue.cancelled) {\n      return;\n    }\n\n    // if the checkpoint has not changed, do not update\n    if (doc.last_seq === checkpoint) {\n      return;\n    }\n\n    // Filter out current entry for this replication\n    doc.history = (doc.history || []).filter(function (item) {\n      return item.session_id !== session;\n    });\n\n    // Add the latest checkpoint to history\n    doc.history.unshift({\n      last_seq: checkpoint,\n      session_id: session\n    });\n\n    // Just take the last pieces in history, to\n    // avoid really big checkpoint docs.\n    // see comment on history size above\n    doc.history = doc.history.slice(0, CHECKPOINT_HISTORY_SIZE);\n\n    doc.version = CHECKPOINT_VERSION;\n    doc.replicator = REPLICATOR;\n\n    doc.session_id = session;\n    doc.last_seq = checkpoint;\n\n    return db.put(doc).catch(function (err) {\n      if (err.status === 409) {\n        // retry; someone is trying to write a checkpoint simultaneously\n        return updateCheckpoint(db, id, checkpoint, session, returnValue);\n      }\n      throw err;\n    });\n  });\n}\n\nfunction Checkpointer(src, target, id, returnValue, opts) {\n  this.src = src;\n  this.target = target;\n  this.id = id;\n  this.returnValue = returnValue;\n  this.opts = opts || {};\n}\n\nCheckpointer.prototype.writeCheckpoint = function (checkpoint, session) {\n  var self = this;\n  return this.updateTarget(checkpoint, session).then(function () {\n    return self.updateSource(checkpoint, session);\n  });\n};\n\nCheckpointer.prototype.updateTarget = function (checkpoint, session) {\n  if (this.opts.writeTargetCheckpoint) {\n    return updateCheckpoint(this.target, this.id, checkpoint,\n      session, this.returnValue);\n  } else {\n    return Promise.resolve(true);\n  }\n};\n\nCheckpointer.prototype.updateSource = function (checkpoint, session) {\n  if (this.opts.writeSourceCheckpoint) {\n    var self = this;\n    return updateCheckpoint(this.src, this.id, checkpoint,\n      session, this.returnValue)\n      .catch(function (err) {\n        if (isForbiddenError(err)) {\n          self.opts.writeSourceCheckpoint = false;\n          return true;\n        }\n        throw err;\n      });\n  } else {\n    return Promise.resolve(true);\n  }\n};\n\nvar comparisons = {\n  \"undefined\": function (targetDoc, sourceDoc) {\n    // This is the previous comparison function\n    if (collate(targetDoc.last_seq, sourceDoc.last_seq) === 0) {\n      return sourceDoc.last_seq;\n    }\n    /* istanbul ignore next */\n    return 0;\n  },\n  \"1\": function (targetDoc, sourceDoc) {\n    // This is the comparison function ported from CouchDB\n    return compareReplicationLogs(sourceDoc, targetDoc).last_seq;\n  }\n};\n\nCheckpointer.prototype.getCheckpoint = function () {\n  var self = this;\n\n  if (self.opts && self.opts.writeSourceCheckpoint && !self.opts.writeTargetCheckpoint) {\n    return self.src.get(self.id).then(function (sourceDoc) {\n      return sourceDoc.last_seq || LOWEST_SEQ;\n    }).catch(function (err) {\n      /* istanbul ignore if */\n      if (err.status !== 404) {\n        throw err;\n      }\n      return LOWEST_SEQ;\n    });\n  }\n\n  return self.target.get(self.id).then(function (targetDoc) {\n    if (self.opts && self.opts.writeTargetCheckpoint && !self.opts.writeSourceCheckpoint) {\n      return targetDoc.last_seq || LOWEST_SEQ;\n    }\n\n    return self.src.get(self.id).then(function (sourceDoc) {\n      // Since we can't migrate an old version doc to a new one\n      // (no session id), we just go with the lowest seq in this case\n      /* istanbul ignore if */\n      if (targetDoc.version !== sourceDoc.version) {\n        return LOWEST_SEQ;\n      }\n\n      var version;\n      if (targetDoc.version) {\n        version = targetDoc.version.toString();\n      } else {\n        version = \"undefined\";\n      }\n\n      if (version in comparisons) {\n        return comparisons[version](targetDoc, sourceDoc);\n      }\n      /* istanbul ignore next */\n      return LOWEST_SEQ;\n    }, function (err) {\n      if (err.status === 404 && targetDoc.last_seq) {\n        return self.src.put({\n          _id: self.id,\n          last_seq: LOWEST_SEQ\n        }).then(function () {\n          return LOWEST_SEQ;\n        }, function (err) {\n          if (isForbiddenError(err)) {\n            self.opts.writeSourceCheckpoint = false;\n            return targetDoc.last_seq;\n          }\n          /* istanbul ignore next */\n          return LOWEST_SEQ;\n        });\n      }\n      throw err;\n    });\n  }).catch(function (err) {\n    if (err.status !== 404) {\n      throw err;\n    }\n    return LOWEST_SEQ;\n  });\n};\n// This checkpoint comparison is ported from CouchDBs source\n// they come from here:\n// https://github.com/apache/couchdb-couch-replicator/blob/master/src/couch_replicator.erl#L863-L906\n\nfunction compareReplicationLogs(srcDoc, tgtDoc) {\n  if (srcDoc.session_id === tgtDoc.session_id) {\n    return {\n      last_seq: srcDoc.last_seq,\n      history: srcDoc.history\n    };\n  }\n\n  return compareReplicationHistory(srcDoc.history, tgtDoc.history);\n}\n\nfunction compareReplicationHistory(sourceHistory, targetHistory) {\n  // the erlang loop via function arguments is not so easy to repeat in JS\n  // therefore, doing this as recursion\n  var S = sourceHistory[0];\n  var sourceRest = sourceHistory.slice(1);\n  var T = targetHistory[0];\n  var targetRest = targetHistory.slice(1);\n\n  if (!S || targetHistory.length === 0) {\n    return {\n      last_seq: LOWEST_SEQ,\n      history: []\n    };\n  }\n\n  var sourceId = S.session_id;\n  /* istanbul ignore if */\n  if (hasSessionId(sourceId, targetHistory)) {\n    return {\n      last_seq: S.last_seq,\n      history: sourceHistory\n    };\n  }\n\n  var targetId = T.session_id;\n  if (hasSessionId(targetId, sourceRest)) {\n    return {\n      last_seq: T.last_seq,\n      history: targetRest\n    };\n  }\n\n  return compareReplicationHistory(sourceRest, targetRest);\n}\n\nfunction hasSessionId(sessionId, history) {\n  var props = history[0];\n  var rest = history.slice(1);\n\n  if (!sessionId || history.length === 0) {\n    return false;\n  }\n\n  if (sessionId === props.session_id) {\n    return true;\n  }\n\n  return hasSessionId(sessionId, rest);\n}\n\nfunction isForbiddenError(err) {\n  return typeof err.status === 'number' && Math.floor(err.status / 100) === 4;\n}\n\nvar STARTING_BACK_OFF = 0;\n\nfunction backOff(opts, returnValue, error, callback) {\n  if (opts.retry === false) {\n    returnValue.emit('error', error);\n    returnValue.removeAllListeners();\n    return;\n  }\n  /* istanbul ignore if */\n  if (typeof opts.back_off_function !== 'function') {\n    opts.back_off_function = defaultBackOff;\n  }\n  returnValue.emit('requestError', error);\n  if (returnValue.state === 'active' || returnValue.state === 'pending') {\n    returnValue.emit('paused', error);\n    returnValue.state = 'stopped';\n    var backOffSet = function backoffTimeSet() {\n      opts.current_back_off = STARTING_BACK_OFF;\n    };\n    var removeBackOffSetter = function removeBackOffTimeSet() {\n      returnValue.removeListener('active', backOffSet);\n    };\n    returnValue.once('paused', removeBackOffSetter);\n    returnValue.once('active', backOffSet);\n  }\n\n  opts.current_back_off = opts.current_back_off || STARTING_BACK_OFF;\n  opts.current_back_off = opts.back_off_function(opts.current_back_off);\n  setTimeout(callback, opts.current_back_off);\n}\n\nfunction sortObjectPropertiesByKey(queryParams) {\n  return Object.keys(queryParams).sort(collate).reduce(function (result, key) {\n    result[key] = queryParams[key];\n    return result;\n  }, {});\n}\n\n// Generate a unique id particular to this replication.\n// Not guaranteed to align perfectly with CouchDB's rep ids.\nfunction generateReplicationId(src, target, opts) {\n  var docIds = opts.doc_ids ? opts.doc_ids.sort(collate) : '';\n  var filterFun = opts.filter ? opts.filter.toString() : '';\n  var queryParams = '';\n  var filterViewName =  '';\n  var selector = '';\n\n  // possibility for checkpoints to be lost here as behaviour of\n  // JSON.stringify is not stable (see #6226)\n  /* istanbul ignore if */\n  if (opts.selector) {\n    selector = JSON.stringify(opts.selector);\n  }\n\n  if (opts.filter && opts.query_params) {\n    queryParams = JSON.stringify(sortObjectPropertiesByKey(opts.query_params));\n  }\n\n  if (opts.filter && opts.filter === '_view') {\n    filterViewName = opts.view.toString();\n  }\n\n  return Promise.all([src.id(), target.id()]).then(function (res) {\n    var queryData = res[0] + res[1] + filterFun + filterViewName +\n      queryParams + docIds + selector;\n    return new Promise(function (resolve) {\n      binaryMd5(queryData, resolve);\n    });\n  }).then(function (md5sum) {\n    // can't use straight-up md5 alphabet, because\n    // the char '/' is interpreted as being for attachments,\n    // and + is also not url-safe\n    md5sum = md5sum.replace(/\\//g, '.').replace(/\\+/g, '_');\n    return '_local/' + md5sum;\n  });\n}\n\nfunction replicate(src, target, opts, returnValue, result) {\n  var batches = [];               // list of batches to be processed\n  var currentBatch;               // the batch currently being processed\n  var pendingBatch = {\n    seq: 0,\n    changes: [],\n    docs: []\n  }; // next batch, not yet ready to be processed\n  var writingCheckpoint = false;  // true while checkpoint is being written\n  var changesCompleted = false;   // true when all changes received\n  var replicationCompleted = false; // true when replication has completed\n  var last_seq = 0;\n  var continuous = opts.continuous || opts.live || false;\n  var batch_size = opts.batch_size || 100;\n  var batches_limit = opts.batches_limit || 10;\n  var changesPending = false;     // true while src.changes is running\n  var doc_ids = opts.doc_ids;\n  var selector = opts.selector;\n  var repId;\n  var checkpointer;\n  var changedDocs = [];\n  // Like couchdb, every replication gets a unique session id\n  var session = uuid();\n\n  result = result || {\n    ok: true,\n    start_time: new Date().toISOString(),\n    docs_read: 0,\n    docs_written: 0,\n    doc_write_failures: 0,\n    errors: []\n  };\n\n  var changesOpts = {};\n  returnValue.ready(src, target);\n\n  function initCheckpointer() {\n    if (checkpointer) {\n      return Promise.resolve();\n    }\n    return generateReplicationId(src, target, opts).then(function (res) {\n      repId = res;\n\n      var checkpointOpts = {};\n      if (opts.checkpoint === false) {\n        checkpointOpts = { writeSourceCheckpoint: false, writeTargetCheckpoint: false };\n      } else if (opts.checkpoint === 'source') {\n        checkpointOpts = { writeSourceCheckpoint: true, writeTargetCheckpoint: false };\n      } else if (opts.checkpoint === 'target') {\n        checkpointOpts = { writeSourceCheckpoint: false, writeTargetCheckpoint: true };\n      } else {\n        checkpointOpts = { writeSourceCheckpoint: true, writeTargetCheckpoint: true };\n      }\n\n      checkpointer = new Checkpointer(src, target, repId, returnValue, checkpointOpts);\n    });\n  }\n\n  function writeDocs() {\n    changedDocs = [];\n\n    if (currentBatch.docs.length === 0) {\n      return;\n    }\n    var docs = currentBatch.docs;\n    var bulkOpts = {timeout: opts.timeout};\n    return target.bulkDocs({docs: docs, new_edits: false}, bulkOpts).then(function (res) {\n      /* istanbul ignore if */\n      if (returnValue.cancelled) {\n        completeReplication();\n        throw new Error('cancelled');\n      }\n\n      // `res` doesn't include full documents (which live in `docs`), so we create a map of \n      // (id -> error), and check for errors while iterating over `docs`\n      var errorsById = Object.create(null);\n      res.forEach(function (res) {\n        if (res.error) {\n          errorsById[res.id] = res;\n        }\n      });\n\n      var errorsNo = Object.keys(errorsById).length;\n      result.doc_write_failures += errorsNo;\n      result.docs_written += docs.length - errorsNo;\n\n      docs.forEach(function (doc) {\n        var error = errorsById[doc._id];\n        if (error) {\n          result.errors.push(error);\n          // Normalize error name. i.e. 'Unauthorized' -> 'unauthorized' (eg Sync Gateway)\n          var errorName = (error.name || '').toLowerCase();\n          if (errorName === 'unauthorized' || errorName === 'forbidden') {\n            returnValue.emit('denied', clone(error));\n          } else {\n            throw error;\n          }\n        } else {\n          changedDocs.push(doc);\n        }\n      });\n\n    }, function (err) {\n      result.doc_write_failures += docs.length;\n      throw err;\n    });\n  }\n\n  function finishBatch() {\n    if (currentBatch.error) {\n      throw new Error('There was a problem getting docs.');\n    }\n    result.last_seq = last_seq = currentBatch.seq;\n    var outResult = clone(result);\n    if (changedDocs.length) {\n      outResult.docs = changedDocs;\n      // Attach 'pending' property if server supports it (CouchDB 2.0+)\n      /* istanbul ignore if */\n      if (typeof currentBatch.pending === 'number') {\n        outResult.pending = currentBatch.pending;\n        delete currentBatch.pending;\n      }\n      returnValue.emit('change', outResult);\n    }\n    writingCheckpoint = true;\n    return checkpointer.writeCheckpoint(currentBatch.seq,\n        session).then(function () {\n      writingCheckpoint = false;\n      /* istanbul ignore if */\n      if (returnValue.cancelled) {\n        completeReplication();\n        throw new Error('cancelled');\n      }\n      currentBatch = undefined;\n      getChanges();\n    }).catch(function (err) {\n      onCheckpointError(err);\n      throw err;\n    });\n  }\n\n  function getDiffs() {\n    var diff = {};\n    currentBatch.changes.forEach(function (change) {\n      // Couchbase Sync Gateway emits these, but we can ignore them\n      /* istanbul ignore if */\n      if (change.id === \"_user/\") {\n        return;\n      }\n      diff[change.id] = change.changes.map(function (x) {\n        return x.rev;\n      });\n    });\n    return target.revsDiff(diff).then(function (diffs) {\n      /* istanbul ignore if */\n      if (returnValue.cancelled) {\n        completeReplication();\n        throw new Error('cancelled');\n      }\n      // currentBatch.diffs elements are deleted as the documents are written\n      currentBatch.diffs = diffs;\n    });\n  }\n\n  function getBatchDocs() {\n    return getDocs(src, target, currentBatch.diffs, returnValue).then(function (got) {\n      currentBatch.error = !got.ok;\n      got.docs.forEach(function (doc) {\n        delete currentBatch.diffs[doc._id];\n        result.docs_read++;\n        currentBatch.docs.push(doc);\n      });\n    });\n  }\n\n  function startNextBatch() {\n    if (returnValue.cancelled || currentBatch) {\n      return;\n    }\n    if (batches.length === 0) {\n      processPendingBatch(true);\n      return;\n    }\n    currentBatch = batches.shift();\n    getDiffs()\n      .then(getBatchDocs)\n      .then(writeDocs)\n      .then(finishBatch)\n      .then(startNextBatch)\n      .catch(function (err) {\n        abortReplication('batch processing terminated with error', err);\n      });\n  }\n\n\n  function processPendingBatch(immediate$$1) {\n    if (pendingBatch.changes.length === 0) {\n      if (batches.length === 0 && !currentBatch) {\n        if ((continuous && changesOpts.live) || changesCompleted) {\n          returnValue.state = 'pending';\n          returnValue.emit('paused');\n        }\n        if (changesCompleted) {\n          completeReplication();\n        }\n      }\n      return;\n    }\n    if (\n      immediate$$1 ||\n      changesCompleted ||\n      pendingBatch.changes.length >= batch_size\n    ) {\n      batches.push(pendingBatch);\n      pendingBatch = {\n        seq: 0,\n        changes: [],\n        docs: []\n      };\n      if (returnValue.state === 'pending' || returnValue.state === 'stopped') {\n        returnValue.state = 'active';\n        returnValue.emit('active');\n      }\n      startNextBatch();\n    }\n  }\n\n\n  function abortReplication(reason, err) {\n    if (replicationCompleted) {\n      return;\n    }\n    if (!err.message) {\n      err.message = reason;\n    }\n    result.ok = false;\n    result.status = 'aborting';\n    batches = [];\n    pendingBatch = {\n      seq: 0,\n      changes: [],\n      docs: []\n    };\n    completeReplication(err);\n  }\n\n\n  function completeReplication(fatalError) {\n    if (replicationCompleted) {\n      return;\n    }\n    /* istanbul ignore if */\n    if (returnValue.cancelled) {\n      result.status = 'cancelled';\n      if (writingCheckpoint) {\n        return;\n      }\n    }\n    result.status = result.status || 'complete';\n    result.end_time = new Date().toISOString();\n    result.last_seq = last_seq;\n    replicationCompleted = true;\n\n    if (fatalError) {\n      // need to extend the error because Firefox considers \".result\" read-only\n      fatalError = createError(fatalError);\n      fatalError.result = result;\n\n      // Normalize error name. i.e. 'Unauthorized' -> 'unauthorized' (eg Sync Gateway)\n      var errorName = (fatalError.name || '').toLowerCase();\n      if (errorName === 'unauthorized' || errorName === 'forbidden') {\n        returnValue.emit('error', fatalError);\n        returnValue.removeAllListeners();\n      } else {\n        backOff(opts, returnValue, fatalError, function () {\n          replicate(src, target, opts, returnValue);\n        });\n      }\n    } else {\n      returnValue.emit('complete', result);\n      returnValue.removeAllListeners();\n    }\n  }\n\n\n  function onChange(change, pending, lastSeq) {\n    /* istanbul ignore if */\n    if (returnValue.cancelled) {\n      return completeReplication();\n    }\n    // Attach 'pending' property if server supports it (CouchDB 2.0+)\n    /* istanbul ignore if */\n    if (typeof pending === 'number') {\n      pendingBatch.pending = pending;\n    }\n\n    var filter = filterChange(opts)(change);\n    if (!filter) {\n      return;\n    }\n    pendingBatch.seq = change.seq || lastSeq;\n    pendingBatch.changes.push(change);\n    immediate(function () {\n      processPendingBatch(batches.length === 0 && changesOpts.live);\n    });\n  }\n\n\n  function onChangesComplete(changes) {\n    changesPending = false;\n    /* istanbul ignore if */\n    if (returnValue.cancelled) {\n      return completeReplication();\n    }\n\n    // if no results were returned then we're done,\n    // else fetch more\n    if (changes.results.length > 0) {\n      changesOpts.since = changes.results[changes.results.length - 1].seq;\n      getChanges();\n      processPendingBatch(true);\n    } else {\n\n      var complete = function () {\n        if (continuous) {\n          changesOpts.live = true;\n          getChanges();\n        } else {\n          changesCompleted = true;\n        }\n        processPendingBatch(true);\n      };\n\n      // update the checkpoint so we start from the right seq next time\n      if (!currentBatch && changes.results.length === 0) {\n        writingCheckpoint = true;\n        checkpointer.writeCheckpoint(changes.last_seq,\n            session).then(function () {\n          writingCheckpoint = false;\n          result.last_seq = last_seq = changes.last_seq;\n          complete();\n        })\n        .catch(onCheckpointError);\n      } else {\n        complete();\n      }\n    }\n  }\n\n\n  function onChangesError(err) {\n    changesPending = false;\n    /* istanbul ignore if */\n    if (returnValue.cancelled) {\n      return completeReplication();\n    }\n    abortReplication('changes rejected', err);\n  }\n\n\n  function getChanges() {\n    if (!(\n      !changesPending &&\n      !changesCompleted &&\n      batches.length < batches_limit\n      )) {\n      return;\n    }\n    changesPending = true;\n    function abortChanges() {\n      changes.cancel();\n    }\n    function removeListener() {\n      returnValue.removeListener('cancel', abortChanges);\n    }\n\n    if (returnValue._changes) { // remove old changes() and listeners\n      returnValue.removeListener('cancel', returnValue._abortChanges);\n      returnValue._changes.cancel();\n    }\n    returnValue.once('cancel', abortChanges);\n\n    var changes = src.changes(changesOpts)\n      .on('change', onChange);\n    changes.then(removeListener, removeListener);\n    changes.then(onChangesComplete)\n      .catch(onChangesError);\n\n    if (opts.retry) {\n      // save for later so we can cancel if necessary\n      returnValue._changes = changes;\n      returnValue._abortChanges = abortChanges;\n    }\n  }\n\n\n  function startChanges() {\n    initCheckpointer().then(function () {\n      /* istanbul ignore if */\n      if (returnValue.cancelled) {\n        completeReplication();\n        return;\n      }\n      return checkpointer.getCheckpoint().then(function (checkpoint) {\n        last_seq = checkpoint;\n        changesOpts = {\n          since: last_seq,\n          limit: batch_size,\n          batch_size: batch_size,\n          style: 'all_docs',\n          doc_ids: doc_ids,\n          selector: selector,\n          return_docs: true // required so we know when we're done\n        };\n        if (opts.filter) {\n          if (typeof opts.filter !== 'string') {\n            // required for the client-side filter in onChange\n            changesOpts.include_docs = true;\n          } else { // ddoc filter\n            changesOpts.filter = opts.filter;\n          }\n        }\n        if ('heartbeat' in opts) {\n          changesOpts.heartbeat = opts.heartbeat;\n        }\n        if ('timeout' in opts) {\n          changesOpts.timeout = opts.timeout;\n        }\n        if (opts.query_params) {\n          changesOpts.query_params = opts.query_params;\n        }\n        if (opts.view) {\n          changesOpts.view = opts.view;\n        }\n        getChanges();\n      });\n    }).catch(function (err) {\n      abortReplication('getCheckpoint rejected with ', err);\n    });\n  }\n\n  /* istanbul ignore next */\n  function onCheckpointError(err) {\n    writingCheckpoint = false;\n    abortReplication('writeCheckpoint completed with error', err);\n  }\n\n  /* istanbul ignore if */\n  if (returnValue.cancelled) { // cancelled immediately\n    completeReplication();\n    return;\n  }\n\n  if (!returnValue._addedListeners) {\n    returnValue.once('cancel', completeReplication);\n\n    if (typeof opts.complete === 'function') {\n      returnValue.once('error', opts.complete);\n      returnValue.once('complete', function (result) {\n        opts.complete(null, result);\n      });\n    }\n    returnValue._addedListeners = true;\n  }\n\n  if (typeof opts.since === 'undefined') {\n    startChanges();\n  } else {\n    initCheckpointer().then(function () {\n      writingCheckpoint = true;\n      return checkpointer.writeCheckpoint(opts.since, session);\n    }).then(function () {\n      writingCheckpoint = false;\n      /* istanbul ignore if */\n      if (returnValue.cancelled) {\n        completeReplication();\n        return;\n      }\n      last_seq = opts.since;\n      startChanges();\n    }).catch(onCheckpointError);\n  }\n}\n\n// We create a basic promise so the caller can cancel the replication possibly\n// before we have actually started listening to changes etc\ninherits(Replication, EE);\nfunction Replication() {\n  EE.call(this);\n  this.cancelled = false;\n  this.state = 'pending';\n  var self = this;\n  var promise = new Promise(function (fulfill, reject) {\n    self.once('complete', fulfill);\n    self.once('error', reject);\n  });\n  self.then = function (resolve, reject) {\n    return promise.then(resolve, reject);\n  };\n  self.catch = function (reject) {\n    return promise.catch(reject);\n  };\n  // As we allow error handling via \"error\" event as well,\n  // put a stub in here so that rejecting never throws UnhandledError.\n  self.catch(function () {});\n}\n\nReplication.prototype.cancel = function () {\n  this.cancelled = true;\n  this.state = 'cancelled';\n  this.emit('cancel');\n};\n\nReplication.prototype.ready = function (src, target) {\n  var self = this;\n  if (self._readyCalled) {\n    return;\n  }\n  self._readyCalled = true;\n\n  function onDestroy() {\n    self.cancel();\n  }\n  src.once('destroyed', onDestroy);\n  target.once('destroyed', onDestroy);\n  function cleanup() {\n    src.removeListener('destroyed', onDestroy);\n    target.removeListener('destroyed', onDestroy);\n  }\n  self.once('complete', cleanup);\n};\n\nfunction toPouch(db, opts) {\n  var PouchConstructor = opts.PouchConstructor;\n  if (typeof db === 'string') {\n    return new PouchConstructor(db, opts);\n  } else {\n    return db;\n  }\n}\n\nfunction replicateWrapper(src, target, opts, callback) {\n\n  if (typeof opts === 'function') {\n    callback = opts;\n    opts = {};\n  }\n  if (typeof opts === 'undefined') {\n    opts = {};\n  }\n\n  if (opts.doc_ids && !Array.isArray(opts.doc_ids)) {\n    throw createError(BAD_REQUEST,\n                       \"`doc_ids` filter parameter is not a list.\");\n  }\n\n  opts.complete = callback;\n  opts = clone(opts);\n  opts.continuous = opts.continuous || opts.live;\n  opts.retry = ('retry' in opts) ? opts.retry : false;\n  /*jshint validthis:true */\n  opts.PouchConstructor = opts.PouchConstructor || this;\n  var replicateRet = new Replication(opts);\n  var srcPouch = toPouch(src, opts);\n  var targetPouch = toPouch(target, opts);\n  replicate(srcPouch, targetPouch, opts, replicateRet);\n  return replicateRet;\n}\n\ninherits(Sync, EE);\nfunction sync(src, target, opts, callback) {\n  if (typeof opts === 'function') {\n    callback = opts;\n    opts = {};\n  }\n  if (typeof opts === 'undefined') {\n    opts = {};\n  }\n  opts = clone(opts);\n  /*jshint validthis:true */\n  opts.PouchConstructor = opts.PouchConstructor || this;\n  src = toPouch(src, opts);\n  target = toPouch(target, opts);\n  return new Sync(src, target, opts, callback);\n}\n\nfunction Sync(src, target, opts, callback) {\n  var self = this;\n  this.canceled = false;\n\n  var optsPush = opts.push ? $inject_Object_assign({}, opts, opts.push) : opts;\n  var optsPull = opts.pull ? $inject_Object_assign({}, opts, opts.pull) : opts;\n\n  this.push = replicateWrapper(src, target, optsPush);\n  this.pull = replicateWrapper(target, src, optsPull);\n\n  this.pushPaused = true;\n  this.pullPaused = true;\n\n  function pullChange(change) {\n    self.emit('change', {\n      direction: 'pull',\n      change: change\n    });\n  }\n  function pushChange(change) {\n    self.emit('change', {\n      direction: 'push',\n      change: change\n    });\n  }\n  function pushDenied(doc) {\n    self.emit('denied', {\n      direction: 'push',\n      doc: doc\n    });\n  }\n  function pullDenied(doc) {\n    self.emit('denied', {\n      direction: 'pull',\n      doc: doc\n    });\n  }\n  function pushPaused() {\n    self.pushPaused = true;\n    /* istanbul ignore if */\n    if (self.pullPaused) {\n      self.emit('paused');\n    }\n  }\n  function pullPaused() {\n    self.pullPaused = true;\n    /* istanbul ignore if */\n    if (self.pushPaused) {\n      self.emit('paused');\n    }\n  }\n  function pushActive() {\n    self.pushPaused = false;\n    /* istanbul ignore if */\n    if (self.pullPaused) {\n      self.emit('active', {\n        direction: 'push'\n      });\n    }\n  }\n  function pullActive() {\n    self.pullPaused = false;\n    /* istanbul ignore if */\n    if (self.pushPaused) {\n      self.emit('active', {\n        direction: 'pull'\n      });\n    }\n  }\n\n  var removed = {};\n\n  function removeAll(type) { // type is 'push' or 'pull'\n    return function (event, func) {\n      var isChange = event === 'change' &&\n        (func === pullChange || func === pushChange);\n      var isDenied = event === 'denied' &&\n        (func === pullDenied || func === pushDenied);\n      var isPaused = event === 'paused' &&\n        (func === pullPaused || func === pushPaused);\n      var isActive = event === 'active' &&\n        (func === pullActive || func === pushActive);\n\n      if (isChange || isDenied || isPaused || isActive) {\n        if (!(event in removed)) {\n          removed[event] = {};\n        }\n        removed[event][type] = true;\n        if (Object.keys(removed[event]).length === 2) {\n          // both push and pull have asked to be removed\n          self.removeAllListeners(event);\n        }\n      }\n    };\n  }\n\n  if (opts.live) {\n    this.push.on('complete', self.pull.cancel.bind(self.pull));\n    this.pull.on('complete', self.push.cancel.bind(self.push));\n  }\n\n  function addOneListener(ee, event, listener) {\n    if (ee.listeners(event).indexOf(listener) == -1) {\n      ee.on(event, listener);\n    }\n  }\n\n  this.on('newListener', function (event) {\n    if (event === 'change') {\n      addOneListener(self.pull, 'change', pullChange);\n      addOneListener(self.push, 'change', pushChange);\n    } else if (event === 'denied') {\n      addOneListener(self.pull, 'denied', pullDenied);\n      addOneListener(self.push, 'denied', pushDenied);\n    } else if (event === 'active') {\n      addOneListener(self.pull, 'active', pullActive);\n      addOneListener(self.push, 'active', pushActive);\n    } else if (event === 'paused') {\n      addOneListener(self.pull, 'paused', pullPaused);\n      addOneListener(self.push, 'paused', pushPaused);\n    }\n  });\n\n  this.on('removeListener', function (event) {\n    if (event === 'change') {\n      self.pull.removeListener('change', pullChange);\n      self.push.removeListener('change', pushChange);\n    } else if (event === 'denied') {\n      self.pull.removeListener('denied', pullDenied);\n      self.push.removeListener('denied', pushDenied);\n    } else if (event === 'active') {\n      self.pull.removeListener('active', pullActive);\n      self.push.removeListener('active', pushActive);\n    } else if (event === 'paused') {\n      self.pull.removeListener('paused', pullPaused);\n      self.push.removeListener('paused', pushPaused);\n    }\n  });\n\n  this.pull.on('removeListener', removeAll('pull'));\n  this.push.on('removeListener', removeAll('push'));\n\n  var promise = Promise.all([\n    this.push,\n    this.pull\n  ]).then(function (resp) {\n    var out = {\n      push: resp[0],\n      pull: resp[1]\n    };\n    self.emit('complete', out);\n    if (callback) {\n      callback(null, out);\n    }\n    self.removeAllListeners();\n    return out;\n  }, function (err) {\n    self.cancel();\n    if (callback) {\n      // if there's a callback, then the callback can receive\n      // the error event\n      callback(err);\n    } else {\n      // if there's no callback, then we're safe to emit an error\n      // event, which would otherwise throw an unhandled error\n      // due to 'error' being a special event in EventEmitters\n      self.emit('error', err);\n    }\n    self.removeAllListeners();\n    if (callback) {\n      // no sense throwing if we're already emitting an 'error' event\n      throw err;\n    }\n  });\n\n  this.then = function (success, err) {\n    return promise.then(success, err);\n  };\n\n  this.catch = function (err) {\n    return promise.catch(err);\n  };\n}\n\nSync.prototype.cancel = function () {\n  if (!this.canceled) {\n    this.canceled = true;\n    this.push.cancel();\n    this.pull.cancel();\n  }\n};\n\nfunction replication(PouchDB) {\n  PouchDB.replicate = replicateWrapper;\n  PouchDB.sync = sync;\n\n  Object.defineProperty(PouchDB.prototype, 'replicate', {\n    get: function () {\n      var self = this;\n      if (typeof this.replicateMethods === 'undefined') {\n        this.replicateMethods = {\n          from: function (other, opts, callback) {\n            return self.constructor.replicate(other, self, opts, callback);\n          },\n          to: function (other, opts, callback) {\n            return self.constructor.replicate(self, other, opts, callback);\n          }\n        };\n      }\n      return this.replicateMethods;\n    }\n  });\n\n  PouchDB.prototype.sync = function (dbName, opts, callback) {\n    return this.constructor.sync(this, dbName, opts, callback);\n  };\n}\n\nPouchDB.plugin(IDBPouch)\n  .plugin(HttpPouch$1)\n  .plugin(mapreduce)\n  .plugin(replication);\n\n// Pull from src because pouchdb-node/pouchdb-browser themselves\n\nexport default PouchDB;\n","'use strict';\nvar $forEach = require('../internals/array-iteration').forEach;\nvar arrayMethodIsStrict = require('../internals/array-method-is-strict');\nvar arrayMethodUsesToLength = require('../internals/array-method-uses-to-length');\n\nvar STRICT_METHOD = arrayMethodIsStrict('forEach');\nvar USES_TO_LENGTH = arrayMethodUsesToLength('forEach');\n\n// `Array.prototype.forEach` method implementation\n// https://tc39.github.io/ecma262/#sec-array.prototype.foreach\nmodule.exports = (!STRICT_METHOD || !USES_TO_LENGTH) ? function forEach(callbackfn /* , thisArg */) {\n  return $forEach(this, callbackfn, arguments.length > 1 ? arguments[1] : undefined);\n} : [].forEach;\n","module.exports = function (it, Constructor, name) {\n  if (!(it instanceof Constructor)) {\n    throw TypeError('Incorrect ' + (name ? name + ' ' : '') + 'invocation');\n  } return it;\n};\n","var getBuiltIn = require('../internals/get-built-in');\n\nmodule.exports = getBuiltIn('document', 'documentElement');\n","module.exports = function (it) {\n  if (typeof it != 'function') {\n    throw TypeError(String(it) + ' is not a function');\n  } return it;\n};\n","var wellKnownSymbol = require('../internals/well-known-symbol');\n\nvar ITERATOR = wellKnownSymbol('iterator');\nvar SAFE_CLOSING = false;\n\ntry {\n  var called = 0;\n  var iteratorWithReturn = {\n    next: function () {\n      return { done: !!called++ };\n    },\n    'return': function () {\n      SAFE_CLOSING = true;\n    }\n  };\n  iteratorWithReturn[ITERATOR] = function () {\n    return this;\n  };\n  // eslint-disable-next-line no-throw-literal\n  Array.from(iteratorWithReturn, function () { throw 2; });\n} catch (error) { /* empty */ }\n\nmodule.exports = function (exec, SKIP_CLOSING) {\n  if (!SKIP_CLOSING && !SAFE_CLOSING) return false;\n  var ITERATION_SUPPORT = false;\n  try {\n    var object = {};\n    object[ITERATOR] = function () {\n      return {\n        next: function () {\n          return { done: ITERATION_SUPPORT = true };\n        }\n      };\n    };\n    exec(object);\n  } catch (error) { /* empty */ }\n  return ITERATION_SUPPORT;\n};\n","var userAgent = require('../internals/engine-user-agent');\n\nmodule.exports = /(iphone|ipod|ipad).*applewebkit/i.test(userAgent);\n","// `RequireObjectCoercible` abstract operation\n// https://tc39.github.io/ecma262/#sec-requireobjectcoercible\nmodule.exports = function (it) {\n  if (it == undefined) throw TypeError(\"Can't call method on \" + it);\n  return it;\n};\n","var fails = require('../internals/fails');\nvar wellKnownSymbol = require('../internals/well-known-symbol');\nvar V8_VERSION = require('../internals/engine-v8-version');\n\nvar SPECIES = wellKnownSymbol('species');\n\nmodule.exports = function (METHOD_NAME) {\n  // We can't use this feature detection in V8 since it causes\n  // deoptimization and serious performance degradation\n  // https://github.com/zloirock/core-js/issues/677\n  return V8_VERSION >= 51 || !fails(function () {\n    var array = [];\n    var constructor = array.constructor = {};\n    constructor[SPECIES] = function () {\n      return { foo: 1 };\n    };\n    return array[METHOD_NAME](Boolean).foo !== 1;\n  });\n};\n","var anObject = require('../internals/an-object');\nvar isArrayIteratorMethod = require('../internals/is-array-iterator-method');\nvar toLength = require('../internals/to-length');\nvar bind = require('../internals/function-bind-context');\nvar getIteratorMethod = require('../internals/get-iterator-method');\nvar callWithSafeIterationClosing = require('../internals/call-with-safe-iteration-closing');\n\nvar Result = function (stopped, result) {\n  this.stopped = stopped;\n  this.result = result;\n};\n\nvar iterate = module.exports = function (iterable, fn, that, AS_ENTRIES, IS_ITERATOR) {\n  var boundFunction = bind(fn, that, AS_ENTRIES ? 2 : 1);\n  var iterator, iterFn, index, length, result, next, step;\n\n  if (IS_ITERATOR) {\n    iterator = iterable;\n  } else {\n    iterFn = getIteratorMethod(iterable);\n    if (typeof iterFn != 'function') throw TypeError('Target is not iterable');\n    // optimisation for array iterators\n    if (isArrayIteratorMethod(iterFn)) {\n      for (index = 0, length = toLength(iterable.length); length > index; index++) {\n        result = AS_ENTRIES\n          ? boundFunction(anObject(step = iterable[index])[0], step[1])\n          : boundFunction(iterable[index]);\n        if (result && result instanceof Result) return result;\n      } return new Result(false);\n    }\n    iterator = iterFn.call(iterable);\n  }\n\n  next = iterator.next;\n  while (!(step = next.call(iterator)).done) {\n    result = callWithSafeIterationClosing(iterator, boundFunction, step.value, AS_ENTRIES);\n    if (typeof result == 'object' && result && result instanceof Result) return result;\n  } return new Result(false);\n};\n\niterate.stop = function (result) {\n  return new Result(true, result);\n};\n","var toInteger = require('../internals/to-integer');\n\nvar max = Math.max;\nvar min = Math.min;\n\n// Helper for a popular repeating case of the spec:\n// Let integer be ? ToInteger(index).\n// If integer < 0, let result be max((length + integer), 0); else let result be min(integer, length).\nmodule.exports = function (index, length) {\n  var integer = toInteger(index);\n  return integer < 0 ? max(integer + length, 0) : min(integer, length);\n};\n","var global = require('../internals/global');\nvar getOwnPropertyDescriptor = require('../internals/object-get-own-property-descriptor').f;\nvar createNonEnumerableProperty = require('../internals/create-non-enumerable-property');\nvar redefine = require('../internals/redefine');\nvar setGlobal = require('../internals/set-global');\nvar copyConstructorProperties = require('../internals/copy-constructor-properties');\nvar isForced = require('../internals/is-forced');\n\n/*\n  options.target      - name of the target object\n  options.global      - target is the global object\n  options.stat        - export as static methods of target\n  options.proto       - export as prototype methods of target\n  options.real        - real prototype method for the `pure` version\n  options.forced      - export even if the native feature is available\n  options.bind        - bind methods to the target, required for the `pure` version\n  options.wrap        - wrap constructors to preventing global pollution, required for the `pure` version\n  options.unsafe      - use the simple assignment of property instead of delete + defineProperty\n  options.sham        - add a flag to not completely full polyfills\n  options.enumerable  - export as enumerable property\n  options.noTargetGet - prevent calling a getter on target\n*/\nmodule.exports = function (options, source) {\n  var TARGET = options.target;\n  var GLOBAL = options.global;\n  var STATIC = options.stat;\n  var FORCED, target, key, targetProperty, sourceProperty, descriptor;\n  if (GLOBAL) {\n    target = global;\n  } else if (STATIC) {\n    target = global[TARGET] || setGlobal(TARGET, {});\n  } else {\n    target = (global[TARGET] || {}).prototype;\n  }\n  if (target) for (key in source) {\n    sourceProperty = source[key];\n    if (options.noTargetGet) {\n      descriptor = getOwnPropertyDescriptor(target, key);\n      targetProperty = descriptor && descriptor.value;\n    } else targetProperty = target[key];\n    FORCED = isForced(GLOBAL ? key : TARGET + (STATIC ? '.' : '#') + key, options.forced);\n    // contained in target\n    if (!FORCED && targetProperty !== undefined) {\n      if (typeof sourceProperty === typeof targetProperty) continue;\n      copyConstructorProperties(sourceProperty, targetProperty);\n    }\n    // add a flag to not completely full polyfills\n    if (options.sham || (targetProperty && targetProperty.sham)) {\n      createNonEnumerableProperty(sourceProperty, 'sham', true);\n    }\n    // extend global\n    redefine(target, key, sourceProperty, options);\n  }\n};\n","var internalObjectKeys = require('../internals/object-keys-internal');\nvar enumBugKeys = require('../internals/enum-bug-keys');\n\nvar hiddenKeys = enumBugKeys.concat('length', 'prototype');\n\n// `Object.getOwnPropertyNames` method\n// https://tc39.github.io/ecma262/#sec-object.getownpropertynames\nexports.f = Object.getOwnPropertyNames || function getOwnPropertyNames(O) {\n  return internalObjectKeys(O, hiddenKeys);\n};\n","'use strict';\nvar redefine = require('../internals/redefine');\nvar anObject = require('../internals/an-object');\nvar fails = require('../internals/fails');\nvar flags = require('../internals/regexp-flags');\n\nvar TO_STRING = 'toString';\nvar RegExpPrototype = RegExp.prototype;\nvar nativeToString = RegExpPrototype[TO_STRING];\n\nvar NOT_GENERIC = fails(function () { return nativeToString.call({ source: 'a', flags: 'b' }) != '/a/b'; });\n// FF44- RegExp#toString has a wrong name\nvar INCORRECT_NAME = nativeToString.name != TO_STRING;\n\n// `RegExp.prototype.toString` method\n// https://tc39.github.io/ecma262/#sec-regexp.prototype.tostring\nif (NOT_GENERIC || INCORRECT_NAME) {\n  redefine(RegExp.prototype, TO_STRING, function toString() {\n    var R = anObject(this);\n    var p = String(R.source);\n    var rf = R.flags;\n    var f = String(rf === undefined && R instanceof RegExp && !('flags' in RegExpPrototype) ? flags.call(R) : rf);\n    return '/' + p + '/' + f;\n  }, { unsafe: true });\n}\n","'use strict';\nvar getBuiltIn = require('../internals/get-built-in');\nvar definePropertyModule = require('../internals/object-define-property');\nvar wellKnownSymbol = require('../internals/well-known-symbol');\nvar DESCRIPTORS = require('../internals/descriptors');\n\nvar SPECIES = wellKnownSymbol('species');\n\nmodule.exports = function (CONSTRUCTOR_NAME) {\n  var Constructor = getBuiltIn(CONSTRUCTOR_NAME);\n  var defineProperty = definePropertyModule.f;\n\n  if (DESCRIPTORS && Constructor && !Constructor[SPECIES]) {\n    defineProperty(Constructor, SPECIES, {\n      configurable: true,\n      get: function () { return this; }\n    });\n  }\n};\n","/* globals __VUE_SSR_CONTEXT__ */\n\n// IMPORTANT: Do NOT use ES2015 features in this file (except for modules).\n// This module is a runtime utility for cleaner component module output and will\n// be included in the final webpack user bundle.\n\nexport default function normalizeComponent (\n  scriptExports,\n  render,\n  staticRenderFns,\n  functionalTemplate,\n  injectStyles,\n  scopeId,\n  moduleIdentifier, /* server only */\n  shadowMode /* vue-cli only */\n) {\n  // Vue.extend constructor export interop\n  var options = typeof scriptExports === 'function'\n    ? scriptExports.options\n    : scriptExports\n\n  // render functions\n  if (render) {\n    options.render = render\n    options.staticRenderFns = staticRenderFns\n    options._compiled = true\n  }\n\n  // functional template\n  if (functionalTemplate) {\n    options.functional = true\n  }\n\n  // scopedId\n  if (scopeId) {\n    options._scopeId = 'data-v-' + scopeId\n  }\n\n  var hook\n  if (moduleIdentifier) { // server build\n    hook = function (context) {\n      // 2.3 injection\n      context =\n        context || // cached call\n        (this.$vnode && this.$vnode.ssrContext) || // stateful\n        (this.parent && this.parent.$vnode && this.parent.$vnode.ssrContext) // functional\n      // 2.2 with runInNewContext: true\n      if (!context && typeof __VUE_SSR_CONTEXT__ !== 'undefined') {\n        context = __VUE_SSR_CONTEXT__\n      }\n      // inject component styles\n      if (injectStyles) {\n        injectStyles.call(this, context)\n      }\n      // register component module identifier for async chunk inferrence\n      if (context && context._registeredComponents) {\n        context._registeredComponents.add(moduleIdentifier)\n      }\n    }\n    // used by ssr in case component is cached and beforeCreate\n    // never gets called\n    options._ssrRegister = hook\n  } else if (injectStyles) {\n    hook = shadowMode\n      ? function () {\n        injectStyles.call(\n          this,\n          (options.functional ? this.parent : this).$root.$options.shadowRoot\n        )\n      }\n      : injectStyles\n  }\n\n  if (hook) {\n    if (options.functional) {\n      // for template-only hot-reload because in that case the render fn doesn't\n      // go through the normalizer\n      options._injectStyles = hook\n      // register for functional component in vue file\n      var originalRender = options.render\n      options.render = function renderWithStyleInjection (h, context) {\n        hook.call(context)\n        return originalRender(h, context)\n      }\n    } else {\n      // inject component registration as beforeCreate hook\n      var existing = options.beforeCreate\n      options.beforeCreate = existing\n        ? [].concat(existing, hook)\n        : [hook]\n    }\n  }\n\n  return {\n    exports: scriptExports,\n    options: options\n  }\n}\n","export default function _arrayLikeToArray(arr, len) {\n  if (len == null || len > arr.length) len = arr.length;\n\n  for (var i = 0, arr2 = new Array(len); i < len; i++) {\n    arr2[i] = arr[i];\n  }\n\n  return arr2;\n}","import arrayLikeToArray from \"@babel/runtime/helpers/esm/arrayLikeToArray\";\nexport default function _arrayWithoutHoles(arr) {\n  if (Array.isArray(arr)) return arrayLikeToArray(arr);\n}","export default function _iterableToArray(iter) {\n  if (typeof Symbol !== \"undefined\" && Symbol.iterator in Object(iter)) return Array.from(iter);\n}","import arrayLikeToArray from \"@babel/runtime/helpers/esm/arrayLikeToArray\";\nexport default function _unsupportedIterableToArray(o, minLen) {\n  if (!o) return;\n  if (typeof o === \"string\") return arrayLikeToArray(o, minLen);\n  var n = Object.prototype.toString.call(o).slice(8, -1);\n  if (n === \"Object\" && o.constructor) n = o.constructor.name;\n  if (n === \"Map\" || n === \"Set\") return Array.from(o);\n  if (n === \"Arguments\" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return arrayLikeToArray(o, minLen);\n}","export default function _nonIterableSpread() {\n  throw new TypeError(\"Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\");\n}","import arrayWithoutHoles from \"@babel/runtime/helpers/esm/arrayWithoutHoles\";\nimport iterableToArray from \"@babel/runtime/helpers/esm/iterableToArray\";\nimport unsupportedIterableToArray from \"@babel/runtime/helpers/esm/unsupportedIterableToArray\";\nimport nonIterableSpread from \"@babel/runtime/helpers/esm/nonIterableSpread\";\nexport default function _toConsumableArray(arr) {\n  return arrayWithoutHoles(arr) || iterableToArray(arr) || unsupportedIterableToArray(arr) || nonIterableSpread();\n}","/*!\n * Vue.js v2.6.12\n * (c) 2014-2020 Evan You\n * Released under the MIT License.\n */\n/*  */\n\nvar emptyObject = Object.freeze({});\n\n// These helpers produce better VM code in JS engines due to their\n// explicitness and function inlining.\nfunction isUndef (v) {\n  return v === undefined || v === null\n}\n\nfunction isDef (v) {\n  return v !== undefined && v !== null\n}\n\nfunction isTrue (v) {\n  return v === true\n}\n\nfunction isFalse (v) {\n  return v === false\n}\n\n/**\n * Check if value is primitive.\n */\nfunction isPrimitive (value) {\n  return (\n    typeof value === 'string' ||\n    typeof value === 'number' ||\n    // $flow-disable-line\n    typeof value === 'symbol' ||\n    typeof value === 'boolean'\n  )\n}\n\n/**\n * Quick object check - this is primarily used to tell\n * Objects from primitive values when we know the value\n * is a JSON-compliant type.\n */\nfunction isObject (obj) {\n  return obj !== null && typeof obj === 'object'\n}\n\n/**\n * Get the raw type string of a value, e.g., [object Object].\n */\nvar _toString = Object.prototype.toString;\n\nfunction toRawType (value) {\n  return _toString.call(value).slice(8, -1)\n}\n\n/**\n * Strict object type check. Only returns true\n * for plain JavaScript objects.\n */\nfunction isPlainObject (obj) {\n  return _toString.call(obj) === '[object Object]'\n}\n\nfunction isRegExp (v) {\n  return _toString.call(v) === '[object RegExp]'\n}\n\n/**\n * Check if val is a valid array index.\n */\nfunction isValidArrayIndex (val) {\n  var n = parseFloat(String(val));\n  return n >= 0 && Math.floor(n) === n && isFinite(val)\n}\n\nfunction isPromise (val) {\n  return (\n    isDef(val) &&\n    typeof val.then === 'function' &&\n    typeof val.catch === 'function'\n  )\n}\n\n/**\n * Convert a value to a string that is actually rendered.\n */\nfunction toString (val) {\n  return val == null\n    ? ''\n    : Array.isArray(val) || (isPlainObject(val) && val.toString === _toString)\n      ? JSON.stringify(val, null, 2)\n      : String(val)\n}\n\n/**\n * Convert an input value to a number for persistence.\n * If the conversion fails, return original string.\n */\nfunction toNumber (val) {\n  var n = parseFloat(val);\n  return isNaN(n) ? val : n\n}\n\n/**\n * Make a map and return a function for checking if a key\n * is in that map.\n */\nfunction makeMap (\n  str,\n  expectsLowerCase\n) {\n  var map = Object.create(null);\n  var list = str.split(',');\n  for (var i = 0; i < list.length; i++) {\n    map[list[i]] = true;\n  }\n  return expectsLowerCase\n    ? function (val) { return map[val.toLowerCase()]; }\n    : function (val) { return map[val]; }\n}\n\n/**\n * Check if a tag is a built-in tag.\n */\nvar isBuiltInTag = makeMap('slot,component', true);\n\n/**\n * Check if an attribute is a reserved attribute.\n */\nvar isReservedAttribute = makeMap('key,ref,slot,slot-scope,is');\n\n/**\n * Remove an item from an array.\n */\nfunction remove (arr, item) {\n  if (arr.length) {\n    var index = arr.indexOf(item);\n    if (index > -1) {\n      return arr.splice(index, 1)\n    }\n  }\n}\n\n/**\n * Check whether an object has the property.\n */\nvar hasOwnProperty = Object.prototype.hasOwnProperty;\nfunction hasOwn (obj, key) {\n  return hasOwnProperty.call(obj, key)\n}\n\n/**\n * Create a cached version of a pure function.\n */\nfunction cached (fn) {\n  var cache = Object.create(null);\n  return (function cachedFn (str) {\n    var hit = cache[str];\n    return hit || (cache[str] = fn(str))\n  })\n}\n\n/**\n * Camelize a hyphen-delimited string.\n */\nvar camelizeRE = /-(\\w)/g;\nvar camelize = cached(function (str) {\n  return str.replace(camelizeRE, function (_, c) { return c ? c.toUpperCase() : ''; })\n});\n\n/**\n * Capitalize a string.\n */\nvar capitalize = cached(function (str) {\n  return str.charAt(0).toUpperCase() + str.slice(1)\n});\n\n/**\n * Hyphenate a camelCase string.\n */\nvar hyphenateRE = /\\B([A-Z])/g;\nvar hyphenate = cached(function (str) {\n  return str.replace(hyphenateRE, '-$1').toLowerCase()\n});\n\n/**\n * Simple bind polyfill for environments that do not support it,\n * e.g., PhantomJS 1.x. Technically, we don't need this anymore\n * since native bind is now performant enough in most browsers.\n * But removing it would mean breaking code that was able to run in\n * PhantomJS 1.x, so this must be kept for backward compatibility.\n */\n\n/* istanbul ignore next */\nfunction polyfillBind (fn, ctx) {\n  function boundFn (a) {\n    var l = arguments.length;\n    return l\n      ? l > 1\n        ? fn.apply(ctx, arguments)\n        : fn.call(ctx, a)\n      : fn.call(ctx)\n  }\n\n  boundFn._length = fn.length;\n  return boundFn\n}\n\nfunction nativeBind (fn, ctx) {\n  return fn.bind(ctx)\n}\n\nvar bind = Function.prototype.bind\n  ? nativeBind\n  : polyfillBind;\n\n/**\n * Convert an Array-like object to a real Array.\n */\nfunction toArray (list, start) {\n  start = start || 0;\n  var i = list.length - start;\n  var ret = new Array(i);\n  while (i--) {\n    ret[i] = list[i + start];\n  }\n  return ret\n}\n\n/**\n * Mix properties into target object.\n */\nfunction extend (to, _from) {\n  for (var key in _from) {\n    to[key] = _from[key];\n  }\n  return to\n}\n\n/**\n * Merge an Array of Objects into a single Object.\n */\nfunction toObject (arr) {\n  var res = {};\n  for (var i = 0; i < arr.length; i++) {\n    if (arr[i]) {\n      extend(res, arr[i]);\n    }\n  }\n  return res\n}\n\n/* eslint-disable no-unused-vars */\n\n/**\n * Perform no operation.\n * Stubbing args to make Flow happy without leaving useless transpiled code\n * with ...rest (https://flow.org/blog/2017/05/07/Strict-Function-Call-Arity/).\n */\nfunction noop (a, b, c) {}\n\n/**\n * Always return false.\n */\nvar no = function (a, b, c) { return false; };\n\n/* eslint-enable no-unused-vars */\n\n/**\n * Return the same value.\n */\nvar identity = function (_) { return _; };\n\n/**\n * Check if two values are loosely equal - that is,\n * if they are plain objects, do they have the same shape?\n */\nfunction looseEqual (a, b) {\n  if (a === b) { return true }\n  var isObjectA = isObject(a);\n  var isObjectB = isObject(b);\n  if (isObjectA && isObjectB) {\n    try {\n      var isArrayA = Array.isArray(a);\n      var isArrayB = Array.isArray(b);\n      if (isArrayA && isArrayB) {\n        return a.length === b.length && a.every(function (e, i) {\n          return looseEqual(e, b[i])\n        })\n      } else if (a instanceof Date && b instanceof Date) {\n        return a.getTime() === b.getTime()\n      } else if (!isArrayA && !isArrayB) {\n        var keysA = Object.keys(a);\n        var keysB = Object.keys(b);\n        return keysA.length === keysB.length && keysA.every(function (key) {\n          return looseEqual(a[key], b[key])\n        })\n      } else {\n        /* istanbul ignore next */\n        return false\n      }\n    } catch (e) {\n      /* istanbul ignore next */\n      return false\n    }\n  } else if (!isObjectA && !isObjectB) {\n    return String(a) === String(b)\n  } else {\n    return false\n  }\n}\n\n/**\n * Return the first index at which a loosely equal value can be\n * found in the array (if value is a plain object, the array must\n * contain an object of the same shape), or -1 if it is not present.\n */\nfunction looseIndexOf (arr, val) {\n  for (var i = 0; i < arr.length; i++) {\n    if (looseEqual(arr[i], val)) { return i }\n  }\n  return -1\n}\n\n/**\n * Ensure a function is called only once.\n */\nfunction once (fn) {\n  var called = false;\n  return function () {\n    if (!called) {\n      called = true;\n      fn.apply(this, arguments);\n    }\n  }\n}\n\nvar SSR_ATTR = 'data-server-rendered';\n\nvar ASSET_TYPES = [\n  'component',\n  'directive',\n  'filter'\n];\n\nvar LIFECYCLE_HOOKS = [\n  'beforeCreate',\n  'created',\n  'beforeMount',\n  'mounted',\n  'beforeUpdate',\n  'updated',\n  'beforeDestroy',\n  'destroyed',\n  'activated',\n  'deactivated',\n  'errorCaptured',\n  'serverPrefetch'\n];\n\n/*  */\n\n\n\nvar config = ({\n  /**\n   * Option merge strategies (used in core/util/options)\n   */\n  // $flow-disable-line\n  optionMergeStrategies: Object.create(null),\n\n  /**\n   * Whether to suppress warnings.\n   */\n  silent: false,\n\n  /**\n   * Show production mode tip message on boot?\n   */\n  productionTip: process.env.NODE_ENV !== 'production',\n\n  /**\n   * Whether to enable devtools\n   */\n  devtools: process.env.NODE_ENV !== 'production',\n\n  /**\n   * Whether to record perf\n   */\n  performance: false,\n\n  /**\n   * Error handler for watcher errors\n   */\n  errorHandler: null,\n\n  /**\n   * Warn handler for watcher warns\n   */\n  warnHandler: null,\n\n  /**\n   * Ignore certain custom elements\n   */\n  ignoredElements: [],\n\n  /**\n   * Custom user key aliases for v-on\n   */\n  // $flow-disable-line\n  keyCodes: Object.create(null),\n\n  /**\n   * Check if a tag is reserved so that it cannot be registered as a\n   * component. This is platform-dependent and may be overwritten.\n   */\n  isReservedTag: no,\n\n  /**\n   * Check if an attribute is reserved so that it cannot be used as a component\n   * prop. This is platform-dependent and may be overwritten.\n   */\n  isReservedAttr: no,\n\n  /**\n   * Check if a tag is an unknown element.\n   * Platform-dependent.\n   */\n  isUnknownElement: no,\n\n  /**\n   * Get the namespace of an element\n   */\n  getTagNamespace: noop,\n\n  /**\n   * Parse the real tag name for the specific platform.\n   */\n  parsePlatformTagName: identity,\n\n  /**\n   * Check if an attribute must be bound using property, e.g. value\n   * Platform-dependent.\n   */\n  mustUseProp: no,\n\n  /**\n   * Perform updates asynchronously. Intended to be used by Vue Test Utils\n   * This will significantly reduce performance if set to false.\n   */\n  async: true,\n\n  /**\n   * Exposed for legacy reasons\n   */\n  _lifecycleHooks: LIFECYCLE_HOOKS\n});\n\n/*  */\n\n/**\n * unicode letters used for parsing html tags, component names and property paths.\n * using https://www.w3.org/TR/html53/semantics-scripting.html#potentialcustomelementname\n * skipping \\u10000-\\uEFFFF due to it freezing up PhantomJS\n */\nvar unicodeRegExp = /a-zA-Z\\u00B7\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u203F-\\u2040\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD/;\n\n/**\n * Check if a string starts with $ or _\n */\nfunction isReserved (str) {\n  var c = (str + '').charCodeAt(0);\n  return c === 0x24 || c === 0x5F\n}\n\n/**\n * Define a property.\n */\nfunction def (obj, key, val, enumerable) {\n  Object.defineProperty(obj, key, {\n    value: val,\n    enumerable: !!enumerable,\n    writable: true,\n    configurable: true\n  });\n}\n\n/**\n * Parse simple path.\n */\nvar bailRE = new RegExp((\"[^\" + (unicodeRegExp.source) + \".$_\\\\d]\"));\nfunction parsePath (path) {\n  if (bailRE.test(path)) {\n    return\n  }\n  var segments = path.split('.');\n  return function (obj) {\n    for (var i = 0; i < segments.length; i++) {\n      if (!obj) { return }\n      obj = obj[segments[i]];\n    }\n    return obj\n  }\n}\n\n/*  */\n\n// can we use __proto__?\nvar hasProto = '__proto__' in {};\n\n// Browser environment sniffing\nvar inBrowser = typeof window !== 'undefined';\nvar inWeex = typeof WXEnvironment !== 'undefined' && !!WXEnvironment.platform;\nvar weexPlatform = inWeex && WXEnvironment.platform.toLowerCase();\nvar UA = inBrowser && window.navigator.userAgent.toLowerCase();\nvar isIE = UA && /msie|trident/.test(UA);\nvar isIE9 = UA && UA.indexOf('msie 9.0') > 0;\nvar isEdge = UA && UA.indexOf('edge/') > 0;\nvar isAndroid = (UA && UA.indexOf('android') > 0) || (weexPlatform === 'android');\nvar isIOS = (UA && /iphone|ipad|ipod|ios/.test(UA)) || (weexPlatform === 'ios');\nvar isChrome = UA && /chrome\\/\\d+/.test(UA) && !isEdge;\nvar isPhantomJS = UA && /phantomjs/.test(UA);\nvar isFF = UA && UA.match(/firefox\\/(\\d+)/);\n\n// Firefox has a \"watch\" function on Object.prototype...\nvar nativeWatch = ({}).watch;\n\nvar supportsPassive = false;\nif (inBrowser) {\n  try {\n    var opts = {};\n    Object.defineProperty(opts, 'passive', ({\n      get: function get () {\n        /* istanbul ignore next */\n        supportsPassive = true;\n      }\n    })); // https://github.com/facebook/flow/issues/285\n    window.addEventListener('test-passive', null, opts);\n  } catch (e) {}\n}\n\n// this needs to be lazy-evaled because vue may be required before\n// vue-server-renderer can set VUE_ENV\nvar _isServer;\nvar isServerRendering = function () {\n  if (_isServer === undefined) {\n    /* istanbul ignore if */\n    if (!inBrowser && !inWeex && typeof global !== 'undefined') {\n      // detect presence of vue-server-renderer and avoid\n      // Webpack shimming the process\n      _isServer = global['process'] && global['process'].env.VUE_ENV === 'server';\n    } else {\n      _isServer = false;\n    }\n  }\n  return _isServer\n};\n\n// detect devtools\nvar devtools = inBrowser && window.__VUE_DEVTOOLS_GLOBAL_HOOK__;\n\n/* istanbul ignore next */\nfunction isNative (Ctor) {\n  return typeof Ctor === 'function' && /native code/.test(Ctor.toString())\n}\n\nvar hasSymbol =\n  typeof Symbol !== 'undefined' && isNative(Symbol) &&\n  typeof Reflect !== 'undefined' && isNative(Reflect.ownKeys);\n\nvar _Set;\n/* istanbul ignore if */ // $flow-disable-line\nif (typeof Set !== 'undefined' && isNative(Set)) {\n  // use native Set when available.\n  _Set = Set;\n} else {\n  // a non-standard Set polyfill that only works with primitive keys.\n  _Set = /*@__PURE__*/(function () {\n    function Set () {\n      this.set = Object.create(null);\n    }\n    Set.prototype.has = function has (key) {\n      return this.set[key] === true\n    };\n    Set.prototype.add = function add (key) {\n      this.set[key] = true;\n    };\n    Set.prototype.clear = function clear () {\n      this.set = Object.create(null);\n    };\n\n    return Set;\n  }());\n}\n\n/*  */\n\nvar warn = noop;\nvar tip = noop;\nvar generateComponentTrace = (noop); // work around flow check\nvar formatComponentName = (noop);\n\nif (process.env.NODE_ENV !== 'production') {\n  var hasConsole = typeof console !== 'undefined';\n  var classifyRE = /(?:^|[-_])(\\w)/g;\n  var classify = function (str) { return str\n    .replace(classifyRE, function (c) { return c.toUpperCase(); })\n    .replace(/[-_]/g, ''); };\n\n  warn = function (msg, vm) {\n    var trace = vm ? generateComponentTrace(vm) : '';\n\n    if (config.warnHandler) {\n      config.warnHandler.call(null, msg, vm, trace);\n    } else if (hasConsole && (!config.silent)) {\n      console.error((\"[Vue warn]: \" + msg + trace));\n    }\n  };\n\n  tip = function (msg, vm) {\n    if (hasConsole && (!config.silent)) {\n      console.warn(\"[Vue tip]: \" + msg + (\n        vm ? generateComponentTrace(vm) : ''\n      ));\n    }\n  };\n\n  formatComponentName = function (vm, includeFile) {\n    if (vm.$root === vm) {\n      return '<Root>'\n    }\n    var options = typeof vm === 'function' && vm.cid != null\n      ? vm.options\n      : vm._isVue\n        ? vm.$options || vm.constructor.options\n        : vm;\n    var name = options.name || options._componentTag;\n    var file = options.__file;\n    if (!name && file) {\n      var match = file.match(/([^/\\\\]+)\\.vue$/);\n      name = match && match[1];\n    }\n\n    return (\n      (name ? (\"<\" + (classify(name)) + \">\") : \"<Anonymous>\") +\n      (file && includeFile !== false ? (\" at \" + file) : '')\n    )\n  };\n\n  var repeat = function (str, n) {\n    var res = '';\n    while (n) {\n      if (n % 2 === 1) { res += str; }\n      if (n > 1) { str += str; }\n      n >>= 1;\n    }\n    return res\n  };\n\n  generateComponentTrace = function (vm) {\n    if (vm._isVue && vm.$parent) {\n      var tree = [];\n      var currentRecursiveSequence = 0;\n      while (vm) {\n        if (tree.length > 0) {\n          var last = tree[tree.length - 1];\n          if (last.constructor === vm.constructor) {\n            currentRecursiveSequence++;\n            vm = vm.$parent;\n            continue\n          } else if (currentRecursiveSequence > 0) {\n            tree[tree.length - 1] = [last, currentRecursiveSequence];\n            currentRecursiveSequence = 0;\n          }\n        }\n        tree.push(vm);\n        vm = vm.$parent;\n      }\n      return '\\n\\nfound in\\n\\n' + tree\n        .map(function (vm, i) { return (\"\" + (i === 0 ? '---> ' : repeat(' ', 5 + i * 2)) + (Array.isArray(vm)\n            ? ((formatComponentName(vm[0])) + \"... (\" + (vm[1]) + \" recursive calls)\")\n            : formatComponentName(vm))); })\n        .join('\\n')\n    } else {\n      return (\"\\n\\n(found in \" + (formatComponentName(vm)) + \")\")\n    }\n  };\n}\n\n/*  */\n\nvar uid = 0;\n\n/**\n * A dep is an observable that can have multiple\n * directives subscribing to it.\n */\nvar Dep = function Dep () {\n  this.id = uid++;\n  this.subs = [];\n};\n\nDep.prototype.addSub = function addSub (sub) {\n  this.subs.push(sub);\n};\n\nDep.prototype.removeSub = function removeSub (sub) {\n  remove(this.subs, sub);\n};\n\nDep.prototype.depend = function depend () {\n  if (Dep.target) {\n    Dep.target.addDep(this);\n  }\n};\n\nDep.prototype.notify = function notify () {\n  // stabilize the subscriber list first\n  var subs = this.subs.slice();\n  if (process.env.NODE_ENV !== 'production' && !config.async) {\n    // subs aren't sorted in scheduler if not running async\n    // we need to sort them now to make sure they fire in correct\n    // order\n    subs.sort(function (a, b) { return a.id - b.id; });\n  }\n  for (var i = 0, l = subs.length; i < l; i++) {\n    subs[i].update();\n  }\n};\n\n// The current target watcher being evaluated.\n// This is globally unique because only one watcher\n// can be evaluated at a time.\nDep.target = null;\nvar targetStack = [];\n\nfunction pushTarget (target) {\n  targetStack.push(target);\n  Dep.target = target;\n}\n\nfunction popTarget () {\n  targetStack.pop();\n  Dep.target = targetStack[targetStack.length - 1];\n}\n\n/*  */\n\nvar VNode = function VNode (\n  tag,\n  data,\n  children,\n  text,\n  elm,\n  context,\n  componentOptions,\n  asyncFactory\n) {\n  this.tag = tag;\n  this.data = data;\n  this.children = children;\n  this.text = text;\n  this.elm = elm;\n  this.ns = undefined;\n  this.context = context;\n  this.fnContext = undefined;\n  this.fnOptions = undefined;\n  this.fnScopeId = undefined;\n  this.key = data && data.key;\n  this.componentOptions = componentOptions;\n  this.componentInstance = undefined;\n  this.parent = undefined;\n  this.raw = false;\n  this.isStatic = false;\n  this.isRootInsert = true;\n  this.isComment = false;\n  this.isCloned = false;\n  this.isOnce = false;\n  this.asyncFactory = asyncFactory;\n  this.asyncMeta = undefined;\n  this.isAsyncPlaceholder = false;\n};\n\nvar prototypeAccessors = { child: { configurable: true } };\n\n// DEPRECATED: alias for componentInstance for backwards compat.\n/* istanbul ignore next */\nprototypeAccessors.child.get = function () {\n  return this.componentInstance\n};\n\nObject.defineProperties( VNode.prototype, prototypeAccessors );\n\nvar createEmptyVNode = function (text) {\n  if ( text === void 0 ) text = '';\n\n  var node = new VNode();\n  node.text = text;\n  node.isComment = true;\n  return node\n};\n\nfunction createTextVNode (val) {\n  return new VNode(undefined, undefined, undefined, String(val))\n}\n\n// optimized shallow clone\n// used for static nodes and slot nodes because they may be reused across\n// multiple renders, cloning them avoids errors when DOM manipulations rely\n// on their elm reference.\nfunction cloneVNode (vnode) {\n  var cloned = new VNode(\n    vnode.tag,\n    vnode.data,\n    // #7975\n    // clone children array to avoid mutating original in case of cloning\n    // a child.\n    vnode.children && vnode.children.slice(),\n    vnode.text,\n    vnode.elm,\n    vnode.context,\n    vnode.componentOptions,\n    vnode.asyncFactory\n  );\n  cloned.ns = vnode.ns;\n  cloned.isStatic = vnode.isStatic;\n  cloned.key = vnode.key;\n  cloned.isComment = vnode.isComment;\n  cloned.fnContext = vnode.fnContext;\n  cloned.fnOptions = vnode.fnOptions;\n  cloned.fnScopeId = vnode.fnScopeId;\n  cloned.asyncMeta = vnode.asyncMeta;\n  cloned.isCloned = true;\n  return cloned\n}\n\n/*\n * not type checking this file because flow doesn't play well with\n * dynamically accessing methods on Array prototype\n */\n\nvar arrayProto = Array.prototype;\nvar arrayMethods = Object.create(arrayProto);\n\nvar methodsToPatch = [\n  'push',\n  'pop',\n  'shift',\n  'unshift',\n  'splice',\n  'sort',\n  'reverse'\n];\n\n/**\n * Intercept mutating methods and emit events\n */\nmethodsToPatch.forEach(function (method) {\n  // cache original method\n  var original = arrayProto[method];\n  def(arrayMethods, method, function mutator () {\n    var args = [], len = arguments.length;\n    while ( len-- ) args[ len ] = arguments[ len ];\n\n    var result = original.apply(this, args);\n    var ob = this.__ob__;\n    var inserted;\n    switch (method) {\n      case 'push':\n      case 'unshift':\n        inserted = args;\n        break\n      case 'splice':\n        inserted = args.slice(2);\n        break\n    }\n    if (inserted) { ob.observeArray(inserted); }\n    // notify change\n    ob.dep.notify();\n    return result\n  });\n});\n\n/*  */\n\nvar arrayKeys = Object.getOwnPropertyNames(arrayMethods);\n\n/**\n * In some cases we may want to disable observation inside a component's\n * update computation.\n */\nvar shouldObserve = true;\n\nfunction toggleObserving (value) {\n  shouldObserve = value;\n}\n\n/**\n * Observer class that is attached to each observed\n * object. Once attached, the observer converts the target\n * object's property keys into getter/setters that\n * collect dependencies and dispatch updates.\n */\nvar Observer = function Observer (value) {\n  this.value = value;\n  this.dep = new Dep();\n  this.vmCount = 0;\n  def(value, '__ob__', this);\n  if (Array.isArray(value)) {\n    if (hasProto) {\n      protoAugment(value, arrayMethods);\n    } else {\n      copyAugment(value, arrayMethods, arrayKeys);\n    }\n    this.observeArray(value);\n  } else {\n    this.walk(value);\n  }\n};\n\n/**\n * Walk through all properties and convert them into\n * getter/setters. This method should only be called when\n * value type is Object.\n */\nObserver.prototype.walk = function walk (obj) {\n  var keys = Object.keys(obj);\n  for (var i = 0; i < keys.length; i++) {\n    defineReactive$$1(obj, keys[i]);\n  }\n};\n\n/**\n * Observe a list of Array items.\n */\nObserver.prototype.observeArray = function observeArray (items) {\n  for (var i = 0, l = items.length; i < l; i++) {\n    observe(items[i]);\n  }\n};\n\n// helpers\n\n/**\n * Augment a target Object or Array by intercepting\n * the prototype chain using __proto__\n */\nfunction protoAugment (target, src) {\n  /* eslint-disable no-proto */\n  target.__proto__ = src;\n  /* eslint-enable no-proto */\n}\n\n/**\n * Augment a target Object or Array by defining\n * hidden properties.\n */\n/* istanbul ignore next */\nfunction copyAugment (target, src, keys) {\n  for (var i = 0, l = keys.length; i < l; i++) {\n    var key = keys[i];\n    def(target, key, src[key]);\n  }\n}\n\n/**\n * Attempt to create an observer instance for a value,\n * returns the new observer if successfully observed,\n * or the existing observer if the value already has one.\n */\nfunction observe (value, asRootData) {\n  if (!isObject(value) || value instanceof VNode) {\n    return\n  }\n  var ob;\n  if (hasOwn(value, '__ob__') && value.__ob__ instanceof Observer) {\n    ob = value.__ob__;\n  } else if (\n    shouldObserve &&\n    !isServerRendering() &&\n    (Array.isArray(value) || isPlainObject(value)) &&\n    Object.isExtensible(value) &&\n    !value._isVue\n  ) {\n    ob = new Observer(value);\n  }\n  if (asRootData && ob) {\n    ob.vmCount++;\n  }\n  return ob\n}\n\n/**\n * Define a reactive property on an Object.\n */\nfunction defineReactive$$1 (\n  obj,\n  key,\n  val,\n  customSetter,\n  shallow\n) {\n  var dep = new Dep();\n\n  var property = Object.getOwnPropertyDescriptor(obj, key);\n  if (property && property.configurable === false) {\n    return\n  }\n\n  // cater for pre-defined getter/setters\n  var getter = property && property.get;\n  var setter = property && property.set;\n  if ((!getter || setter) && arguments.length === 2) {\n    val = obj[key];\n  }\n\n  var childOb = !shallow && observe(val);\n  Object.defineProperty(obj, key, {\n    enumerable: true,\n    configurable: true,\n    get: function reactiveGetter () {\n      var value = getter ? getter.call(obj) : val;\n      if (Dep.target) {\n        dep.depend();\n        if (childOb) {\n          childOb.dep.depend();\n          if (Array.isArray(value)) {\n            dependArray(value);\n          }\n        }\n      }\n      return value\n    },\n    set: function reactiveSetter (newVal) {\n      var value = getter ? getter.call(obj) : val;\n      /* eslint-disable no-self-compare */\n      if (newVal === value || (newVal !== newVal && value !== value)) {\n        return\n      }\n      /* eslint-enable no-self-compare */\n      if (process.env.NODE_ENV !== 'production' && customSetter) {\n        customSetter();\n      }\n      // #7981: for accessor properties without setter\n      if (getter && !setter) { return }\n      if (setter) {\n        setter.call(obj, newVal);\n      } else {\n        val = newVal;\n      }\n      childOb = !shallow && observe(newVal);\n      dep.notify();\n    }\n  });\n}\n\n/**\n * Set a property on an object. Adds the new property and\n * triggers change notification if the property doesn't\n * already exist.\n */\nfunction set (target, key, val) {\n  if (process.env.NODE_ENV !== 'production' &&\n    (isUndef(target) || isPrimitive(target))\n  ) {\n    warn((\"Cannot set reactive property on undefined, null, or primitive value: \" + ((target))));\n  }\n  if (Array.isArray(target) && isValidArrayIndex(key)) {\n    target.length = Math.max(target.length, key);\n    target.splice(key, 1, val);\n    return val\n  }\n  if (key in target && !(key in Object.prototype)) {\n    target[key] = val;\n    return val\n  }\n  var ob = (target).__ob__;\n  if (target._isVue || (ob && ob.vmCount)) {\n    process.env.NODE_ENV !== 'production' && warn(\n      'Avoid adding reactive properties to a Vue instance or its root $data ' +\n      'at runtime - declare it upfront in the data option.'\n    );\n    return val\n  }\n  if (!ob) {\n    target[key] = val;\n    return val\n  }\n  defineReactive$$1(ob.value, key, val);\n  ob.dep.notify();\n  return val\n}\n\n/**\n * Delete a property and trigger change if necessary.\n */\nfunction del (target, key) {\n  if (process.env.NODE_ENV !== 'production' &&\n    (isUndef(target) || isPrimitive(target))\n  ) {\n    warn((\"Cannot delete reactive property on undefined, null, or primitive value: \" + ((target))));\n  }\n  if (Array.isArray(target) && isValidArrayIndex(key)) {\n    target.splice(key, 1);\n    return\n  }\n  var ob = (target).__ob__;\n  if (target._isVue || (ob && ob.vmCount)) {\n    process.env.NODE_ENV !== 'production' && warn(\n      'Avoid deleting properties on a Vue instance or its root $data ' +\n      '- just set it to null.'\n    );\n    return\n  }\n  if (!hasOwn(target, key)) {\n    return\n  }\n  delete target[key];\n  if (!ob) {\n    return\n  }\n  ob.dep.notify();\n}\n\n/**\n * Collect dependencies on array elements when the array is touched, since\n * we cannot intercept array element access like property getters.\n */\nfunction dependArray (value) {\n  for (var e = (void 0), i = 0, l = value.length; i < l; i++) {\n    e = value[i];\n    e && e.__ob__ && e.__ob__.dep.depend();\n    if (Array.isArray(e)) {\n      dependArray(e);\n    }\n  }\n}\n\n/*  */\n\n/**\n * Option overwriting strategies are functions that handle\n * how to merge a parent option value and a child option\n * value into the final value.\n */\nvar strats = config.optionMergeStrategies;\n\n/**\n * Options with restrictions\n */\nif (process.env.NODE_ENV !== 'production') {\n  strats.el = strats.propsData = function (parent, child, vm, key) {\n    if (!vm) {\n      warn(\n        \"option \\\"\" + key + \"\\\" can only be used during instance \" +\n        'creation with the `new` keyword.'\n      );\n    }\n    return defaultStrat(parent, child)\n  };\n}\n\n/**\n * Helper that recursively merges two data objects together.\n */\nfunction mergeData (to, from) {\n  if (!from) { return to }\n  var key, toVal, fromVal;\n\n  var keys = hasSymbol\n    ? Reflect.ownKeys(from)\n    : Object.keys(from);\n\n  for (var i = 0; i < keys.length; i++) {\n    key = keys[i];\n    // in case the object is already observed...\n    if (key === '__ob__') { continue }\n    toVal = to[key];\n    fromVal = from[key];\n    if (!hasOwn(to, key)) {\n      set(to, key, fromVal);\n    } else if (\n      toVal !== fromVal &&\n      isPlainObject(toVal) &&\n      isPlainObject(fromVal)\n    ) {\n      mergeData(toVal, fromVal);\n    }\n  }\n  return to\n}\n\n/**\n * Data\n */\nfunction mergeDataOrFn (\n  parentVal,\n  childVal,\n  vm\n) {\n  if (!vm) {\n    // in a Vue.extend merge, both should be functions\n    if (!childVal) {\n      return parentVal\n    }\n    if (!parentVal) {\n      return childVal\n    }\n    // when parentVal & childVal are both present,\n    // we need to return a function that returns the\n    // merged result of both functions... no need to\n    // check if parentVal is a function here because\n    // it has to be a function to pass previous merges.\n    return function mergedDataFn () {\n      return mergeData(\n        typeof childVal === 'function' ? childVal.call(this, this) : childVal,\n        typeof parentVal === 'function' ? parentVal.call(this, this) : parentVal\n      )\n    }\n  } else {\n    return function mergedInstanceDataFn () {\n      // instance merge\n      var instanceData = typeof childVal === 'function'\n        ? childVal.call(vm, vm)\n        : childVal;\n      var defaultData = typeof parentVal === 'function'\n        ? parentVal.call(vm, vm)\n        : parentVal;\n      if (instanceData) {\n        return mergeData(instanceData, defaultData)\n      } else {\n        return defaultData\n      }\n    }\n  }\n}\n\nstrats.data = function (\n  parentVal,\n  childVal,\n  vm\n) {\n  if (!vm) {\n    if (childVal && typeof childVal !== 'function') {\n      process.env.NODE_ENV !== 'production' && warn(\n        'The \"data\" option should be a function ' +\n        'that returns a per-instance value in component ' +\n        'definitions.',\n        vm\n      );\n\n      return parentVal\n    }\n    return mergeDataOrFn(parentVal, childVal)\n  }\n\n  return mergeDataOrFn(parentVal, childVal, vm)\n};\n\n/**\n * Hooks and props are merged as arrays.\n */\nfunction mergeHook (\n  parentVal,\n  childVal\n) {\n  var res = childVal\n    ? parentVal\n      ? parentVal.concat(childVal)\n      : Array.isArray(childVal)\n        ? childVal\n        : [childVal]\n    : parentVal;\n  return res\n    ? dedupeHooks(res)\n    : res\n}\n\nfunction dedupeHooks (hooks) {\n  var res = [];\n  for (var i = 0; i < hooks.length; i++) {\n    if (res.indexOf(hooks[i]) === -1) {\n      res.push(hooks[i]);\n    }\n  }\n  return res\n}\n\nLIFECYCLE_HOOKS.forEach(function (hook) {\n  strats[hook] = mergeHook;\n});\n\n/**\n * Assets\n *\n * When a vm is present (instance creation), we need to do\n * a three-way merge between constructor options, instance\n * options and parent options.\n */\nfunction mergeAssets (\n  parentVal,\n  childVal,\n  vm,\n  key\n) {\n  var res = Object.create(parentVal || null);\n  if (childVal) {\n    process.env.NODE_ENV !== 'production' && assertObjectType(key, childVal, vm);\n    return extend(res, childVal)\n  } else {\n    return res\n  }\n}\n\nASSET_TYPES.forEach(function (type) {\n  strats[type + 's'] = mergeAssets;\n});\n\n/**\n * Watchers.\n *\n * Watchers hashes should not overwrite one\n * another, so we merge them as arrays.\n */\nstrats.watch = function (\n  parentVal,\n  childVal,\n  vm,\n  key\n) {\n  // work around Firefox's Object.prototype.watch...\n  if (parentVal === nativeWatch) { parentVal = undefined; }\n  if (childVal === nativeWatch) { childVal = undefined; }\n  /* istanbul ignore if */\n  if (!childVal) { return Object.create(parentVal || null) }\n  if (process.env.NODE_ENV !== 'production') {\n    assertObjectType(key, childVal, vm);\n  }\n  if (!parentVal) { return childVal }\n  var ret = {};\n  extend(ret, parentVal);\n  for (var key$1 in childVal) {\n    var parent = ret[key$1];\n    var child = childVal[key$1];\n    if (parent && !Array.isArray(parent)) {\n      parent = [parent];\n    }\n    ret[key$1] = parent\n      ? parent.concat(child)\n      : Array.isArray(child) ? child : [child];\n  }\n  return ret\n};\n\n/**\n * Other object hashes.\n */\nstrats.props =\nstrats.methods =\nstrats.inject =\nstrats.computed = function (\n  parentVal,\n  childVal,\n  vm,\n  key\n) {\n  if (childVal && process.env.NODE_ENV !== 'production') {\n    assertObjectType(key, childVal, vm);\n  }\n  if (!parentVal) { return childVal }\n  var ret = Object.create(null);\n  extend(ret, parentVal);\n  if (childVal) { extend(ret, childVal); }\n  return ret\n};\nstrats.provide = mergeDataOrFn;\n\n/**\n * Default strategy.\n */\nvar defaultStrat = function (parentVal, childVal) {\n  return childVal === undefined\n    ? parentVal\n    : childVal\n};\n\n/**\n * Validate component names\n */\nfunction checkComponents (options) {\n  for (var key in options.components) {\n    validateComponentName(key);\n  }\n}\n\nfunction validateComponentName (name) {\n  if (!new RegExp((\"^[a-zA-Z][\\\\-\\\\.0-9_\" + (unicodeRegExp.source) + \"]*$\")).test(name)) {\n    warn(\n      'Invalid component name: \"' + name + '\". Component names ' +\n      'should conform to valid custom element name in html5 specification.'\n    );\n  }\n  if (isBuiltInTag(name) || config.isReservedTag(name)) {\n    warn(\n      'Do not use built-in or reserved HTML elements as component ' +\n      'id: ' + name\n    );\n  }\n}\n\n/**\n * Ensure all props option syntax are normalized into the\n * Object-based format.\n */\nfunction normalizeProps (options, vm) {\n  var props = options.props;\n  if (!props) { return }\n  var res = {};\n  var i, val, name;\n  if (Array.isArray(props)) {\n    i = props.length;\n    while (i--) {\n      val = props[i];\n      if (typeof val === 'string') {\n        name = camelize(val);\n        res[name] = { type: null };\n      } else if (process.env.NODE_ENV !== 'production') {\n        warn('props must be strings when using array syntax.');\n      }\n    }\n  } else if (isPlainObject(props)) {\n    for (var key in props) {\n      val = props[key];\n      name = camelize(key);\n      res[name] = isPlainObject(val)\n        ? val\n        : { type: val };\n    }\n  } else if (process.env.NODE_ENV !== 'production') {\n    warn(\n      \"Invalid value for option \\\"props\\\": expected an Array or an Object, \" +\n      \"but got \" + (toRawType(props)) + \".\",\n      vm\n    );\n  }\n  options.props = res;\n}\n\n/**\n * Normalize all injections into Object-based format\n */\nfunction normalizeInject (options, vm) {\n  var inject = options.inject;\n  if (!inject) { return }\n  var normalized = options.inject = {};\n  if (Array.isArray(inject)) {\n    for (var i = 0; i < inject.length; i++) {\n      normalized[inject[i]] = { from: inject[i] };\n    }\n  } else if (isPlainObject(inject)) {\n    for (var key in inject) {\n      var val = inject[key];\n      normalized[key] = isPlainObject(val)\n        ? extend({ from: key }, val)\n        : { from: val };\n    }\n  } else if (process.env.NODE_ENV !== 'production') {\n    warn(\n      \"Invalid value for option \\\"inject\\\": expected an Array or an Object, \" +\n      \"but got \" + (toRawType(inject)) + \".\",\n      vm\n    );\n  }\n}\n\n/**\n * Normalize raw function directives into object format.\n */\nfunction normalizeDirectives (options) {\n  var dirs = options.directives;\n  if (dirs) {\n    for (var key in dirs) {\n      var def$$1 = dirs[key];\n      if (typeof def$$1 === 'function') {\n        dirs[key] = { bind: def$$1, update: def$$1 };\n      }\n    }\n  }\n}\n\nfunction assertObjectType (name, value, vm) {\n  if (!isPlainObject(value)) {\n    warn(\n      \"Invalid value for option \\\"\" + name + \"\\\": expected an Object, \" +\n      \"but got \" + (toRawType(value)) + \".\",\n      vm\n    );\n  }\n}\n\n/**\n * Merge two option objects into a new one.\n * Core utility used in both instantiation and inheritance.\n */\nfunction mergeOptions (\n  parent,\n  child,\n  vm\n) {\n  if (process.env.NODE_ENV !== 'production') {\n    checkComponents(child);\n  }\n\n  if (typeof child === 'function') {\n    child = child.options;\n  }\n\n  normalizeProps(child, vm);\n  normalizeInject(child, vm);\n  normalizeDirectives(child);\n\n  // Apply extends and mixins on the child options,\n  // but only if it is a raw options object that isn't\n  // the result of another mergeOptions call.\n  // Only merged options has the _base property.\n  if (!child._base) {\n    if (child.extends) {\n      parent = mergeOptions(parent, child.extends, vm);\n    }\n    if (child.mixins) {\n      for (var i = 0, l = child.mixins.length; i < l; i++) {\n        parent = mergeOptions(parent, child.mixins[i], vm);\n      }\n    }\n  }\n\n  var options = {};\n  var key;\n  for (key in parent) {\n    mergeField(key);\n  }\n  for (key in child) {\n    if (!hasOwn(parent, key)) {\n      mergeField(key);\n    }\n  }\n  function mergeField (key) {\n    var strat = strats[key] || defaultStrat;\n    options[key] = strat(parent[key], child[key], vm, key);\n  }\n  return options\n}\n\n/**\n * Resolve an asset.\n * This function is used because child instances need access\n * to assets defined in its ancestor chain.\n */\nfunction resolveAsset (\n  options,\n  type,\n  id,\n  warnMissing\n) {\n  /* istanbul ignore if */\n  if (typeof id !== 'string') {\n    return\n  }\n  var assets = options[type];\n  // check local registration variations first\n  if (hasOwn(assets, id)) { return assets[id] }\n  var camelizedId = camelize(id);\n  if (hasOwn(assets, camelizedId)) { return assets[camelizedId] }\n  var PascalCaseId = capitalize(camelizedId);\n  if (hasOwn(assets, PascalCaseId)) { return assets[PascalCaseId] }\n  // fallback to prototype chain\n  var res = assets[id] || assets[camelizedId] || assets[PascalCaseId];\n  if (process.env.NODE_ENV !== 'production' && warnMissing && !res) {\n    warn(\n      'Failed to resolve ' + type.slice(0, -1) + ': ' + id,\n      options\n    );\n  }\n  return res\n}\n\n/*  */\n\n\n\nfunction validateProp (\n  key,\n  propOptions,\n  propsData,\n  vm\n) {\n  var prop = propOptions[key];\n  var absent = !hasOwn(propsData, key);\n  var value = propsData[key];\n  // boolean casting\n  var booleanIndex = getTypeIndex(Boolean, prop.type);\n  if (booleanIndex > -1) {\n    if (absent && !hasOwn(prop, 'default')) {\n      value = false;\n    } else if (value === '' || value === hyphenate(key)) {\n      // only cast empty string / same name to boolean if\n      // boolean has higher priority\n      var stringIndex = getTypeIndex(String, prop.type);\n      if (stringIndex < 0 || booleanIndex < stringIndex) {\n        value = true;\n      }\n    }\n  }\n  // check default value\n  if (value === undefined) {\n    value = getPropDefaultValue(vm, prop, key);\n    // since the default value is a fresh copy,\n    // make sure to observe it.\n    var prevShouldObserve = shouldObserve;\n    toggleObserving(true);\n    observe(value);\n    toggleObserving(prevShouldObserve);\n  }\n  if (\n    process.env.NODE_ENV !== 'production' &&\n    // skip validation for weex recycle-list child component props\n    !(false)\n  ) {\n    assertProp(prop, key, value, vm, absent);\n  }\n  return value\n}\n\n/**\n * Get the default value of a prop.\n */\nfunction getPropDefaultValue (vm, prop, key) {\n  // no default, return undefined\n  if (!hasOwn(prop, 'default')) {\n    return undefined\n  }\n  var def = prop.default;\n  // warn against non-factory defaults for Object & Array\n  if (process.env.NODE_ENV !== 'production' && isObject(def)) {\n    warn(\n      'Invalid default value for prop \"' + key + '\": ' +\n      'Props with type Object/Array must use a factory function ' +\n      'to return the default value.',\n      vm\n    );\n  }\n  // the raw prop value was also undefined from previous render,\n  // return previous default value to avoid unnecessary watcher trigger\n  if (vm && vm.$options.propsData &&\n    vm.$options.propsData[key] === undefined &&\n    vm._props[key] !== undefined\n  ) {\n    return vm._props[key]\n  }\n  // call factory function for non-Function types\n  // a value is Function if its prototype is function even across different execution context\n  return typeof def === 'function' && getType(prop.type) !== 'Function'\n    ? def.call(vm)\n    : def\n}\n\n/**\n * Assert whether a prop is valid.\n */\nfunction assertProp (\n  prop,\n  name,\n  value,\n  vm,\n  absent\n) {\n  if (prop.required && absent) {\n    warn(\n      'Missing required prop: \"' + name + '\"',\n      vm\n    );\n    return\n  }\n  if (value == null && !prop.required) {\n    return\n  }\n  var type = prop.type;\n  var valid = !type || type === true;\n  var expectedTypes = [];\n  if (type) {\n    if (!Array.isArray(type)) {\n      type = [type];\n    }\n    for (var i = 0; i < type.length && !valid; i++) {\n      var assertedType = assertType(value, type[i]);\n      expectedTypes.push(assertedType.expectedType || '');\n      valid = assertedType.valid;\n    }\n  }\n\n  if (!valid) {\n    warn(\n      getInvalidTypeMessage(name, value, expectedTypes),\n      vm\n    );\n    return\n  }\n  var validator = prop.validator;\n  if (validator) {\n    if (!validator(value)) {\n      warn(\n        'Invalid prop: custom validator check failed for prop \"' + name + '\".',\n        vm\n      );\n    }\n  }\n}\n\nvar simpleCheckRE = /^(String|Number|Boolean|Function|Symbol)$/;\n\nfunction assertType (value, type) {\n  var valid;\n  var expectedType = getType(type);\n  if (simpleCheckRE.test(expectedType)) {\n    var t = typeof value;\n    valid = t === expectedType.toLowerCase();\n    // for primitive wrapper objects\n    if (!valid && t === 'object') {\n      valid = value instanceof type;\n    }\n  } else if (expectedType === 'Object') {\n    valid = isPlainObject(value);\n  } else if (expectedType === 'Array') {\n    valid = Array.isArray(value);\n  } else {\n    valid = value instanceof type;\n  }\n  return {\n    valid: valid,\n    expectedType: expectedType\n  }\n}\n\n/**\n * Use function string name to check built-in types,\n * because a simple equality check will fail when running\n * across different vms / iframes.\n */\nfunction getType (fn) {\n  var match = fn && fn.toString().match(/^\\s*function (\\w+)/);\n  return match ? match[1] : ''\n}\n\nfunction isSameType (a, b) {\n  return getType(a) === getType(b)\n}\n\nfunction getTypeIndex (type, expectedTypes) {\n  if (!Array.isArray(expectedTypes)) {\n    return isSameType(expectedTypes, type) ? 0 : -1\n  }\n  for (var i = 0, len = expectedTypes.length; i < len; i++) {\n    if (isSameType(expectedTypes[i], type)) {\n      return i\n    }\n  }\n  return -1\n}\n\nfunction getInvalidTypeMessage (name, value, expectedTypes) {\n  var message = \"Invalid prop: type check failed for prop \\\"\" + name + \"\\\".\" +\n    \" Expected \" + (expectedTypes.map(capitalize).join(', '));\n  var expectedType = expectedTypes[0];\n  var receivedType = toRawType(value);\n  var expectedValue = styleValue(value, expectedType);\n  var receivedValue = styleValue(value, receivedType);\n  // check if we need to specify expected value\n  if (expectedTypes.length === 1 &&\n      isExplicable(expectedType) &&\n      !isBoolean(expectedType, receivedType)) {\n    message += \" with value \" + expectedValue;\n  }\n  message += \", got \" + receivedType + \" \";\n  // check if we need to specify received value\n  if (isExplicable(receivedType)) {\n    message += \"with value \" + receivedValue + \".\";\n  }\n  return message\n}\n\nfunction styleValue (value, type) {\n  if (type === 'String') {\n    return (\"\\\"\" + value + \"\\\"\")\n  } else if (type === 'Number') {\n    return (\"\" + (Number(value)))\n  } else {\n    return (\"\" + value)\n  }\n}\n\nfunction isExplicable (value) {\n  var explicitTypes = ['string', 'number', 'boolean'];\n  return explicitTypes.some(function (elem) { return value.toLowerCase() === elem; })\n}\n\nfunction isBoolean () {\n  var args = [], len = arguments.length;\n  while ( len-- ) args[ len ] = arguments[ len ];\n\n  return args.some(function (elem) { return elem.toLowerCase() === 'boolean'; })\n}\n\n/*  */\n\nfunction handleError (err, vm, info) {\n  // Deactivate deps tracking while processing error handler to avoid possible infinite rendering.\n  // See: https://github.com/vuejs/vuex/issues/1505\n  pushTarget();\n  try {\n    if (vm) {\n      var cur = vm;\n      while ((cur = cur.$parent)) {\n        var hooks = cur.$options.errorCaptured;\n        if (hooks) {\n          for (var i = 0; i < hooks.length; i++) {\n            try {\n              var capture = hooks[i].call(cur, err, vm, info) === false;\n              if (capture) { return }\n            } catch (e) {\n              globalHandleError(e, cur, 'errorCaptured hook');\n            }\n          }\n        }\n      }\n    }\n    globalHandleError(err, vm, info);\n  } finally {\n    popTarget();\n  }\n}\n\nfunction invokeWithErrorHandling (\n  handler,\n  context,\n  args,\n  vm,\n  info\n) {\n  var res;\n  try {\n    res = args ? handler.apply(context, args) : handler.call(context);\n    if (res && !res._isVue && isPromise(res) && !res._handled) {\n      res.catch(function (e) { return handleError(e, vm, info + \" (Promise/async)\"); });\n      // issue #9511\n      // avoid catch triggering multiple times when nested calls\n      res._handled = true;\n    }\n  } catch (e) {\n    handleError(e, vm, info);\n  }\n  return res\n}\n\nfunction globalHandleError (err, vm, info) {\n  if (config.errorHandler) {\n    try {\n      return config.errorHandler.call(null, err, vm, info)\n    } catch (e) {\n      // if the user intentionally throws the original error in the handler,\n      // do not log it twice\n      if (e !== err) {\n        logError(e, null, 'config.errorHandler');\n      }\n    }\n  }\n  logError(err, vm, info);\n}\n\nfunction logError (err, vm, info) {\n  if (process.env.NODE_ENV !== 'production') {\n    warn((\"Error in \" + info + \": \\\"\" + (err.toString()) + \"\\\"\"), vm);\n  }\n  /* istanbul ignore else */\n  if ((inBrowser || inWeex) && typeof console !== 'undefined') {\n    console.error(err);\n  } else {\n    throw err\n  }\n}\n\n/*  */\n\nvar isUsingMicroTask = false;\n\nvar callbacks = [];\nvar pending = false;\n\nfunction flushCallbacks () {\n  pending = false;\n  var copies = callbacks.slice(0);\n  callbacks.length = 0;\n  for (var i = 0; i < copies.length; i++) {\n    copies[i]();\n  }\n}\n\n// Here we have async deferring wrappers using microtasks.\n// In 2.5 we used (macro) tasks (in combination with microtasks).\n// However, it has subtle problems when state is changed right before repaint\n// (e.g. #6813, out-in transitions).\n// Also, using (macro) tasks in event handler would cause some weird behaviors\n// that cannot be circumvented (e.g. #7109, #7153, #7546, #7834, #8109).\n// So we now use microtasks everywhere, again.\n// A major drawback of this tradeoff is that there are some scenarios\n// where microtasks have too high a priority and fire in between supposedly\n// sequential events (e.g. #4521, #6690, which have workarounds)\n// or even between bubbling of the same event (#6566).\nvar timerFunc;\n\n// The nextTick behavior leverages the microtask queue, which can be accessed\n// via either native Promise.then or MutationObserver.\n// MutationObserver has wider support, however it is seriously bugged in\n// UIWebView in iOS >= 9.3.3 when triggered in touch event handlers. It\n// completely stops working after triggering a few times... so, if native\n// Promise is available, we will use it:\n/* istanbul ignore next, $flow-disable-line */\nif (typeof Promise !== 'undefined' && isNative(Promise)) {\n  var p = Promise.resolve();\n  timerFunc = function () {\n    p.then(flushCallbacks);\n    // In problematic UIWebViews, Promise.then doesn't completely break, but\n    // it can get stuck in a weird state where callbacks are pushed into the\n    // microtask queue but the queue isn't being flushed, until the browser\n    // needs to do some other work, e.g. handle a timer. Therefore we can\n    // \"force\" the microtask queue to be flushed by adding an empty timer.\n    if (isIOS) { setTimeout(noop); }\n  };\n  isUsingMicroTask = true;\n} else if (!isIE && typeof MutationObserver !== 'undefined' && (\n  isNative(MutationObserver) ||\n  // PhantomJS and iOS 7.x\n  MutationObserver.toString() === '[object MutationObserverConstructor]'\n)) {\n  // Use MutationObserver where native Promise is not available,\n  // e.g. PhantomJS, iOS7, Android 4.4\n  // (#6466 MutationObserver is unreliable in IE11)\n  var counter = 1;\n  var observer = new MutationObserver(flushCallbacks);\n  var textNode = document.createTextNode(String(counter));\n  observer.observe(textNode, {\n    characterData: true\n  });\n  timerFunc = function () {\n    counter = (counter + 1) % 2;\n    textNode.data = String(counter);\n  };\n  isUsingMicroTask = true;\n} else if (typeof setImmediate !== 'undefined' && isNative(setImmediate)) {\n  // Fallback to setImmediate.\n  // Technically it leverages the (macro) task queue,\n  // but it is still a better choice than setTimeout.\n  timerFunc = function () {\n    setImmediate(flushCallbacks);\n  };\n} else {\n  // Fallback to setTimeout.\n  timerFunc = function () {\n    setTimeout(flushCallbacks, 0);\n  };\n}\n\nfunction nextTick (cb, ctx) {\n  var _resolve;\n  callbacks.push(function () {\n    if (cb) {\n      try {\n        cb.call(ctx);\n      } catch (e) {\n        handleError(e, ctx, 'nextTick');\n      }\n    } else if (_resolve) {\n      _resolve(ctx);\n    }\n  });\n  if (!pending) {\n    pending = true;\n    timerFunc();\n  }\n  // $flow-disable-line\n  if (!cb && typeof Promise !== 'undefined') {\n    return new Promise(function (resolve) {\n      _resolve = resolve;\n    })\n  }\n}\n\n/*  */\n\n/* not type checking this file because flow doesn't play well with Proxy */\n\nvar initProxy;\n\nif (process.env.NODE_ENV !== 'production') {\n  var allowedGlobals = makeMap(\n    'Infinity,undefined,NaN,isFinite,isNaN,' +\n    'parseFloat,parseInt,decodeURI,decodeURIComponent,encodeURI,encodeURIComponent,' +\n    'Math,Number,Date,Array,Object,Boolean,String,RegExp,Map,Set,JSON,Intl,' +\n    'require' // for Webpack/Browserify\n  );\n\n  var warnNonPresent = function (target, key) {\n    warn(\n      \"Property or method \\\"\" + key + \"\\\" is not defined on the instance but \" +\n      'referenced during render. Make sure that this property is reactive, ' +\n      'either in the data option, or for class-based components, by ' +\n      'initializing the property. ' +\n      'See: https://vuejs.org/v2/guide/reactivity.html#Declaring-Reactive-Properties.',\n      target\n    );\n  };\n\n  var warnReservedPrefix = function (target, key) {\n    warn(\n      \"Property \\\"\" + key + \"\\\" must be accessed with \\\"$data.\" + key + \"\\\" because \" +\n      'properties starting with \"$\" or \"_\" are not proxied in the Vue instance to ' +\n      'prevent conflicts with Vue internals. ' +\n      'See: https://vuejs.org/v2/api/#data',\n      target\n    );\n  };\n\n  var hasProxy =\n    typeof Proxy !== 'undefined' && isNative(Proxy);\n\n  if (hasProxy) {\n    var isBuiltInModifier = makeMap('stop,prevent,self,ctrl,shift,alt,meta,exact');\n    config.keyCodes = new Proxy(config.keyCodes, {\n      set: function set (target, key, value) {\n        if (isBuiltInModifier(key)) {\n          warn((\"Avoid overwriting built-in modifier in config.keyCodes: .\" + key));\n          return false\n        } else {\n          target[key] = value;\n          return true\n        }\n      }\n    });\n  }\n\n  var hasHandler = {\n    has: function has (target, key) {\n      var has = key in target;\n      var isAllowed = allowedGlobals(key) ||\n        (typeof key === 'string' && key.charAt(0) === '_' && !(key in target.$data));\n      if (!has && !isAllowed) {\n        if (key in target.$data) { warnReservedPrefix(target, key); }\n        else { warnNonPresent(target, key); }\n      }\n      return has || !isAllowed\n    }\n  };\n\n  var getHandler = {\n    get: function get (target, key) {\n      if (typeof key === 'string' && !(key in target)) {\n        if (key in target.$data) { warnReservedPrefix(target, key); }\n        else { warnNonPresent(target, key); }\n      }\n      return target[key]\n    }\n  };\n\n  initProxy = function initProxy (vm) {\n    if (hasProxy) {\n      // determine which proxy handler to use\n      var options = vm.$options;\n      var handlers = options.render && options.render._withStripped\n        ? getHandler\n        : hasHandler;\n      vm._renderProxy = new Proxy(vm, handlers);\n    } else {\n      vm._renderProxy = vm;\n    }\n  };\n}\n\n/*  */\n\nvar seenObjects = new _Set();\n\n/**\n * Recursively traverse an object to evoke all converted\n * getters, so that every nested property inside the object\n * is collected as a \"deep\" dependency.\n */\nfunction traverse (val) {\n  _traverse(val, seenObjects);\n  seenObjects.clear();\n}\n\nfunction _traverse (val, seen) {\n  var i, keys;\n  var isA = Array.isArray(val);\n  if ((!isA && !isObject(val)) || Object.isFrozen(val) || val instanceof VNode) {\n    return\n  }\n  if (val.__ob__) {\n    var depId = val.__ob__.dep.id;\n    if (seen.has(depId)) {\n      return\n    }\n    seen.add(depId);\n  }\n  if (isA) {\n    i = val.length;\n    while (i--) { _traverse(val[i], seen); }\n  } else {\n    keys = Object.keys(val);\n    i = keys.length;\n    while (i--) { _traverse(val[keys[i]], seen); }\n  }\n}\n\nvar mark;\nvar measure;\n\nif (process.env.NODE_ENV !== 'production') {\n  var perf = inBrowser && window.performance;\n  /* istanbul ignore if */\n  if (\n    perf &&\n    perf.mark &&\n    perf.measure &&\n    perf.clearMarks &&\n    perf.clearMeasures\n  ) {\n    mark = function (tag) { return perf.mark(tag); };\n    measure = function (name, startTag, endTag) {\n      perf.measure(name, startTag, endTag);\n      perf.clearMarks(startTag);\n      perf.clearMarks(endTag);\n      // perf.clearMeasures(name)\n    };\n  }\n}\n\n/*  */\n\nvar normalizeEvent = cached(function (name) {\n  var passive = name.charAt(0) === '&';\n  name = passive ? name.slice(1) : name;\n  var once$$1 = name.charAt(0) === '~'; // Prefixed last, checked first\n  name = once$$1 ? name.slice(1) : name;\n  var capture = name.charAt(0) === '!';\n  name = capture ? name.slice(1) : name;\n  return {\n    name: name,\n    once: once$$1,\n    capture: capture,\n    passive: passive\n  }\n});\n\nfunction createFnInvoker (fns, vm) {\n  function invoker () {\n    var arguments$1 = arguments;\n\n    var fns = invoker.fns;\n    if (Array.isArray(fns)) {\n      var cloned = fns.slice();\n      for (var i = 0; i < cloned.length; i++) {\n        invokeWithErrorHandling(cloned[i], null, arguments$1, vm, \"v-on handler\");\n      }\n    } else {\n      // return handler return value for single handlers\n      return invokeWithErrorHandling(fns, null, arguments, vm, \"v-on handler\")\n    }\n  }\n  invoker.fns = fns;\n  return invoker\n}\n\nfunction updateListeners (\n  on,\n  oldOn,\n  add,\n  remove$$1,\n  createOnceHandler,\n  vm\n) {\n  var name, def$$1, cur, old, event;\n  for (name in on) {\n    def$$1 = cur = on[name];\n    old = oldOn[name];\n    event = normalizeEvent(name);\n    if (isUndef(cur)) {\n      process.env.NODE_ENV !== 'production' && warn(\n        \"Invalid handler for event \\\"\" + (event.name) + \"\\\": got \" + String(cur),\n        vm\n      );\n    } else if (isUndef(old)) {\n      if (isUndef(cur.fns)) {\n        cur = on[name] = createFnInvoker(cur, vm);\n      }\n      if (isTrue(event.once)) {\n        cur = on[name] = createOnceHandler(event.name, cur, event.capture);\n      }\n      add(event.name, cur, event.capture, event.passive, event.params);\n    } else if (cur !== old) {\n      old.fns = cur;\n      on[name] = old;\n    }\n  }\n  for (name in oldOn) {\n    if (isUndef(on[name])) {\n      event = normalizeEvent(name);\n      remove$$1(event.name, oldOn[name], event.capture);\n    }\n  }\n}\n\n/*  */\n\nfunction mergeVNodeHook (def, hookKey, hook) {\n  if (def instanceof VNode) {\n    def = def.data.hook || (def.data.hook = {});\n  }\n  var invoker;\n  var oldHook = def[hookKey];\n\n  function wrappedHook () {\n    hook.apply(this, arguments);\n    // important: remove merged hook to ensure it's called only once\n    // and prevent memory leak\n    remove(invoker.fns, wrappedHook);\n  }\n\n  if (isUndef(oldHook)) {\n    // no existing hook\n    invoker = createFnInvoker([wrappedHook]);\n  } else {\n    /* istanbul ignore if */\n    if (isDef(oldHook.fns) && isTrue(oldHook.merged)) {\n      // already a merged invoker\n      invoker = oldHook;\n      invoker.fns.push(wrappedHook);\n    } else {\n      // existing plain hook\n      invoker = createFnInvoker([oldHook, wrappedHook]);\n    }\n  }\n\n  invoker.merged = true;\n  def[hookKey] = invoker;\n}\n\n/*  */\n\nfunction extractPropsFromVNodeData (\n  data,\n  Ctor,\n  tag\n) {\n  // we are only extracting raw values here.\n  // validation and default values are handled in the child\n  // component itself.\n  var propOptions = Ctor.options.props;\n  if (isUndef(propOptions)) {\n    return\n  }\n  var res = {};\n  var attrs = data.attrs;\n  var props = data.props;\n  if (isDef(attrs) || isDef(props)) {\n    for (var key in propOptions) {\n      var altKey = hyphenate(key);\n      if (process.env.NODE_ENV !== 'production') {\n        var keyInLowerCase = key.toLowerCase();\n        if (\n          key !== keyInLowerCase &&\n          attrs && hasOwn(attrs, keyInLowerCase)\n        ) {\n          tip(\n            \"Prop \\\"\" + keyInLowerCase + \"\\\" is passed to component \" +\n            (formatComponentName(tag || Ctor)) + \", but the declared prop name is\" +\n            \" \\\"\" + key + \"\\\". \" +\n            \"Note that HTML attributes are case-insensitive and camelCased \" +\n            \"props need to use their kebab-case equivalents when using in-DOM \" +\n            \"templates. You should probably use \\\"\" + altKey + \"\\\" instead of \\\"\" + key + \"\\\".\"\n          );\n        }\n      }\n      checkProp(res, props, key, altKey, true) ||\n      checkProp(res, attrs, key, altKey, false);\n    }\n  }\n  return res\n}\n\nfunction checkProp (\n  res,\n  hash,\n  key,\n  altKey,\n  preserve\n) {\n  if (isDef(hash)) {\n    if (hasOwn(hash, key)) {\n      res[key] = hash[key];\n      if (!preserve) {\n        delete hash[key];\n      }\n      return true\n    } else if (hasOwn(hash, altKey)) {\n      res[key] = hash[altKey];\n      if (!preserve) {\n        delete hash[altKey];\n      }\n      return true\n    }\n  }\n  return false\n}\n\n/*  */\n\n// The template compiler attempts to minimize the need for normalization by\n// statically analyzing the template at compile time.\n//\n// For plain HTML markup, normalization can be completely skipped because the\n// generated render function is guaranteed to return Array<VNode>. There are\n// two cases where extra normalization is needed:\n\n// 1. When the children contains components - because a functional component\n// may return an Array instead of a single root. In this case, just a simple\n// normalization is needed - if any child is an Array, we flatten the whole\n// thing with Array.prototype.concat. It is guaranteed to be only 1-level deep\n// because functional components already normalize their own children.\nfunction simpleNormalizeChildren (children) {\n  for (var i = 0; i < children.length; i++) {\n    if (Array.isArray(children[i])) {\n      return Array.prototype.concat.apply([], children)\n    }\n  }\n  return children\n}\n\n// 2. When the children contains constructs that always generated nested Arrays,\n// e.g. <template>, <slot>, v-for, or when the children is provided by user\n// with hand-written render functions / JSX. In such cases a full normalization\n// is needed to cater to all possible types of children values.\nfunction normalizeChildren (children) {\n  return isPrimitive(children)\n    ? [createTextVNode(children)]\n    : Array.isArray(children)\n      ? normalizeArrayChildren(children)\n      : undefined\n}\n\nfunction isTextNode (node) {\n  return isDef(node) && isDef(node.text) && isFalse(node.isComment)\n}\n\nfunction normalizeArrayChildren (children, nestedIndex) {\n  var res = [];\n  var i, c, lastIndex, last;\n  for (i = 0; i < children.length; i++) {\n    c = children[i];\n    if (isUndef(c) || typeof c === 'boolean') { continue }\n    lastIndex = res.length - 1;\n    last = res[lastIndex];\n    //  nested\n    if (Array.isArray(c)) {\n      if (c.length > 0) {\n        c = normalizeArrayChildren(c, ((nestedIndex || '') + \"_\" + i));\n        // merge adjacent text nodes\n        if (isTextNode(c[0]) && isTextNode(last)) {\n          res[lastIndex] = createTextVNode(last.text + (c[0]).text);\n          c.shift();\n        }\n        res.push.apply(res, c);\n      }\n    } else if (isPrimitive(c)) {\n      if (isTextNode(last)) {\n        // merge adjacent text nodes\n        // this is necessary for SSR hydration because text nodes are\n        // essentially merged when rendered to HTML strings\n        res[lastIndex] = createTextVNode(last.text + c);\n      } else if (c !== '') {\n        // convert primitive to vnode\n        res.push(createTextVNode(c));\n      }\n    } else {\n      if (isTextNode(c) && isTextNode(last)) {\n        // merge adjacent text nodes\n        res[lastIndex] = createTextVNode(last.text + c.text);\n      } else {\n        // default key for nested array children (likely generated by v-for)\n        if (isTrue(children._isVList) &&\n          isDef(c.tag) &&\n          isUndef(c.key) &&\n          isDef(nestedIndex)) {\n          c.key = \"__vlist\" + nestedIndex + \"_\" + i + \"__\";\n        }\n        res.push(c);\n      }\n    }\n  }\n  return res\n}\n\n/*  */\n\nfunction initProvide (vm) {\n  var provide = vm.$options.provide;\n  if (provide) {\n    vm._provided = typeof provide === 'function'\n      ? provide.call(vm)\n      : provide;\n  }\n}\n\nfunction initInjections (vm) {\n  var result = resolveInject(vm.$options.inject, vm);\n  if (result) {\n    toggleObserving(false);\n    Object.keys(result).forEach(function (key) {\n      /* istanbul ignore else */\n      if (process.env.NODE_ENV !== 'production') {\n        defineReactive$$1(vm, key, result[key], function () {\n          warn(\n            \"Avoid mutating an injected value directly since the changes will be \" +\n            \"overwritten whenever the provided component re-renders. \" +\n            \"injection being mutated: \\\"\" + key + \"\\\"\",\n            vm\n          );\n        });\n      } else {\n        defineReactive$$1(vm, key, result[key]);\n      }\n    });\n    toggleObserving(true);\n  }\n}\n\nfunction resolveInject (inject, vm) {\n  if (inject) {\n    // inject is :any because flow is not smart enough to figure out cached\n    var result = Object.create(null);\n    var keys = hasSymbol\n      ? Reflect.ownKeys(inject)\n      : Object.keys(inject);\n\n    for (var i = 0; i < keys.length; i++) {\n      var key = keys[i];\n      // #6574 in case the inject object is observed...\n      if (key === '__ob__') { continue }\n      var provideKey = inject[key].from;\n      var source = vm;\n      while (source) {\n        if (source._provided && hasOwn(source._provided, provideKey)) {\n          result[key] = source._provided[provideKey];\n          break\n        }\n        source = source.$parent;\n      }\n      if (!source) {\n        if ('default' in inject[key]) {\n          var provideDefault = inject[key].default;\n          result[key] = typeof provideDefault === 'function'\n            ? provideDefault.call(vm)\n            : provideDefault;\n        } else if (process.env.NODE_ENV !== 'production') {\n          warn((\"Injection \\\"\" + key + \"\\\" not found\"), vm);\n        }\n      }\n    }\n    return result\n  }\n}\n\n/*  */\n\n\n\n/**\n * Runtime helper for resolving raw children VNodes into a slot object.\n */\nfunction resolveSlots (\n  children,\n  context\n) {\n  if (!children || !children.length) {\n    return {}\n  }\n  var slots = {};\n  for (var i = 0, l = children.length; i < l; i++) {\n    var child = children[i];\n    var data = child.data;\n    // remove slot attribute if the node is resolved as a Vue slot node\n    if (data && data.attrs && data.attrs.slot) {\n      delete data.attrs.slot;\n    }\n    // named slots should only be respected if the vnode was rendered in the\n    // same context.\n    if ((child.context === context || child.fnContext === context) &&\n      data && data.slot != null\n    ) {\n      var name = data.slot;\n      var slot = (slots[name] || (slots[name] = []));\n      if (child.tag === 'template') {\n        slot.push.apply(slot, child.children || []);\n      } else {\n        slot.push(child);\n      }\n    } else {\n      (slots.default || (slots.default = [])).push(child);\n    }\n  }\n  // ignore slots that contains only whitespace\n  for (var name$1 in slots) {\n    if (slots[name$1].every(isWhitespace)) {\n      delete slots[name$1];\n    }\n  }\n  return slots\n}\n\nfunction isWhitespace (node) {\n  return (node.isComment && !node.asyncFactory) || node.text === ' '\n}\n\n/*  */\n\nfunction normalizeScopedSlots (\n  slots,\n  normalSlots,\n  prevSlots\n) {\n  var res;\n  var hasNormalSlots = Object.keys(normalSlots).length > 0;\n  var isStable = slots ? !!slots.$stable : !hasNormalSlots;\n  var key = slots && slots.$key;\n  if (!slots) {\n    res = {};\n  } else if (slots._normalized) {\n    // fast path 1: child component re-render only, parent did not change\n    return slots._normalized\n  } else if (\n    isStable &&\n    prevSlots &&\n    prevSlots !== emptyObject &&\n    key === prevSlots.$key &&\n    !hasNormalSlots &&\n    !prevSlots.$hasNormal\n  ) {\n    // fast path 2: stable scoped slots w/ no normal slots to proxy,\n    // only need to normalize once\n    return prevSlots\n  } else {\n    res = {};\n    for (var key$1 in slots) {\n      if (slots[key$1] && key$1[0] !== '$') {\n        res[key$1] = normalizeScopedSlot(normalSlots, key$1, slots[key$1]);\n      }\n    }\n  }\n  // expose normal slots on scopedSlots\n  for (var key$2 in normalSlots) {\n    if (!(key$2 in res)) {\n      res[key$2] = proxyNormalSlot(normalSlots, key$2);\n    }\n  }\n  // avoriaz seems to mock a non-extensible $scopedSlots object\n  // and when that is passed down this would cause an error\n  if (slots && Object.isExtensible(slots)) {\n    (slots)._normalized = res;\n  }\n  def(res, '$stable', isStable);\n  def(res, '$key', key);\n  def(res, '$hasNormal', hasNormalSlots);\n  return res\n}\n\nfunction normalizeScopedSlot(normalSlots, key, fn) {\n  var normalized = function () {\n    var res = arguments.length ? fn.apply(null, arguments) : fn({});\n    res = res && typeof res === 'object' && !Array.isArray(res)\n      ? [res] // single vnode\n      : normalizeChildren(res);\n    return res && (\n      res.length === 0 ||\n      (res.length === 1 && res[0].isComment) // #9658\n    ) ? undefined\n      : res\n  };\n  // this is a slot using the new v-slot syntax without scope. although it is\n  // compiled as a scoped slot, render fn users would expect it to be present\n  // on this.$slots because the usage is semantically a normal slot.\n  if (fn.proxy) {\n    Object.defineProperty(normalSlots, key, {\n      get: normalized,\n      enumerable: true,\n      configurable: true\n    });\n  }\n  return normalized\n}\n\nfunction proxyNormalSlot(slots, key) {\n  return function () { return slots[key]; }\n}\n\n/*  */\n\n/**\n * Runtime helper for rendering v-for lists.\n */\nfunction renderList (\n  val,\n  render\n) {\n  var ret, i, l, keys, key;\n  if (Array.isArray(val) || typeof val === 'string') {\n    ret = new Array(val.length);\n    for (i = 0, l = val.length; i < l; i++) {\n      ret[i] = render(val[i], i);\n    }\n  } else if (typeof val === 'number') {\n    ret = new Array(val);\n    for (i = 0; i < val; i++) {\n      ret[i] = render(i + 1, i);\n    }\n  } else if (isObject(val)) {\n    if (hasSymbol && val[Symbol.iterator]) {\n      ret = [];\n      var iterator = val[Symbol.iterator]();\n      var result = iterator.next();\n      while (!result.done) {\n        ret.push(render(result.value, ret.length));\n        result = iterator.next();\n      }\n    } else {\n      keys = Object.keys(val);\n      ret = new Array(keys.length);\n      for (i = 0, l = keys.length; i < l; i++) {\n        key = keys[i];\n        ret[i] = render(val[key], key, i);\n      }\n    }\n  }\n  if (!isDef(ret)) {\n    ret = [];\n  }\n  (ret)._isVList = true;\n  return ret\n}\n\n/*  */\n\n/**\n * Runtime helper for rendering <slot>\n */\nfunction renderSlot (\n  name,\n  fallback,\n  props,\n  bindObject\n) {\n  var scopedSlotFn = this.$scopedSlots[name];\n  var nodes;\n  if (scopedSlotFn) { // scoped slot\n    props = props || {};\n    if (bindObject) {\n      if (process.env.NODE_ENV !== 'production' && !isObject(bindObject)) {\n        warn(\n          'slot v-bind without argument expects an Object',\n          this\n        );\n      }\n      props = extend(extend({}, bindObject), props);\n    }\n    nodes = scopedSlotFn(props) || fallback;\n  } else {\n    nodes = this.$slots[name] || fallback;\n  }\n\n  var target = props && props.slot;\n  if (target) {\n    return this.$createElement('template', { slot: target }, nodes)\n  } else {\n    return nodes\n  }\n}\n\n/*  */\n\n/**\n * Runtime helper for resolving filters\n */\nfunction resolveFilter (id) {\n  return resolveAsset(this.$options, 'filters', id, true) || identity\n}\n\n/*  */\n\nfunction isKeyNotMatch (expect, actual) {\n  if (Array.isArray(expect)) {\n    return expect.indexOf(actual) === -1\n  } else {\n    return expect !== actual\n  }\n}\n\n/**\n * Runtime helper for checking keyCodes from config.\n * exposed as Vue.prototype._k\n * passing in eventKeyName as last argument separately for backwards compat\n */\nfunction checkKeyCodes (\n  eventKeyCode,\n  key,\n  builtInKeyCode,\n  eventKeyName,\n  builtInKeyName\n) {\n  var mappedKeyCode = config.keyCodes[key] || builtInKeyCode;\n  if (builtInKeyName && eventKeyName && !config.keyCodes[key]) {\n    return isKeyNotMatch(builtInKeyName, eventKeyName)\n  } else if (mappedKeyCode) {\n    return isKeyNotMatch(mappedKeyCode, eventKeyCode)\n  } else if (eventKeyName) {\n    return hyphenate(eventKeyName) !== key\n  }\n}\n\n/*  */\n\n/**\n * Runtime helper for merging v-bind=\"object\" into a VNode's data.\n */\nfunction bindObjectProps (\n  data,\n  tag,\n  value,\n  asProp,\n  isSync\n) {\n  if (value) {\n    if (!isObject(value)) {\n      process.env.NODE_ENV !== 'production' && warn(\n        'v-bind without argument expects an Object or Array value',\n        this\n      );\n    } else {\n      if (Array.isArray(value)) {\n        value = toObject(value);\n      }\n      var hash;\n      var loop = function ( key ) {\n        if (\n          key === 'class' ||\n          key === 'style' ||\n          isReservedAttribute(key)\n        ) {\n          hash = data;\n        } else {\n          var type = data.attrs && data.attrs.type;\n          hash = asProp || config.mustUseProp(tag, type, key)\n            ? data.domProps || (data.domProps = {})\n            : data.attrs || (data.attrs = {});\n        }\n        var camelizedKey = camelize(key);\n        var hyphenatedKey = hyphenate(key);\n        if (!(camelizedKey in hash) && !(hyphenatedKey in hash)) {\n          hash[key] = value[key];\n\n          if (isSync) {\n            var on = data.on || (data.on = {});\n            on[(\"update:\" + key)] = function ($event) {\n              value[key] = $event;\n            };\n          }\n        }\n      };\n\n      for (var key in value) loop( key );\n    }\n  }\n  return data\n}\n\n/*  */\n\n/**\n * Runtime helper for rendering static trees.\n */\nfunction renderStatic (\n  index,\n  isInFor\n) {\n  var cached = this._staticTrees || (this._staticTrees = []);\n  var tree = cached[index];\n  // if has already-rendered static tree and not inside v-for,\n  // we can reuse the same tree.\n  if (tree && !isInFor) {\n    return tree\n  }\n  // otherwise, render a fresh tree.\n  tree = cached[index] = this.$options.staticRenderFns[index].call(\n    this._renderProxy,\n    null,\n    this // for render fns generated for functional component templates\n  );\n  markStatic(tree, (\"__static__\" + index), false);\n  return tree\n}\n\n/**\n * Runtime helper for v-once.\n * Effectively it means marking the node as static with a unique key.\n */\nfunction markOnce (\n  tree,\n  index,\n  key\n) {\n  markStatic(tree, (\"__once__\" + index + (key ? (\"_\" + key) : \"\")), true);\n  return tree\n}\n\nfunction markStatic (\n  tree,\n  key,\n  isOnce\n) {\n  if (Array.isArray(tree)) {\n    for (var i = 0; i < tree.length; i++) {\n      if (tree[i] && typeof tree[i] !== 'string') {\n        markStaticNode(tree[i], (key + \"_\" + i), isOnce);\n      }\n    }\n  } else {\n    markStaticNode(tree, key, isOnce);\n  }\n}\n\nfunction markStaticNode (node, key, isOnce) {\n  node.isStatic = true;\n  node.key = key;\n  node.isOnce = isOnce;\n}\n\n/*  */\n\nfunction bindObjectListeners (data, value) {\n  if (value) {\n    if (!isPlainObject(value)) {\n      process.env.NODE_ENV !== 'production' && warn(\n        'v-on without argument expects an Object value',\n        this\n      );\n    } else {\n      var on = data.on = data.on ? extend({}, data.on) : {};\n      for (var key in value) {\n        var existing = on[key];\n        var ours = value[key];\n        on[key] = existing ? [].concat(existing, ours) : ours;\n      }\n    }\n  }\n  return data\n}\n\n/*  */\n\nfunction resolveScopedSlots (\n  fns, // see flow/vnode\n  res,\n  // the following are added in 2.6\n  hasDynamicKeys,\n  contentHashKey\n) {\n  res = res || { $stable: !hasDynamicKeys };\n  for (var i = 0; i < fns.length; i++) {\n    var slot = fns[i];\n    if (Array.isArray(slot)) {\n      resolveScopedSlots(slot, res, hasDynamicKeys);\n    } else if (slot) {\n      // marker for reverse proxying v-slot without scope on this.$slots\n      if (slot.proxy) {\n        slot.fn.proxy = true;\n      }\n      res[slot.key] = slot.fn;\n    }\n  }\n  if (contentHashKey) {\n    (res).$key = contentHashKey;\n  }\n  return res\n}\n\n/*  */\n\nfunction bindDynamicKeys (baseObj, values) {\n  for (var i = 0; i < values.length; i += 2) {\n    var key = values[i];\n    if (typeof key === 'string' && key) {\n      baseObj[values[i]] = values[i + 1];\n    } else if (process.env.NODE_ENV !== 'production' && key !== '' && key !== null) {\n      // null is a special value for explicitly removing a binding\n      warn(\n        (\"Invalid value for dynamic directive argument (expected string or null): \" + key),\n        this\n      );\n    }\n  }\n  return baseObj\n}\n\n// helper to dynamically append modifier runtime markers to event names.\n// ensure only append when value is already string, otherwise it will be cast\n// to string and cause the type check to miss.\nfunction prependModifier (value, symbol) {\n  return typeof value === 'string' ? symbol + value : value\n}\n\n/*  */\n\nfunction installRenderHelpers (target) {\n  target._o = markOnce;\n  target._n = toNumber;\n  target._s = toString;\n  target._l = renderList;\n  target._t = renderSlot;\n  target._q = looseEqual;\n  target._i = looseIndexOf;\n  target._m = renderStatic;\n  target._f = resolveFilter;\n  target._k = checkKeyCodes;\n  target._b = bindObjectProps;\n  target._v = createTextVNode;\n  target._e = createEmptyVNode;\n  target._u = resolveScopedSlots;\n  target._g = bindObjectListeners;\n  target._d = bindDynamicKeys;\n  target._p = prependModifier;\n}\n\n/*  */\n\nfunction FunctionalRenderContext (\n  data,\n  props,\n  children,\n  parent,\n  Ctor\n) {\n  var this$1 = this;\n\n  var options = Ctor.options;\n  // ensure the createElement function in functional components\n  // gets a unique context - this is necessary for correct named slot check\n  var contextVm;\n  if (hasOwn(parent, '_uid')) {\n    contextVm = Object.create(parent);\n    // $flow-disable-line\n    contextVm._original = parent;\n  } else {\n    // the context vm passed in is a functional context as well.\n    // in this case we want to make sure we are able to get a hold to the\n    // real context instance.\n    contextVm = parent;\n    // $flow-disable-line\n    parent = parent._original;\n  }\n  var isCompiled = isTrue(options._compiled);\n  var needNormalization = !isCompiled;\n\n  this.data = data;\n  this.props = props;\n  this.children = children;\n  this.parent = parent;\n  this.listeners = data.on || emptyObject;\n  this.injections = resolveInject(options.inject, parent);\n  this.slots = function () {\n    if (!this$1.$slots) {\n      normalizeScopedSlots(\n        data.scopedSlots,\n        this$1.$slots = resolveSlots(children, parent)\n      );\n    }\n    return this$1.$slots\n  };\n\n  Object.defineProperty(this, 'scopedSlots', ({\n    enumerable: true,\n    get: function get () {\n      return normalizeScopedSlots(data.scopedSlots, this.slots())\n    }\n  }));\n\n  // support for compiled functional template\n  if (isCompiled) {\n    // exposing $options for renderStatic()\n    this.$options = options;\n    // pre-resolve slots for renderSlot()\n    this.$slots = this.slots();\n    this.$scopedSlots = normalizeScopedSlots(data.scopedSlots, this.$slots);\n  }\n\n  if (options._scopeId) {\n    this._c = function (a, b, c, d) {\n      var vnode = createElement(contextVm, a, b, c, d, needNormalization);\n      if (vnode && !Array.isArray(vnode)) {\n        vnode.fnScopeId = options._scopeId;\n        vnode.fnContext = parent;\n      }\n      return vnode\n    };\n  } else {\n    this._c = function (a, b, c, d) { return createElement(contextVm, a, b, c, d, needNormalization); };\n  }\n}\n\ninstallRenderHelpers(FunctionalRenderContext.prototype);\n\nfunction createFunctionalComponent (\n  Ctor,\n  propsData,\n  data,\n  contextVm,\n  children\n) {\n  var options = Ctor.options;\n  var props = {};\n  var propOptions = options.props;\n  if (isDef(propOptions)) {\n    for (var key in propOptions) {\n      props[key] = validateProp(key, propOptions, propsData || emptyObject);\n    }\n  } else {\n    if (isDef(data.attrs)) { mergeProps(props, data.attrs); }\n    if (isDef(data.props)) { mergeProps(props, data.props); }\n  }\n\n  var renderContext = new FunctionalRenderContext(\n    data,\n    props,\n    children,\n    contextVm,\n    Ctor\n  );\n\n  var vnode = options.render.call(null, renderContext._c, renderContext);\n\n  if (vnode instanceof VNode) {\n    return cloneAndMarkFunctionalResult(vnode, data, renderContext.parent, options, renderContext)\n  } else if (Array.isArray(vnode)) {\n    var vnodes = normalizeChildren(vnode) || [];\n    var res = new Array(vnodes.length);\n    for (var i = 0; i < vnodes.length; i++) {\n      res[i] = cloneAndMarkFunctionalResult(vnodes[i], data, renderContext.parent, options, renderContext);\n    }\n    return res\n  }\n}\n\nfunction cloneAndMarkFunctionalResult (vnode, data, contextVm, options, renderContext) {\n  // #7817 clone node before setting fnContext, otherwise if the node is reused\n  // (e.g. it was from a cached normal slot) the fnContext causes named slots\n  // that should not be matched to match.\n  var clone = cloneVNode(vnode);\n  clone.fnContext = contextVm;\n  clone.fnOptions = options;\n  if (process.env.NODE_ENV !== 'production') {\n    (clone.devtoolsMeta = clone.devtoolsMeta || {}).renderContext = renderContext;\n  }\n  if (data.slot) {\n    (clone.data || (clone.data = {})).slot = data.slot;\n  }\n  return clone\n}\n\nfunction mergeProps (to, from) {\n  for (var key in from) {\n    to[camelize(key)] = from[key];\n  }\n}\n\n/*  */\n\n/*  */\n\n/*  */\n\n/*  */\n\n// inline hooks to be invoked on component VNodes during patch\nvar componentVNodeHooks = {\n  init: function init (vnode, hydrating) {\n    if (\n      vnode.componentInstance &&\n      !vnode.componentInstance._isDestroyed &&\n      vnode.data.keepAlive\n    ) {\n      // kept-alive components, treat as a patch\n      var mountedNode = vnode; // work around flow\n      componentVNodeHooks.prepatch(mountedNode, mountedNode);\n    } else {\n      var child = vnode.componentInstance = createComponentInstanceForVnode(\n        vnode,\n        activeInstance\n      );\n      child.$mount(hydrating ? vnode.elm : undefined, hydrating);\n    }\n  },\n\n  prepatch: function prepatch (oldVnode, vnode) {\n    var options = vnode.componentOptions;\n    var child = vnode.componentInstance = oldVnode.componentInstance;\n    updateChildComponent(\n      child,\n      options.propsData, // updated props\n      options.listeners, // updated listeners\n      vnode, // new parent vnode\n      options.children // new children\n    );\n  },\n\n  insert: function insert (vnode) {\n    var context = vnode.context;\n    var componentInstance = vnode.componentInstance;\n    if (!componentInstance._isMounted) {\n      componentInstance._isMounted = true;\n      callHook(componentInstance, 'mounted');\n    }\n    if (vnode.data.keepAlive) {\n      if (context._isMounted) {\n        // vue-router#1212\n        // During updates, a kept-alive component's child components may\n        // change, so directly walking the tree here may call activated hooks\n        // on incorrect children. Instead we push them into a queue which will\n        // be processed after the whole patch process ended.\n        queueActivatedComponent(componentInstance);\n      } else {\n        activateChildComponent(componentInstance, true /* direct */);\n      }\n    }\n  },\n\n  destroy: function destroy (vnode) {\n    var componentInstance = vnode.componentInstance;\n    if (!componentInstance._isDestroyed) {\n      if (!vnode.data.keepAlive) {\n        componentInstance.$destroy();\n      } else {\n        deactivateChildComponent(componentInstance, true /* direct */);\n      }\n    }\n  }\n};\n\nvar hooksToMerge = Object.keys(componentVNodeHooks);\n\nfunction createComponent (\n  Ctor,\n  data,\n  context,\n  children,\n  tag\n) {\n  if (isUndef(Ctor)) {\n    return\n  }\n\n  var baseCtor = context.$options._base;\n\n  // plain options object: turn it into a constructor\n  if (isObject(Ctor)) {\n    Ctor = baseCtor.extend(Ctor);\n  }\n\n  // if at this stage it's not a constructor or an async component factory,\n  // reject.\n  if (typeof Ctor !== 'function') {\n    if (process.env.NODE_ENV !== 'production') {\n      warn((\"Invalid Component definition: \" + (String(Ctor))), context);\n    }\n    return\n  }\n\n  // async component\n  var asyncFactory;\n  if (isUndef(Ctor.cid)) {\n    asyncFactory = Ctor;\n    Ctor = resolveAsyncComponent(asyncFactory, baseCtor);\n    if (Ctor === undefined) {\n      // return a placeholder node for async component, which is rendered\n      // as a comment node but preserves all the raw information for the node.\n      // the information will be used for async server-rendering and hydration.\n      return createAsyncPlaceholder(\n        asyncFactory,\n        data,\n        context,\n        children,\n        tag\n      )\n    }\n  }\n\n  data = data || {};\n\n  // resolve constructor options in case global mixins are applied after\n  // component constructor creation\n  resolveConstructorOptions(Ctor);\n\n  // transform component v-model data into props & events\n  if (isDef(data.model)) {\n    transformModel(Ctor.options, data);\n  }\n\n  // extract props\n  var propsData = extractPropsFromVNodeData(data, Ctor, tag);\n\n  // functional component\n  if (isTrue(Ctor.options.functional)) {\n    return createFunctionalComponent(Ctor, propsData, data, context, children)\n  }\n\n  // extract listeners, since these needs to be treated as\n  // child component listeners instead of DOM listeners\n  var listeners = data.on;\n  // replace with listeners with .native modifier\n  // so it gets processed during parent component patch.\n  data.on = data.nativeOn;\n\n  if (isTrue(Ctor.options.abstract)) {\n    // abstract components do not keep anything\n    // other than props & listeners & slot\n\n    // work around flow\n    var slot = data.slot;\n    data = {};\n    if (slot) {\n      data.slot = slot;\n    }\n  }\n\n  // install component management hooks onto the placeholder node\n  installComponentHooks(data);\n\n  // return a placeholder vnode\n  var name = Ctor.options.name || tag;\n  var vnode = new VNode(\n    (\"vue-component-\" + (Ctor.cid) + (name ? (\"-\" + name) : '')),\n    data, undefined, undefined, undefined, context,\n    { Ctor: Ctor, propsData: propsData, listeners: listeners, tag: tag, children: children },\n    asyncFactory\n  );\n\n  return vnode\n}\n\nfunction createComponentInstanceForVnode (\n  vnode, // we know it's MountedComponentVNode but flow doesn't\n  parent // activeInstance in lifecycle state\n) {\n  var options = {\n    _isComponent: true,\n    _parentVnode: vnode,\n    parent: parent\n  };\n  // check inline-template render functions\n  var inlineTemplate = vnode.data.inlineTemplate;\n  if (isDef(inlineTemplate)) {\n    options.render = inlineTemplate.render;\n    options.staticRenderFns = inlineTemplate.staticRenderFns;\n  }\n  return new vnode.componentOptions.Ctor(options)\n}\n\nfunction installComponentHooks (data) {\n  var hooks = data.hook || (data.hook = {});\n  for (var i = 0; i < hooksToMerge.length; i++) {\n    var key = hooksToMerge[i];\n    var existing = hooks[key];\n    var toMerge = componentVNodeHooks[key];\n    if (existing !== toMerge && !(existing && existing._merged)) {\n      hooks[key] = existing ? mergeHook$1(toMerge, existing) : toMerge;\n    }\n  }\n}\n\nfunction mergeHook$1 (f1, f2) {\n  var merged = function (a, b) {\n    // flow complains about extra args which is why we use any\n    f1(a, b);\n    f2(a, b);\n  };\n  merged._merged = true;\n  return merged\n}\n\n// transform component v-model info (value and callback) into\n// prop and event handler respectively.\nfunction transformModel (options, data) {\n  var prop = (options.model && options.model.prop) || 'value';\n  var event = (options.model && options.model.event) || 'input'\n  ;(data.attrs || (data.attrs = {}))[prop] = data.model.value;\n  var on = data.on || (data.on = {});\n  var existing = on[event];\n  var callback = data.model.callback;\n  if (isDef(existing)) {\n    if (\n      Array.isArray(existing)\n        ? existing.indexOf(callback) === -1\n        : existing !== callback\n    ) {\n      on[event] = [callback].concat(existing);\n    }\n  } else {\n    on[event] = callback;\n  }\n}\n\n/*  */\n\nvar SIMPLE_NORMALIZE = 1;\nvar ALWAYS_NORMALIZE = 2;\n\n// wrapper function for providing a more flexible interface\n// without getting yelled at by flow\nfunction createElement (\n  context,\n  tag,\n  data,\n  children,\n  normalizationType,\n  alwaysNormalize\n) {\n  if (Array.isArray(data) || isPrimitive(data)) {\n    normalizationType = children;\n    children = data;\n    data = undefined;\n  }\n  if (isTrue(alwaysNormalize)) {\n    normalizationType = ALWAYS_NORMALIZE;\n  }\n  return _createElement(context, tag, data, children, normalizationType)\n}\n\nfunction _createElement (\n  context,\n  tag,\n  data,\n  children,\n  normalizationType\n) {\n  if (isDef(data) && isDef((data).__ob__)) {\n    process.env.NODE_ENV !== 'production' && warn(\n      \"Avoid using observed data object as vnode data: \" + (JSON.stringify(data)) + \"\\n\" +\n      'Always create fresh vnode data objects in each render!',\n      context\n    );\n    return createEmptyVNode()\n  }\n  // object syntax in v-bind\n  if (isDef(data) && isDef(data.is)) {\n    tag = data.is;\n  }\n  if (!tag) {\n    // in case of component :is set to falsy value\n    return createEmptyVNode()\n  }\n  // warn against non-primitive key\n  if (process.env.NODE_ENV !== 'production' &&\n    isDef(data) && isDef(data.key) && !isPrimitive(data.key)\n  ) {\n    {\n      warn(\n        'Avoid using non-primitive value as key, ' +\n        'use string/number value instead.',\n        context\n      );\n    }\n  }\n  // support single function children as default scoped slot\n  if (Array.isArray(children) &&\n    typeof children[0] === 'function'\n  ) {\n    data = data || {};\n    data.scopedSlots = { default: children[0] };\n    children.length = 0;\n  }\n  if (normalizationType === ALWAYS_NORMALIZE) {\n    children = normalizeChildren(children);\n  } else if (normalizationType === SIMPLE_NORMALIZE) {\n    children = simpleNormalizeChildren(children);\n  }\n  var vnode, ns;\n  if (typeof tag === 'string') {\n    var Ctor;\n    ns = (context.$vnode && context.$vnode.ns) || config.getTagNamespace(tag);\n    if (config.isReservedTag(tag)) {\n      // platform built-in elements\n      if (process.env.NODE_ENV !== 'production' && isDef(data) && isDef(data.nativeOn)) {\n        warn(\n          (\"The .native modifier for v-on is only valid on components but it was used on <\" + tag + \">.\"),\n          context\n        );\n      }\n      vnode = new VNode(\n        config.parsePlatformTagName(tag), data, children,\n        undefined, undefined, context\n      );\n    } else if ((!data || !data.pre) && isDef(Ctor = resolveAsset(context.$options, 'components', tag))) {\n      // component\n      vnode = createComponent(Ctor, data, context, children, tag);\n    } else {\n      // unknown or unlisted namespaced elements\n      // check at runtime because it may get assigned a namespace when its\n      // parent normalizes children\n      vnode = new VNode(\n        tag, data, children,\n        undefined, undefined, context\n      );\n    }\n  } else {\n    // direct component options / constructor\n    vnode = createComponent(tag, data, context, children);\n  }\n  if (Array.isArray(vnode)) {\n    return vnode\n  } else if (isDef(vnode)) {\n    if (isDef(ns)) { applyNS(vnode, ns); }\n    if (isDef(data)) { registerDeepBindings(data); }\n    return vnode\n  } else {\n    return createEmptyVNode()\n  }\n}\n\nfunction applyNS (vnode, ns, force) {\n  vnode.ns = ns;\n  if (vnode.tag === 'foreignObject') {\n    // use default namespace inside foreignObject\n    ns = undefined;\n    force = true;\n  }\n  if (isDef(vnode.children)) {\n    for (var i = 0, l = vnode.children.length; i < l; i++) {\n      var child = vnode.children[i];\n      if (isDef(child.tag) && (\n        isUndef(child.ns) || (isTrue(force) && child.tag !== 'svg'))) {\n        applyNS(child, ns, force);\n      }\n    }\n  }\n}\n\n// ref #5318\n// necessary to ensure parent re-render when deep bindings like :style and\n// :class are used on slot nodes\nfunction registerDeepBindings (data) {\n  if (isObject(data.style)) {\n    traverse(data.style);\n  }\n  if (isObject(data.class)) {\n    traverse(data.class);\n  }\n}\n\n/*  */\n\nfunction initRender (vm) {\n  vm._vnode = null; // the root of the child tree\n  vm._staticTrees = null; // v-once cached trees\n  var options = vm.$options;\n  var parentVnode = vm.$vnode = options._parentVnode; // the placeholder node in parent tree\n  var renderContext = parentVnode && parentVnode.context;\n  vm.$slots = resolveSlots(options._renderChildren, renderContext);\n  vm.$scopedSlots = emptyObject;\n  // bind the createElement fn to this instance\n  // so that we get proper render context inside it.\n  // args order: tag, data, children, normalizationType, alwaysNormalize\n  // internal version is used by render functions compiled from templates\n  vm._c = function (a, b, c, d) { return createElement(vm, a, b, c, d, false); };\n  // normalization is always applied for the public version, used in\n  // user-written render functions.\n  vm.$createElement = function (a, b, c, d) { return createElement(vm, a, b, c, d, true); };\n\n  // $attrs & $listeners are exposed for easier HOC creation.\n  // they need to be reactive so that HOCs using them are always updated\n  var parentData = parentVnode && parentVnode.data;\n\n  /* istanbul ignore else */\n  if (process.env.NODE_ENV !== 'production') {\n    defineReactive$$1(vm, '$attrs', parentData && parentData.attrs || emptyObject, function () {\n      !isUpdatingChildComponent && warn(\"$attrs is readonly.\", vm);\n    }, true);\n    defineReactive$$1(vm, '$listeners', options._parentListeners || emptyObject, function () {\n      !isUpdatingChildComponent && warn(\"$listeners is readonly.\", vm);\n    }, true);\n  } else {\n    defineReactive$$1(vm, '$attrs', parentData && parentData.attrs || emptyObject, null, true);\n    defineReactive$$1(vm, '$listeners', options._parentListeners || emptyObject, null, true);\n  }\n}\n\nvar currentRenderingInstance = null;\n\nfunction renderMixin (Vue) {\n  // install runtime convenience helpers\n  installRenderHelpers(Vue.prototype);\n\n  Vue.prototype.$nextTick = function (fn) {\n    return nextTick(fn, this)\n  };\n\n  Vue.prototype._render = function () {\n    var vm = this;\n    var ref = vm.$options;\n    var render = ref.render;\n    var _parentVnode = ref._parentVnode;\n\n    if (_parentVnode) {\n      vm.$scopedSlots = normalizeScopedSlots(\n        _parentVnode.data.scopedSlots,\n        vm.$slots,\n        vm.$scopedSlots\n      );\n    }\n\n    // set parent vnode. this allows render functions to have access\n    // to the data on the placeholder node.\n    vm.$vnode = _parentVnode;\n    // render self\n    var vnode;\n    try {\n      // There's no need to maintain a stack because all render fns are called\n      // separately from one another. Nested component's render fns are called\n      // when parent component is patched.\n      currentRenderingInstance = vm;\n      vnode = render.call(vm._renderProxy, vm.$createElement);\n    } catch (e) {\n      handleError(e, vm, \"render\");\n      // return error render result,\n      // or previous vnode to prevent render error causing blank component\n      /* istanbul ignore else */\n      if (process.env.NODE_ENV !== 'production' && vm.$options.renderError) {\n        try {\n          vnode = vm.$options.renderError.call(vm._renderProxy, vm.$createElement, e);\n        } catch (e) {\n          handleError(e, vm, \"renderError\");\n          vnode = vm._vnode;\n        }\n      } else {\n        vnode = vm._vnode;\n      }\n    } finally {\n      currentRenderingInstance = null;\n    }\n    // if the returned array contains only a single node, allow it\n    if (Array.isArray(vnode) && vnode.length === 1) {\n      vnode = vnode[0];\n    }\n    // return empty vnode in case the render function errored out\n    if (!(vnode instanceof VNode)) {\n      if (process.env.NODE_ENV !== 'production' && Array.isArray(vnode)) {\n        warn(\n          'Multiple root nodes returned from render function. Render function ' +\n          'should return a single root node.',\n          vm\n        );\n      }\n      vnode = createEmptyVNode();\n    }\n    // set parent\n    vnode.parent = _parentVnode;\n    return vnode\n  };\n}\n\n/*  */\n\nfunction ensureCtor (comp, base) {\n  if (\n    comp.__esModule ||\n    (hasSymbol && comp[Symbol.toStringTag] === 'Module')\n  ) {\n    comp = comp.default;\n  }\n  return isObject(comp)\n    ? base.extend(comp)\n    : comp\n}\n\nfunction createAsyncPlaceholder (\n  factory,\n  data,\n  context,\n  children,\n  tag\n) {\n  var node = createEmptyVNode();\n  node.asyncFactory = factory;\n  node.asyncMeta = { data: data, context: context, children: children, tag: tag };\n  return node\n}\n\nfunction resolveAsyncComponent (\n  factory,\n  baseCtor\n) {\n  if (isTrue(factory.error) && isDef(factory.errorComp)) {\n    return factory.errorComp\n  }\n\n  if (isDef(factory.resolved)) {\n    return factory.resolved\n  }\n\n  var owner = currentRenderingInstance;\n  if (owner && isDef(factory.owners) && factory.owners.indexOf(owner) === -1) {\n    // already pending\n    factory.owners.push(owner);\n  }\n\n  if (isTrue(factory.loading) && isDef(factory.loadingComp)) {\n    return factory.loadingComp\n  }\n\n  if (owner && !isDef(factory.owners)) {\n    var owners = factory.owners = [owner];\n    var sync = true;\n    var timerLoading = null;\n    var timerTimeout = null\n\n    ;(owner).$on('hook:destroyed', function () { return remove(owners, owner); });\n\n    var forceRender = function (renderCompleted) {\n      for (var i = 0, l = owners.length; i < l; i++) {\n        (owners[i]).$forceUpdate();\n      }\n\n      if (renderCompleted) {\n        owners.length = 0;\n        if (timerLoading !== null) {\n          clearTimeout(timerLoading);\n          timerLoading = null;\n        }\n        if (timerTimeout !== null) {\n          clearTimeout(timerTimeout);\n          timerTimeout = null;\n        }\n      }\n    };\n\n    var resolve = once(function (res) {\n      // cache resolved\n      factory.resolved = ensureCtor(res, baseCtor);\n      // invoke callbacks only if this is not a synchronous resolve\n      // (async resolves are shimmed as synchronous during SSR)\n      if (!sync) {\n        forceRender(true);\n      } else {\n        owners.length = 0;\n      }\n    });\n\n    var reject = once(function (reason) {\n      process.env.NODE_ENV !== 'production' && warn(\n        \"Failed to resolve async component: \" + (String(factory)) +\n        (reason ? (\"\\nReason: \" + reason) : '')\n      );\n      if (isDef(factory.errorComp)) {\n        factory.error = true;\n        forceRender(true);\n      }\n    });\n\n    var res = factory(resolve, reject);\n\n    if (isObject(res)) {\n      if (isPromise(res)) {\n        // () => Promise\n        if (isUndef(factory.resolved)) {\n          res.then(resolve, reject);\n        }\n      } else if (isPromise(res.component)) {\n        res.component.then(resolve, reject);\n\n        if (isDef(res.error)) {\n          factory.errorComp = ensureCtor(res.error, baseCtor);\n        }\n\n        if (isDef(res.loading)) {\n          factory.loadingComp = ensureCtor(res.loading, baseCtor);\n          if (res.delay === 0) {\n            factory.loading = true;\n          } else {\n            timerLoading = setTimeout(function () {\n              timerLoading = null;\n              if (isUndef(factory.resolved) && isUndef(factory.error)) {\n                factory.loading = true;\n                forceRender(false);\n              }\n            }, res.delay || 200);\n          }\n        }\n\n        if (isDef(res.timeout)) {\n          timerTimeout = setTimeout(function () {\n            timerTimeout = null;\n            if (isUndef(factory.resolved)) {\n              reject(\n                process.env.NODE_ENV !== 'production'\n                  ? (\"timeout (\" + (res.timeout) + \"ms)\")\n                  : null\n              );\n            }\n          }, res.timeout);\n        }\n      }\n    }\n\n    sync = false;\n    // return in case resolved synchronously\n    return factory.loading\n      ? factory.loadingComp\n      : factory.resolved\n  }\n}\n\n/*  */\n\nfunction isAsyncPlaceholder (node) {\n  return node.isComment && node.asyncFactory\n}\n\n/*  */\n\nfunction getFirstComponentChild (children) {\n  if (Array.isArray(children)) {\n    for (var i = 0; i < children.length; i++) {\n      var c = children[i];\n      if (isDef(c) && (isDef(c.componentOptions) || isAsyncPlaceholder(c))) {\n        return c\n      }\n    }\n  }\n}\n\n/*  */\n\n/*  */\n\nfunction initEvents (vm) {\n  vm._events = Object.create(null);\n  vm._hasHookEvent = false;\n  // init parent attached events\n  var listeners = vm.$options._parentListeners;\n  if (listeners) {\n    updateComponentListeners(vm, listeners);\n  }\n}\n\nvar target;\n\nfunction add (event, fn) {\n  target.$on(event, fn);\n}\n\nfunction remove$1 (event, fn) {\n  target.$off(event, fn);\n}\n\nfunction createOnceHandler (event, fn) {\n  var _target = target;\n  return function onceHandler () {\n    var res = fn.apply(null, arguments);\n    if (res !== null) {\n      _target.$off(event, onceHandler);\n    }\n  }\n}\n\nfunction updateComponentListeners (\n  vm,\n  listeners,\n  oldListeners\n) {\n  target = vm;\n  updateListeners(listeners, oldListeners || {}, add, remove$1, createOnceHandler, vm);\n  target = undefined;\n}\n\nfunction eventsMixin (Vue) {\n  var hookRE = /^hook:/;\n  Vue.prototype.$on = function (event, fn) {\n    var vm = this;\n    if (Array.isArray(event)) {\n      for (var i = 0, l = event.length; i < l; i++) {\n        vm.$on(event[i], fn);\n      }\n    } else {\n      (vm._events[event] || (vm._events[event] = [])).push(fn);\n      // optimize hook:event cost by using a boolean flag marked at registration\n      // instead of a hash lookup\n      if (hookRE.test(event)) {\n        vm._hasHookEvent = true;\n      }\n    }\n    return vm\n  };\n\n  Vue.prototype.$once = function (event, fn) {\n    var vm = this;\n    function on () {\n      vm.$off(event, on);\n      fn.apply(vm, arguments);\n    }\n    on.fn = fn;\n    vm.$on(event, on);\n    return vm\n  };\n\n  Vue.prototype.$off = function (event, fn) {\n    var vm = this;\n    // all\n    if (!arguments.length) {\n      vm._events = Object.create(null);\n      return vm\n    }\n    // array of events\n    if (Array.isArray(event)) {\n      for (var i$1 = 0, l = event.length; i$1 < l; i$1++) {\n        vm.$off(event[i$1], fn);\n      }\n      return vm\n    }\n    // specific event\n    var cbs = vm._events[event];\n    if (!cbs) {\n      return vm\n    }\n    if (!fn) {\n      vm._events[event] = null;\n      return vm\n    }\n    // specific handler\n    var cb;\n    var i = cbs.length;\n    while (i--) {\n      cb = cbs[i];\n      if (cb === fn || cb.fn === fn) {\n        cbs.splice(i, 1);\n        break\n      }\n    }\n    return vm\n  };\n\n  Vue.prototype.$emit = function (event) {\n    var vm = this;\n    if (process.env.NODE_ENV !== 'production') {\n      var lowerCaseEvent = event.toLowerCase();\n      if (lowerCaseEvent !== event && vm._events[lowerCaseEvent]) {\n        tip(\n          \"Event \\\"\" + lowerCaseEvent + \"\\\" is emitted in component \" +\n          (formatComponentName(vm)) + \" but the handler is registered for \\\"\" + event + \"\\\". \" +\n          \"Note that HTML attributes are case-insensitive and you cannot use \" +\n          \"v-on to listen to camelCase events when using in-DOM templates. \" +\n          \"You should probably use \\\"\" + (hyphenate(event)) + \"\\\" instead of \\\"\" + event + \"\\\".\"\n        );\n      }\n    }\n    var cbs = vm._events[event];\n    if (cbs) {\n      cbs = cbs.length > 1 ? toArray(cbs) : cbs;\n      var args = toArray(arguments, 1);\n      var info = \"event handler for \\\"\" + event + \"\\\"\";\n      for (var i = 0, l = cbs.length; i < l; i++) {\n        invokeWithErrorHandling(cbs[i], vm, args, vm, info);\n      }\n    }\n    return vm\n  };\n}\n\n/*  */\n\nvar activeInstance = null;\nvar isUpdatingChildComponent = false;\n\nfunction setActiveInstance(vm) {\n  var prevActiveInstance = activeInstance;\n  activeInstance = vm;\n  return function () {\n    activeInstance = prevActiveInstance;\n  }\n}\n\nfunction initLifecycle (vm) {\n  var options = vm.$options;\n\n  // locate first non-abstract parent\n  var parent = options.parent;\n  if (parent && !options.abstract) {\n    while (parent.$options.abstract && parent.$parent) {\n      parent = parent.$parent;\n    }\n    parent.$children.push(vm);\n  }\n\n  vm.$parent = parent;\n  vm.$root = parent ? parent.$root : vm;\n\n  vm.$children = [];\n  vm.$refs = {};\n\n  vm._watcher = null;\n  vm._inactive = null;\n  vm._directInactive = false;\n  vm._isMounted = false;\n  vm._isDestroyed = false;\n  vm._isBeingDestroyed = false;\n}\n\nfunction lifecycleMixin (Vue) {\n  Vue.prototype._update = function (vnode, hydrating) {\n    var vm = this;\n    var prevEl = vm.$el;\n    var prevVnode = vm._vnode;\n    var restoreActiveInstance = setActiveInstance(vm);\n    vm._vnode = vnode;\n    // Vue.prototype.__patch__ is injected in entry points\n    // based on the rendering backend used.\n    if (!prevVnode) {\n      // initial render\n      vm.$el = vm.__patch__(vm.$el, vnode, hydrating, false /* removeOnly */);\n    } else {\n      // updates\n      vm.$el = vm.__patch__(prevVnode, vnode);\n    }\n    restoreActiveInstance();\n    // update __vue__ reference\n    if (prevEl) {\n      prevEl.__vue__ = null;\n    }\n    if (vm.$el) {\n      vm.$el.__vue__ = vm;\n    }\n    // if parent is an HOC, update its $el as well\n    if (vm.$vnode && vm.$parent && vm.$vnode === vm.$parent._vnode) {\n      vm.$parent.$el = vm.$el;\n    }\n    // updated hook is called by the scheduler to ensure that children are\n    // updated in a parent's updated hook.\n  };\n\n  Vue.prototype.$forceUpdate = function () {\n    var vm = this;\n    if (vm._watcher) {\n      vm._watcher.update();\n    }\n  };\n\n  Vue.prototype.$destroy = function () {\n    var vm = this;\n    if (vm._isBeingDestroyed) {\n      return\n    }\n    callHook(vm, 'beforeDestroy');\n    vm._isBeingDestroyed = true;\n    // remove self from parent\n    var parent = vm.$parent;\n    if (parent && !parent._isBeingDestroyed && !vm.$options.abstract) {\n      remove(parent.$children, vm);\n    }\n    // teardown watchers\n    if (vm._watcher) {\n      vm._watcher.teardown();\n    }\n    var i = vm._watchers.length;\n    while (i--) {\n      vm._watchers[i].teardown();\n    }\n    // remove reference from data ob\n    // frozen object may not have observer.\n    if (vm._data.__ob__) {\n      vm._data.__ob__.vmCount--;\n    }\n    // call the last hook...\n    vm._isDestroyed = true;\n    // invoke destroy hooks on current rendered tree\n    vm.__patch__(vm._vnode, null);\n    // fire destroyed hook\n    callHook(vm, 'destroyed');\n    // turn off all instance listeners.\n    vm.$off();\n    // remove __vue__ reference\n    if (vm.$el) {\n      vm.$el.__vue__ = null;\n    }\n    // release circular reference (#6759)\n    if (vm.$vnode) {\n      vm.$vnode.parent = null;\n    }\n  };\n}\n\nfunction mountComponent (\n  vm,\n  el,\n  hydrating\n) {\n  vm.$el = el;\n  if (!vm.$options.render) {\n    vm.$options.render = createEmptyVNode;\n    if (process.env.NODE_ENV !== 'production') {\n      /* istanbul ignore if */\n      if ((vm.$options.template && vm.$options.template.charAt(0) !== '#') ||\n        vm.$options.el || el) {\n        warn(\n          'You are using the runtime-only build of Vue where the template ' +\n          'compiler is not available. Either pre-compile the templates into ' +\n          'render functions, or use the compiler-included build.',\n          vm\n        );\n      } else {\n        warn(\n          'Failed to mount component: template or render function not defined.',\n          vm\n        );\n      }\n    }\n  }\n  callHook(vm, 'beforeMount');\n\n  var updateComponent;\n  /* istanbul ignore if */\n  if (process.env.NODE_ENV !== 'production' && config.performance && mark) {\n    updateComponent = function () {\n      var name = vm._name;\n      var id = vm._uid;\n      var startTag = \"vue-perf-start:\" + id;\n      var endTag = \"vue-perf-end:\" + id;\n\n      mark(startTag);\n      var vnode = vm._render();\n      mark(endTag);\n      measure((\"vue \" + name + \" render\"), startTag, endTag);\n\n      mark(startTag);\n      vm._update(vnode, hydrating);\n      mark(endTag);\n      measure((\"vue \" + name + \" patch\"), startTag, endTag);\n    };\n  } else {\n    updateComponent = function () {\n      vm._update(vm._render(), hydrating);\n    };\n  }\n\n  // we set this to vm._watcher inside the watcher's constructor\n  // since the watcher's initial patch may call $forceUpdate (e.g. inside child\n  // component's mounted hook), which relies on vm._watcher being already defined\n  new Watcher(vm, updateComponent, noop, {\n    before: function before () {\n      if (vm._isMounted && !vm._isDestroyed) {\n        callHook(vm, 'beforeUpdate');\n      }\n    }\n  }, true /* isRenderWatcher */);\n  hydrating = false;\n\n  // manually mounted instance, call mounted on self\n  // mounted is called for render-created child components in its inserted hook\n  if (vm.$vnode == null) {\n    vm._isMounted = true;\n    callHook(vm, 'mounted');\n  }\n  return vm\n}\n\nfunction updateChildComponent (\n  vm,\n  propsData,\n  listeners,\n  parentVnode,\n  renderChildren\n) {\n  if (process.env.NODE_ENV !== 'production') {\n    isUpdatingChildComponent = true;\n  }\n\n  // determine whether component has slot children\n  // we need to do this before overwriting $options._renderChildren.\n\n  // check if there are dynamic scopedSlots (hand-written or compiled but with\n  // dynamic slot names). Static scoped slots compiled from template has the\n  // \"$stable\" marker.\n  var newScopedSlots = parentVnode.data.scopedSlots;\n  var oldScopedSlots = vm.$scopedSlots;\n  var hasDynamicScopedSlot = !!(\n    (newScopedSlots && !newScopedSlots.$stable) ||\n    (oldScopedSlots !== emptyObject && !oldScopedSlots.$stable) ||\n    (newScopedSlots && vm.$scopedSlots.$key !== newScopedSlots.$key)\n  );\n\n  // Any static slot children from the parent may have changed during parent's\n  // update. Dynamic scoped slots may also have changed. In such cases, a forced\n  // update is necessary to ensure correctness.\n  var needsForceUpdate = !!(\n    renderChildren ||               // has new static slots\n    vm.$options._renderChildren ||  // has old static slots\n    hasDynamicScopedSlot\n  );\n\n  vm.$options._parentVnode = parentVnode;\n  vm.$vnode = parentVnode; // update vm's placeholder node without re-render\n\n  if (vm._vnode) { // update child tree's parent\n    vm._vnode.parent = parentVnode;\n  }\n  vm.$options._renderChildren = renderChildren;\n\n  // update $attrs and $listeners hash\n  // these are also reactive so they may trigger child update if the child\n  // used them during render\n  vm.$attrs = parentVnode.data.attrs || emptyObject;\n  vm.$listeners = listeners || emptyObject;\n\n  // update props\n  if (propsData && vm.$options.props) {\n    toggleObserving(false);\n    var props = vm._props;\n    var propKeys = vm.$options._propKeys || [];\n    for (var i = 0; i < propKeys.length; i++) {\n      var key = propKeys[i];\n      var propOptions = vm.$options.props; // wtf flow?\n      props[key] = validateProp(key, propOptions, propsData, vm);\n    }\n    toggleObserving(true);\n    // keep a copy of raw propsData\n    vm.$options.propsData = propsData;\n  }\n\n  // update listeners\n  listeners = listeners || emptyObject;\n  var oldListeners = vm.$options._parentListeners;\n  vm.$options._parentListeners = listeners;\n  updateComponentListeners(vm, listeners, oldListeners);\n\n  // resolve slots + force update if has children\n  if (needsForceUpdate) {\n    vm.$slots = resolveSlots(renderChildren, parentVnode.context);\n    vm.$forceUpdate();\n  }\n\n  if (process.env.NODE_ENV !== 'production') {\n    isUpdatingChildComponent = false;\n  }\n}\n\nfunction isInInactiveTree (vm) {\n  while (vm && (vm = vm.$parent)) {\n    if (vm._inactive) { return true }\n  }\n  return false\n}\n\nfunction activateChildComponent (vm, direct) {\n  if (direct) {\n    vm._directInactive = false;\n    if (isInInactiveTree(vm)) {\n      return\n    }\n  } else if (vm._directInactive) {\n    return\n  }\n  if (vm._inactive || vm._inactive === null) {\n    vm._inactive = false;\n    for (var i = 0; i < vm.$children.length; i++) {\n      activateChildComponent(vm.$children[i]);\n    }\n    callHook(vm, 'activated');\n  }\n}\n\nfunction deactivateChildComponent (vm, direct) {\n  if (direct) {\n    vm._directInactive = true;\n    if (isInInactiveTree(vm)) {\n      return\n    }\n  }\n  if (!vm._inactive) {\n    vm._inactive = true;\n    for (var i = 0; i < vm.$children.length; i++) {\n      deactivateChildComponent(vm.$children[i]);\n    }\n    callHook(vm, 'deactivated');\n  }\n}\n\nfunction callHook (vm, hook) {\n  // #7573 disable dep collection when invoking lifecycle hooks\n  pushTarget();\n  var handlers = vm.$options[hook];\n  var info = hook + \" hook\";\n  if (handlers) {\n    for (var i = 0, j = handlers.length; i < j; i++) {\n      invokeWithErrorHandling(handlers[i], vm, null, vm, info);\n    }\n  }\n  if (vm._hasHookEvent) {\n    vm.$emit('hook:' + hook);\n  }\n  popTarget();\n}\n\n/*  */\n\nvar MAX_UPDATE_COUNT = 100;\n\nvar queue = [];\nvar activatedChildren = [];\nvar has = {};\nvar circular = {};\nvar waiting = false;\nvar flushing = false;\nvar index = 0;\n\n/**\n * Reset the scheduler's state.\n */\nfunction resetSchedulerState () {\n  index = queue.length = activatedChildren.length = 0;\n  has = {};\n  if (process.env.NODE_ENV !== 'production') {\n    circular = {};\n  }\n  waiting = flushing = false;\n}\n\n// Async edge case #6566 requires saving the timestamp when event listeners are\n// attached. However, calling performance.now() has a perf overhead especially\n// if the page has thousands of event listeners. Instead, we take a timestamp\n// every time the scheduler flushes and use that for all event listeners\n// attached during that flush.\nvar currentFlushTimestamp = 0;\n\n// Async edge case fix requires storing an event listener's attach timestamp.\nvar getNow = Date.now;\n\n// Determine what event timestamp the browser is using. Annoyingly, the\n// timestamp can either be hi-res (relative to page load) or low-res\n// (relative to UNIX epoch), so in order to compare time we have to use the\n// same timestamp type when saving the flush timestamp.\n// All IE versions use low-res event timestamps, and have problematic clock\n// implementations (#9632)\nif (inBrowser && !isIE) {\n  var performance = window.performance;\n  if (\n    performance &&\n    typeof performance.now === 'function' &&\n    getNow() > document.createEvent('Event').timeStamp\n  ) {\n    // if the event timestamp, although evaluated AFTER the Date.now(), is\n    // smaller than it, it means the event is using a hi-res timestamp,\n    // and we need to use the hi-res version for event listener timestamps as\n    // well.\n    getNow = function () { return performance.now(); };\n  }\n}\n\n/**\n * Flush both queues and run the watchers.\n */\nfunction flushSchedulerQueue () {\n  currentFlushTimestamp = getNow();\n  flushing = true;\n  var watcher, id;\n\n  // Sort queue before flush.\n  // This ensures that:\n  // 1. Components are updated from parent to child. (because parent is always\n  //    created before the child)\n  // 2. A component's user watchers are run before its render watcher (because\n  //    user watchers are created before the render watcher)\n  // 3. If a component is destroyed during a parent component's watcher run,\n  //    its watchers can be skipped.\n  queue.sort(function (a, b) { return a.id - b.id; });\n\n  // do not cache length because more watchers might be pushed\n  // as we run existing watchers\n  for (index = 0; index < queue.length; index++) {\n    watcher = queue[index];\n    if (watcher.before) {\n      watcher.before();\n    }\n    id = watcher.id;\n    has[id] = null;\n    watcher.run();\n    // in dev build, check and stop circular updates.\n    if (process.env.NODE_ENV !== 'production' && has[id] != null) {\n      circular[id] = (circular[id] || 0) + 1;\n      if (circular[id] > MAX_UPDATE_COUNT) {\n        warn(\n          'You may have an infinite update loop ' + (\n            watcher.user\n              ? (\"in watcher with expression \\\"\" + (watcher.expression) + \"\\\"\")\n              : \"in a component render function.\"\n          ),\n          watcher.vm\n        );\n        break\n      }\n    }\n  }\n\n  // keep copies of post queues before resetting state\n  var activatedQueue = activatedChildren.slice();\n  var updatedQueue = queue.slice();\n\n  resetSchedulerState();\n\n  // call component updated and activated hooks\n  callActivatedHooks(activatedQueue);\n  callUpdatedHooks(updatedQueue);\n\n  // devtool hook\n  /* istanbul ignore if */\n  if (devtools && config.devtools) {\n    devtools.emit('flush');\n  }\n}\n\nfunction callUpdatedHooks (queue) {\n  var i = queue.length;\n  while (i--) {\n    var watcher = queue[i];\n    var vm = watcher.vm;\n    if (vm._watcher === watcher && vm._isMounted && !vm._isDestroyed) {\n      callHook(vm, 'updated');\n    }\n  }\n}\n\n/**\n * Queue a kept-alive component that was activated during patch.\n * The queue will be processed after the entire tree has been patched.\n */\nfunction queueActivatedComponent (vm) {\n  // setting _inactive to false here so that a render function can\n  // rely on checking whether it's in an inactive tree (e.g. router-view)\n  vm._inactive = false;\n  activatedChildren.push(vm);\n}\n\nfunction callActivatedHooks (queue) {\n  for (var i = 0; i < queue.length; i++) {\n    queue[i]._inactive = true;\n    activateChildComponent(queue[i], true /* true */);\n  }\n}\n\n/**\n * Push a watcher into the watcher queue.\n * Jobs with duplicate IDs will be skipped unless it's\n * pushed when the queue is being flushed.\n */\nfunction queueWatcher (watcher) {\n  var id = watcher.id;\n  if (has[id] == null) {\n    has[id] = true;\n    if (!flushing) {\n      queue.push(watcher);\n    } else {\n      // if already flushing, splice the watcher based on its id\n      // if already past its id, it will be run next immediately.\n      var i = queue.length - 1;\n      while (i > index && queue[i].id > watcher.id) {\n        i--;\n      }\n      queue.splice(i + 1, 0, watcher);\n    }\n    // queue the flush\n    if (!waiting) {\n      waiting = true;\n\n      if (process.env.NODE_ENV !== 'production' && !config.async) {\n        flushSchedulerQueue();\n        return\n      }\n      nextTick(flushSchedulerQueue);\n    }\n  }\n}\n\n/*  */\n\n\n\nvar uid$2 = 0;\n\n/**\n * A watcher parses an expression, collects dependencies,\n * and fires callback when the expression value changes.\n * This is used for both the $watch() api and directives.\n */\nvar Watcher = function Watcher (\n  vm,\n  expOrFn,\n  cb,\n  options,\n  isRenderWatcher\n) {\n  this.vm = vm;\n  if (isRenderWatcher) {\n    vm._watcher = this;\n  }\n  vm._watchers.push(this);\n  // options\n  if (options) {\n    this.deep = !!options.deep;\n    this.user = !!options.user;\n    this.lazy = !!options.lazy;\n    this.sync = !!options.sync;\n    this.before = options.before;\n  } else {\n    this.deep = this.user = this.lazy = this.sync = false;\n  }\n  this.cb = cb;\n  this.id = ++uid$2; // uid for batching\n  this.active = true;\n  this.dirty = this.lazy; // for lazy watchers\n  this.deps = [];\n  this.newDeps = [];\n  this.depIds = new _Set();\n  this.newDepIds = new _Set();\n  this.expression = process.env.NODE_ENV !== 'production'\n    ? expOrFn.toString()\n    : '';\n  // parse expression for getter\n  if (typeof expOrFn === 'function') {\n    this.getter = expOrFn;\n  } else {\n    this.getter = parsePath(expOrFn);\n    if (!this.getter) {\n      this.getter = noop;\n      process.env.NODE_ENV !== 'production' && warn(\n        \"Failed watching path: \\\"\" + expOrFn + \"\\\" \" +\n        'Watcher only accepts simple dot-delimited paths. ' +\n        'For full control, use a function instead.',\n        vm\n      );\n    }\n  }\n  this.value = this.lazy\n    ? undefined\n    : this.get();\n};\n\n/**\n * Evaluate the getter, and re-collect dependencies.\n */\nWatcher.prototype.get = function get () {\n  pushTarget(this);\n  var value;\n  var vm = this.vm;\n  try {\n    value = this.getter.call(vm, vm);\n  } catch (e) {\n    if (this.user) {\n      handleError(e, vm, (\"getter for watcher \\\"\" + (this.expression) + \"\\\"\"));\n    } else {\n      throw e\n    }\n  } finally {\n    // \"touch\" every property so they are all tracked as\n    // dependencies for deep watching\n    if (this.deep) {\n      traverse(value);\n    }\n    popTarget();\n    this.cleanupDeps();\n  }\n  return value\n};\n\n/**\n * Add a dependency to this directive.\n */\nWatcher.prototype.addDep = function addDep (dep) {\n  var id = dep.id;\n  if (!this.newDepIds.has(id)) {\n    this.newDepIds.add(id);\n    this.newDeps.push(dep);\n    if (!this.depIds.has(id)) {\n      dep.addSub(this);\n    }\n  }\n};\n\n/**\n * Clean up for dependency collection.\n */\nWatcher.prototype.cleanupDeps = function cleanupDeps () {\n  var i = this.deps.length;\n  while (i--) {\n    var dep = this.deps[i];\n    if (!this.newDepIds.has(dep.id)) {\n      dep.removeSub(this);\n    }\n  }\n  var tmp = this.depIds;\n  this.depIds = this.newDepIds;\n  this.newDepIds = tmp;\n  this.newDepIds.clear();\n  tmp = this.deps;\n  this.deps = this.newDeps;\n  this.newDeps = tmp;\n  this.newDeps.length = 0;\n};\n\n/**\n * Subscriber interface.\n * Will be called when a dependency changes.\n */\nWatcher.prototype.update = function update () {\n  /* istanbul ignore else */\n  if (this.lazy) {\n    this.dirty = true;\n  } else if (this.sync) {\n    this.run();\n  } else {\n    queueWatcher(this);\n  }\n};\n\n/**\n * Scheduler job interface.\n * Will be called by the scheduler.\n */\nWatcher.prototype.run = function run () {\n  if (this.active) {\n    var value = this.get();\n    if (\n      value !== this.value ||\n      // Deep watchers and watchers on Object/Arrays should fire even\n      // when the value is the same, because the value may\n      // have mutated.\n      isObject(value) ||\n      this.deep\n    ) {\n      // set new value\n      var oldValue = this.value;\n      this.value = value;\n      if (this.user) {\n        try {\n          this.cb.call(this.vm, value, oldValue);\n        } catch (e) {\n          handleError(e, this.vm, (\"callback for watcher \\\"\" + (this.expression) + \"\\\"\"));\n        }\n      } else {\n        this.cb.call(this.vm, value, oldValue);\n      }\n    }\n  }\n};\n\n/**\n * Evaluate the value of the watcher.\n * This only gets called for lazy watchers.\n */\nWatcher.prototype.evaluate = function evaluate () {\n  this.value = this.get();\n  this.dirty = false;\n};\n\n/**\n * Depend on all deps collected by this watcher.\n */\nWatcher.prototype.depend = function depend () {\n  var i = this.deps.length;\n  while (i--) {\n    this.deps[i].depend();\n  }\n};\n\n/**\n * Remove self from all dependencies' subscriber list.\n */\nWatcher.prototype.teardown = function teardown () {\n  if (this.active) {\n    // remove self from vm's watcher list\n    // this is a somewhat expensive operation so we skip it\n    // if the vm is being destroyed.\n    if (!this.vm._isBeingDestroyed) {\n      remove(this.vm._watchers, this);\n    }\n    var i = this.deps.length;\n    while (i--) {\n      this.deps[i].removeSub(this);\n    }\n    this.active = false;\n  }\n};\n\n/*  */\n\nvar sharedPropertyDefinition = {\n  enumerable: true,\n  configurable: true,\n  get: noop,\n  set: noop\n};\n\nfunction proxy (target, sourceKey, key) {\n  sharedPropertyDefinition.get = function proxyGetter () {\n    return this[sourceKey][key]\n  };\n  sharedPropertyDefinition.set = function proxySetter (val) {\n    this[sourceKey][key] = val;\n  };\n  Object.defineProperty(target, key, sharedPropertyDefinition);\n}\n\nfunction initState (vm) {\n  vm._watchers = [];\n  var opts = vm.$options;\n  if (opts.props) { initProps(vm, opts.props); }\n  if (opts.methods) { initMethods(vm, opts.methods); }\n  if (opts.data) {\n    initData(vm);\n  } else {\n    observe(vm._data = {}, true /* asRootData */);\n  }\n  if (opts.computed) { initComputed(vm, opts.computed); }\n  if (opts.watch && opts.watch !== nativeWatch) {\n    initWatch(vm, opts.watch);\n  }\n}\n\nfunction initProps (vm, propsOptions) {\n  var propsData = vm.$options.propsData || {};\n  var props = vm._props = {};\n  // cache prop keys so that future props updates can iterate using Array\n  // instead of dynamic object key enumeration.\n  var keys = vm.$options._propKeys = [];\n  var isRoot = !vm.$parent;\n  // root instance props should be converted\n  if (!isRoot) {\n    toggleObserving(false);\n  }\n  var loop = function ( key ) {\n    keys.push(key);\n    var value = validateProp(key, propsOptions, propsData, vm);\n    /* istanbul ignore else */\n    if (process.env.NODE_ENV !== 'production') {\n      var hyphenatedKey = hyphenate(key);\n      if (isReservedAttribute(hyphenatedKey) ||\n          config.isReservedAttr(hyphenatedKey)) {\n        warn(\n          (\"\\\"\" + hyphenatedKey + \"\\\" is a reserved attribute and cannot be used as component prop.\"),\n          vm\n        );\n      }\n      defineReactive$$1(props, key, value, function () {\n        if (!isRoot && !isUpdatingChildComponent) {\n          warn(\n            \"Avoid mutating a prop directly since the value will be \" +\n            \"overwritten whenever the parent component re-renders. \" +\n            \"Instead, use a data or computed property based on the prop's \" +\n            \"value. Prop being mutated: \\\"\" + key + \"\\\"\",\n            vm\n          );\n        }\n      });\n    } else {\n      defineReactive$$1(props, key, value);\n    }\n    // static props are already proxied on the component's prototype\n    // during Vue.extend(). We only need to proxy props defined at\n    // instantiation here.\n    if (!(key in vm)) {\n      proxy(vm, \"_props\", key);\n    }\n  };\n\n  for (var key in propsOptions) loop( key );\n  toggleObserving(true);\n}\n\nfunction initData (vm) {\n  var data = vm.$options.data;\n  data = vm._data = typeof data === 'function'\n    ? getData(data, vm)\n    : data || {};\n  if (!isPlainObject(data)) {\n    data = {};\n    process.env.NODE_ENV !== 'production' && warn(\n      'data functions should return an object:\\n' +\n      'https://vuejs.org/v2/guide/components.html#data-Must-Be-a-Function',\n      vm\n    );\n  }\n  // proxy data on instance\n  var keys = Object.keys(data);\n  var props = vm.$options.props;\n  var methods = vm.$options.methods;\n  var i = keys.length;\n  while (i--) {\n    var key = keys[i];\n    if (process.env.NODE_ENV !== 'production') {\n      if (methods && hasOwn(methods, key)) {\n        warn(\n          (\"Method \\\"\" + key + \"\\\" has already been defined as a data property.\"),\n          vm\n        );\n      }\n    }\n    if (props && hasOwn(props, key)) {\n      process.env.NODE_ENV !== 'production' && warn(\n        \"The data property \\\"\" + key + \"\\\" is already declared as a prop. \" +\n        \"Use prop default value instead.\",\n        vm\n      );\n    } else if (!isReserved(key)) {\n      proxy(vm, \"_data\", key);\n    }\n  }\n  // observe data\n  observe(data, true /* asRootData */);\n}\n\nfunction getData (data, vm) {\n  // #7573 disable dep collection when invoking data getters\n  pushTarget();\n  try {\n    return data.call(vm, vm)\n  } catch (e) {\n    handleError(e, vm, \"data()\");\n    return {}\n  } finally {\n    popTarget();\n  }\n}\n\nvar computedWatcherOptions = { lazy: true };\n\nfunction initComputed (vm, computed) {\n  // $flow-disable-line\n  var watchers = vm._computedWatchers = Object.create(null);\n  // computed properties are just getters during SSR\n  var isSSR = isServerRendering();\n\n  for (var key in computed) {\n    var userDef = computed[key];\n    var getter = typeof userDef === 'function' ? userDef : userDef.get;\n    if (process.env.NODE_ENV !== 'production' && getter == null) {\n      warn(\n        (\"Getter is missing for computed property \\\"\" + key + \"\\\".\"),\n        vm\n      );\n    }\n\n    if (!isSSR) {\n      // create internal watcher for the computed property.\n      watchers[key] = new Watcher(\n        vm,\n        getter || noop,\n        noop,\n        computedWatcherOptions\n      );\n    }\n\n    // component-defined computed properties are already defined on the\n    // component prototype. We only need to define computed properties defined\n    // at instantiation here.\n    if (!(key in vm)) {\n      defineComputed(vm, key, userDef);\n    } else if (process.env.NODE_ENV !== 'production') {\n      if (key in vm.$data) {\n        warn((\"The computed property \\\"\" + key + \"\\\" is already defined in data.\"), vm);\n      } else if (vm.$options.props && key in vm.$options.props) {\n        warn((\"The computed property \\\"\" + key + \"\\\" is already defined as a prop.\"), vm);\n      }\n    }\n  }\n}\n\nfunction defineComputed (\n  target,\n  key,\n  userDef\n) {\n  var shouldCache = !isServerRendering();\n  if (typeof userDef === 'function') {\n    sharedPropertyDefinition.get = shouldCache\n      ? createComputedGetter(key)\n      : createGetterInvoker(userDef);\n    sharedPropertyDefinition.set = noop;\n  } else {\n    sharedPropertyDefinition.get = userDef.get\n      ? shouldCache && userDef.cache !== false\n        ? createComputedGetter(key)\n        : createGetterInvoker(userDef.get)\n      : noop;\n    sharedPropertyDefinition.set = userDef.set || noop;\n  }\n  if (process.env.NODE_ENV !== 'production' &&\n      sharedPropertyDefinition.set === noop) {\n    sharedPropertyDefinition.set = function () {\n      warn(\n        (\"Computed property \\\"\" + key + \"\\\" was assigned to but it has no setter.\"),\n        this\n      );\n    };\n  }\n  Object.defineProperty(target, key, sharedPropertyDefinition);\n}\n\nfunction createComputedGetter (key) {\n  return function computedGetter () {\n    var watcher = this._computedWatchers && this._computedWatchers[key];\n    if (watcher) {\n      if (watcher.dirty) {\n        watcher.evaluate();\n      }\n      if (Dep.target) {\n        watcher.depend();\n      }\n      return watcher.value\n    }\n  }\n}\n\nfunction createGetterInvoker(fn) {\n  return function computedGetter () {\n    return fn.call(this, this)\n  }\n}\n\nfunction initMethods (vm, methods) {\n  var props = vm.$options.props;\n  for (var key in methods) {\n    if (process.env.NODE_ENV !== 'production') {\n      if (typeof methods[key] !== 'function') {\n        warn(\n          \"Method \\\"\" + key + \"\\\" has type \\\"\" + (typeof methods[key]) + \"\\\" in the component definition. \" +\n          \"Did you reference the function correctly?\",\n          vm\n        );\n      }\n      if (props && hasOwn(props, key)) {\n        warn(\n          (\"Method \\\"\" + key + \"\\\" has already been defined as a prop.\"),\n          vm\n        );\n      }\n      if ((key in vm) && isReserved(key)) {\n        warn(\n          \"Method \\\"\" + key + \"\\\" conflicts with an existing Vue instance method. \" +\n          \"Avoid defining component methods that start with _ or $.\"\n        );\n      }\n    }\n    vm[key] = typeof methods[key] !== 'function' ? noop : bind(methods[key], vm);\n  }\n}\n\nfunction initWatch (vm, watch) {\n  for (var key in watch) {\n    var handler = watch[key];\n    if (Array.isArray(handler)) {\n      for (var i = 0; i < handler.length; i++) {\n        createWatcher(vm, key, handler[i]);\n      }\n    } else {\n      createWatcher(vm, key, handler);\n    }\n  }\n}\n\nfunction createWatcher (\n  vm,\n  expOrFn,\n  handler,\n  options\n) {\n  if (isPlainObject(handler)) {\n    options = handler;\n    handler = handler.handler;\n  }\n  if (typeof handler === 'string') {\n    handler = vm[handler];\n  }\n  return vm.$watch(expOrFn, handler, options)\n}\n\nfunction stateMixin (Vue) {\n  // flow somehow has problems with directly declared definition object\n  // when using Object.defineProperty, so we have to procedurally build up\n  // the object here.\n  var dataDef = {};\n  dataDef.get = function () { return this._data };\n  var propsDef = {};\n  propsDef.get = function () { return this._props };\n  if (process.env.NODE_ENV !== 'production') {\n    dataDef.set = function () {\n      warn(\n        'Avoid replacing instance root $data. ' +\n        'Use nested data properties instead.',\n        this\n      );\n    };\n    propsDef.set = function () {\n      warn(\"$props is readonly.\", this);\n    };\n  }\n  Object.defineProperty(Vue.prototype, '$data', dataDef);\n  Object.defineProperty(Vue.prototype, '$props', propsDef);\n\n  Vue.prototype.$set = set;\n  Vue.prototype.$delete = del;\n\n  Vue.prototype.$watch = function (\n    expOrFn,\n    cb,\n    options\n  ) {\n    var vm = this;\n    if (isPlainObject(cb)) {\n      return createWatcher(vm, expOrFn, cb, options)\n    }\n    options = options || {};\n    options.user = true;\n    var watcher = new Watcher(vm, expOrFn, cb, options);\n    if (options.immediate) {\n      try {\n        cb.call(vm, watcher.value);\n      } catch (error) {\n        handleError(error, vm, (\"callback for immediate watcher \\\"\" + (watcher.expression) + \"\\\"\"));\n      }\n    }\n    return function unwatchFn () {\n      watcher.teardown();\n    }\n  };\n}\n\n/*  */\n\nvar uid$3 = 0;\n\nfunction initMixin (Vue) {\n  Vue.prototype._init = function (options) {\n    var vm = this;\n    // a uid\n    vm._uid = uid$3++;\n\n    var startTag, endTag;\n    /* istanbul ignore if */\n    if (process.env.NODE_ENV !== 'production' && config.performance && mark) {\n      startTag = \"vue-perf-start:\" + (vm._uid);\n      endTag = \"vue-perf-end:\" + (vm._uid);\n      mark(startTag);\n    }\n\n    // a flag to avoid this being observed\n    vm._isVue = true;\n    // merge options\n    if (options && options._isComponent) {\n      // optimize internal component instantiation\n      // since dynamic options merging is pretty slow, and none of the\n      // internal component options needs special treatment.\n      initInternalComponent(vm, options);\n    } else {\n      vm.$options = mergeOptions(\n        resolveConstructorOptions(vm.constructor),\n        options || {},\n        vm\n      );\n    }\n    /* istanbul ignore else */\n    if (process.env.NODE_ENV !== 'production') {\n      initProxy(vm);\n    } else {\n      vm._renderProxy = vm;\n    }\n    // expose real self\n    vm._self = vm;\n    initLifecycle(vm);\n    initEvents(vm);\n    initRender(vm);\n    callHook(vm, 'beforeCreate');\n    initInjections(vm); // resolve injections before data/props\n    initState(vm);\n    initProvide(vm); // resolve provide after data/props\n    callHook(vm, 'created');\n\n    /* istanbul ignore if */\n    if (process.env.NODE_ENV !== 'production' && config.performance && mark) {\n      vm._name = formatComponentName(vm, false);\n      mark(endTag);\n      measure((\"vue \" + (vm._name) + \" init\"), startTag, endTag);\n    }\n\n    if (vm.$options.el) {\n      vm.$mount(vm.$options.el);\n    }\n  };\n}\n\nfunction initInternalComponent (vm, options) {\n  var opts = vm.$options = Object.create(vm.constructor.options);\n  // doing this because it's faster than dynamic enumeration.\n  var parentVnode = options._parentVnode;\n  opts.parent = options.parent;\n  opts._parentVnode = parentVnode;\n\n  var vnodeComponentOptions = parentVnode.componentOptions;\n  opts.propsData = vnodeComponentOptions.propsData;\n  opts._parentListeners = vnodeComponentOptions.listeners;\n  opts._renderChildren = vnodeComponentOptions.children;\n  opts._componentTag = vnodeComponentOptions.tag;\n\n  if (options.render) {\n    opts.render = options.render;\n    opts.staticRenderFns = options.staticRenderFns;\n  }\n}\n\nfunction resolveConstructorOptions (Ctor) {\n  var options = Ctor.options;\n  if (Ctor.super) {\n    var superOptions = resolveConstructorOptions(Ctor.super);\n    var cachedSuperOptions = Ctor.superOptions;\n    if (superOptions !== cachedSuperOptions) {\n      // super option changed,\n      // need to resolve new options.\n      Ctor.superOptions = superOptions;\n      // check if there are any late-modified/attached options (#4976)\n      var modifiedOptions = resolveModifiedOptions(Ctor);\n      // update base extend options\n      if (modifiedOptions) {\n        extend(Ctor.extendOptions, modifiedOptions);\n      }\n      options = Ctor.options = mergeOptions(superOptions, Ctor.extendOptions);\n      if (options.name) {\n        options.components[options.name] = Ctor;\n      }\n    }\n  }\n  return options\n}\n\nfunction resolveModifiedOptions (Ctor) {\n  var modified;\n  var latest = Ctor.options;\n  var sealed = Ctor.sealedOptions;\n  for (var key in latest) {\n    if (latest[key] !== sealed[key]) {\n      if (!modified) { modified = {}; }\n      modified[key] = latest[key];\n    }\n  }\n  return modified\n}\n\nfunction Vue (options) {\n  if (process.env.NODE_ENV !== 'production' &&\n    !(this instanceof Vue)\n  ) {\n    warn('Vue is a constructor and should be called with the `new` keyword');\n  }\n  this._init(options);\n}\n\ninitMixin(Vue);\nstateMixin(Vue);\neventsMixin(Vue);\nlifecycleMixin(Vue);\nrenderMixin(Vue);\n\n/*  */\n\nfunction initUse (Vue) {\n  Vue.use = function (plugin) {\n    var installedPlugins = (this._installedPlugins || (this._installedPlugins = []));\n    if (installedPlugins.indexOf(plugin) > -1) {\n      return this\n    }\n\n    // additional parameters\n    var args = toArray(arguments, 1);\n    args.unshift(this);\n    if (typeof plugin.install === 'function') {\n      plugin.install.apply(plugin, args);\n    } else if (typeof plugin === 'function') {\n      plugin.apply(null, args);\n    }\n    installedPlugins.push(plugin);\n    return this\n  };\n}\n\n/*  */\n\nfunction initMixin$1 (Vue) {\n  Vue.mixin = function (mixin) {\n    this.options = mergeOptions(this.options, mixin);\n    return this\n  };\n}\n\n/*  */\n\nfunction initExtend (Vue) {\n  /**\n   * Each instance constructor, including Vue, has a unique\n   * cid. This enables us to create wrapped \"child\n   * constructors\" for prototypal inheritance and cache them.\n   */\n  Vue.cid = 0;\n  var cid = 1;\n\n  /**\n   * Class inheritance\n   */\n  Vue.extend = function (extendOptions) {\n    extendOptions = extendOptions || {};\n    var Super = this;\n    var SuperId = Super.cid;\n    var cachedCtors = extendOptions._Ctor || (extendOptions._Ctor = {});\n    if (cachedCtors[SuperId]) {\n      return cachedCtors[SuperId]\n    }\n\n    var name = extendOptions.name || Super.options.name;\n    if (process.env.NODE_ENV !== 'production' && name) {\n      validateComponentName(name);\n    }\n\n    var Sub = function VueComponent (options) {\n      this._init(options);\n    };\n    Sub.prototype = Object.create(Super.prototype);\n    Sub.prototype.constructor = Sub;\n    Sub.cid = cid++;\n    Sub.options = mergeOptions(\n      Super.options,\n      extendOptions\n    );\n    Sub['super'] = Super;\n\n    // For props and computed properties, we define the proxy getters on\n    // the Vue instances at extension time, on the extended prototype. This\n    // avoids Object.defineProperty calls for each instance created.\n    if (Sub.options.props) {\n      initProps$1(Sub);\n    }\n    if (Sub.options.computed) {\n      initComputed$1(Sub);\n    }\n\n    // allow further extension/mixin/plugin usage\n    Sub.extend = Super.extend;\n    Sub.mixin = Super.mixin;\n    Sub.use = Super.use;\n\n    // create asset registers, so extended classes\n    // can have their private assets too.\n    ASSET_TYPES.forEach(function (type) {\n      Sub[type] = Super[type];\n    });\n    // enable recursive self-lookup\n    if (name) {\n      Sub.options.components[name] = Sub;\n    }\n\n    // keep a reference to the super options at extension time.\n    // later at instantiation we can check if Super's options have\n    // been updated.\n    Sub.superOptions = Super.options;\n    Sub.extendOptions = extendOptions;\n    Sub.sealedOptions = extend({}, Sub.options);\n\n    // cache constructor\n    cachedCtors[SuperId] = Sub;\n    return Sub\n  };\n}\n\nfunction initProps$1 (Comp) {\n  var props = Comp.options.props;\n  for (var key in props) {\n    proxy(Comp.prototype, \"_props\", key);\n  }\n}\n\nfunction initComputed$1 (Comp) {\n  var computed = Comp.options.computed;\n  for (var key in computed) {\n    defineComputed(Comp.prototype, key, computed[key]);\n  }\n}\n\n/*  */\n\nfunction initAssetRegisters (Vue) {\n  /**\n   * Create asset registration methods.\n   */\n  ASSET_TYPES.forEach(function (type) {\n    Vue[type] = function (\n      id,\n      definition\n    ) {\n      if (!definition) {\n        return this.options[type + 's'][id]\n      } else {\n        /* istanbul ignore if */\n        if (process.env.NODE_ENV !== 'production' && type === 'component') {\n          validateComponentName(id);\n        }\n        if (type === 'component' && isPlainObject(definition)) {\n          definition.name = definition.name || id;\n          definition = this.options._base.extend(definition);\n        }\n        if (type === 'directive' && typeof definition === 'function') {\n          definition = { bind: definition, update: definition };\n        }\n        this.options[type + 's'][id] = definition;\n        return definition\n      }\n    };\n  });\n}\n\n/*  */\n\n\n\nfunction getComponentName (opts) {\n  return opts && (opts.Ctor.options.name || opts.tag)\n}\n\nfunction matches (pattern, name) {\n  if (Array.isArray(pattern)) {\n    return pattern.indexOf(name) > -1\n  } else if (typeof pattern === 'string') {\n    return pattern.split(',').indexOf(name) > -1\n  } else if (isRegExp(pattern)) {\n    return pattern.test(name)\n  }\n  /* istanbul ignore next */\n  return false\n}\n\nfunction pruneCache (keepAliveInstance, filter) {\n  var cache = keepAliveInstance.cache;\n  var keys = keepAliveInstance.keys;\n  var _vnode = keepAliveInstance._vnode;\n  for (var key in cache) {\n    var cachedNode = cache[key];\n    if (cachedNode) {\n      var name = getComponentName(cachedNode.componentOptions);\n      if (name && !filter(name)) {\n        pruneCacheEntry(cache, key, keys, _vnode);\n      }\n    }\n  }\n}\n\nfunction pruneCacheEntry (\n  cache,\n  key,\n  keys,\n  current\n) {\n  var cached$$1 = cache[key];\n  if (cached$$1 && (!current || cached$$1.tag !== current.tag)) {\n    cached$$1.componentInstance.$destroy();\n  }\n  cache[key] = null;\n  remove(keys, key);\n}\n\nvar patternTypes = [String, RegExp, Array];\n\nvar KeepAlive = {\n  name: 'keep-alive',\n  abstract: true,\n\n  props: {\n    include: patternTypes,\n    exclude: patternTypes,\n    max: [String, Number]\n  },\n\n  created: function created () {\n    this.cache = Object.create(null);\n    this.keys = [];\n  },\n\n  destroyed: function destroyed () {\n    for (var key in this.cache) {\n      pruneCacheEntry(this.cache, key, this.keys);\n    }\n  },\n\n  mounted: function mounted () {\n    var this$1 = this;\n\n    this.$watch('include', function (val) {\n      pruneCache(this$1, function (name) { return matches(val, name); });\n    });\n    this.$watch('exclude', function (val) {\n      pruneCache(this$1, function (name) { return !matches(val, name); });\n    });\n  },\n\n  render: function render () {\n    var slot = this.$slots.default;\n    var vnode = getFirstComponentChild(slot);\n    var componentOptions = vnode && vnode.componentOptions;\n    if (componentOptions) {\n      // check pattern\n      var name = getComponentName(componentOptions);\n      var ref = this;\n      var include = ref.include;\n      var exclude = ref.exclude;\n      if (\n        // not included\n        (include && (!name || !matches(include, name))) ||\n        // excluded\n        (exclude && name && matches(exclude, name))\n      ) {\n        return vnode\n      }\n\n      var ref$1 = this;\n      var cache = ref$1.cache;\n      var keys = ref$1.keys;\n      var key = vnode.key == null\n        // same constructor may get registered as different local components\n        // so cid alone is not enough (#3269)\n        ? componentOptions.Ctor.cid + (componentOptions.tag ? (\"::\" + (componentOptions.tag)) : '')\n        : vnode.key;\n      if (cache[key]) {\n        vnode.componentInstance = cache[key].componentInstance;\n        // make current key freshest\n        remove(keys, key);\n        keys.push(key);\n      } else {\n        cache[key] = vnode;\n        keys.push(key);\n        // prune oldest entry\n        if (this.max && keys.length > parseInt(this.max)) {\n          pruneCacheEntry(cache, keys[0], keys, this._vnode);\n        }\n      }\n\n      vnode.data.keepAlive = true;\n    }\n    return vnode || (slot && slot[0])\n  }\n};\n\nvar builtInComponents = {\n  KeepAlive: KeepAlive\n};\n\n/*  */\n\nfunction initGlobalAPI (Vue) {\n  // config\n  var configDef = {};\n  configDef.get = function () { return config; };\n  if (process.env.NODE_ENV !== 'production') {\n    configDef.set = function () {\n      warn(\n        'Do not replace the Vue.config object, set individual fields instead.'\n      );\n    };\n  }\n  Object.defineProperty(Vue, 'config', configDef);\n\n  // exposed util methods.\n  // NOTE: these are not considered part of the public API - avoid relying on\n  // them unless you are aware of the risk.\n  Vue.util = {\n    warn: warn,\n    extend: extend,\n    mergeOptions: mergeOptions,\n    defineReactive: defineReactive$$1\n  };\n\n  Vue.set = set;\n  Vue.delete = del;\n  Vue.nextTick = nextTick;\n\n  // 2.6 explicit observable API\n  Vue.observable = function (obj) {\n    observe(obj);\n    return obj\n  };\n\n  Vue.options = Object.create(null);\n  ASSET_TYPES.forEach(function (type) {\n    Vue.options[type + 's'] = Object.create(null);\n  });\n\n  // this is used to identify the \"base\" constructor to extend all plain-object\n  // components with in Weex's multi-instance scenarios.\n  Vue.options._base = Vue;\n\n  extend(Vue.options.components, builtInComponents);\n\n  initUse(Vue);\n  initMixin$1(Vue);\n  initExtend(Vue);\n  initAssetRegisters(Vue);\n}\n\ninitGlobalAPI(Vue);\n\nObject.defineProperty(Vue.prototype, '$isServer', {\n  get: isServerRendering\n});\n\nObject.defineProperty(Vue.prototype, '$ssrContext', {\n  get: function get () {\n    /* istanbul ignore next */\n    return this.$vnode && this.$vnode.ssrContext\n  }\n});\n\n// expose FunctionalRenderContext for ssr runtime helper installation\nObject.defineProperty(Vue, 'FunctionalRenderContext', {\n  value: FunctionalRenderContext\n});\n\nVue.version = '2.6.12';\n\n/*  */\n\n// these are reserved for web because they are directly compiled away\n// during template compilation\nvar isReservedAttr = makeMap('style,class');\n\n// attributes that should be using props for binding\nvar acceptValue = makeMap('input,textarea,option,select,progress');\nvar mustUseProp = function (tag, type, attr) {\n  return (\n    (attr === 'value' && acceptValue(tag)) && type !== 'button' ||\n    (attr === 'selected' && tag === 'option') ||\n    (attr === 'checked' && tag === 'input') ||\n    (attr === 'muted' && tag === 'video')\n  )\n};\n\nvar isEnumeratedAttr = makeMap('contenteditable,draggable,spellcheck');\n\nvar isValidContentEditableValue = makeMap('events,caret,typing,plaintext-only');\n\nvar convertEnumeratedValue = function (key, value) {\n  return isFalsyAttrValue(value) || value === 'false'\n    ? 'false'\n    // allow arbitrary string value for contenteditable\n    : key === 'contenteditable' && isValidContentEditableValue(value)\n      ? value\n      : 'true'\n};\n\nvar isBooleanAttr = makeMap(\n  'allowfullscreen,async,autofocus,autoplay,checked,compact,controls,declare,' +\n  'default,defaultchecked,defaultmuted,defaultselected,defer,disabled,' +\n  'enabled,formnovalidate,hidden,indeterminate,inert,ismap,itemscope,loop,multiple,' +\n  'muted,nohref,noresize,noshade,novalidate,nowrap,open,pauseonexit,readonly,' +\n  'required,reversed,scoped,seamless,selected,sortable,translate,' +\n  'truespeed,typemustmatch,visible'\n);\n\nvar xlinkNS = 'http://www.w3.org/1999/xlink';\n\nvar isXlink = function (name) {\n  return name.charAt(5) === ':' && name.slice(0, 5) === 'xlink'\n};\n\nvar getXlinkProp = function (name) {\n  return isXlink(name) ? name.slice(6, name.length) : ''\n};\n\nvar isFalsyAttrValue = function (val) {\n  return val == null || val === false\n};\n\n/*  */\n\nfunction genClassForVnode (vnode) {\n  var data = vnode.data;\n  var parentNode = vnode;\n  var childNode = vnode;\n  while (isDef(childNode.componentInstance)) {\n    childNode = childNode.componentInstance._vnode;\n    if (childNode && childNode.data) {\n      data = mergeClassData(childNode.data, data);\n    }\n  }\n  while (isDef(parentNode = parentNode.parent)) {\n    if (parentNode && parentNode.data) {\n      data = mergeClassData(data, parentNode.data);\n    }\n  }\n  return renderClass(data.staticClass, data.class)\n}\n\nfunction mergeClassData (child, parent) {\n  return {\n    staticClass: concat(child.staticClass, parent.staticClass),\n    class: isDef(child.class)\n      ? [child.class, parent.class]\n      : parent.class\n  }\n}\n\nfunction renderClass (\n  staticClass,\n  dynamicClass\n) {\n  if (isDef(staticClass) || isDef(dynamicClass)) {\n    return concat(staticClass, stringifyClass(dynamicClass))\n  }\n  /* istanbul ignore next */\n  return ''\n}\n\nfunction concat (a, b) {\n  return a ? b ? (a + ' ' + b) : a : (b || '')\n}\n\nfunction stringifyClass (value) {\n  if (Array.isArray(value)) {\n    return stringifyArray(value)\n  }\n  if (isObject(value)) {\n    return stringifyObject(value)\n  }\n  if (typeof value === 'string') {\n    return value\n  }\n  /* istanbul ignore next */\n  return ''\n}\n\nfunction stringifyArray (value) {\n  var res = '';\n  var stringified;\n  for (var i = 0, l = value.length; i < l; i++) {\n    if (isDef(stringified = stringifyClass(value[i])) && stringified !== '') {\n      if (res) { res += ' '; }\n      res += stringified;\n    }\n  }\n  return res\n}\n\nfunction stringifyObject (value) {\n  var res = '';\n  for (var key in value) {\n    if (value[key]) {\n      if (res) { res += ' '; }\n      res += key;\n    }\n  }\n  return res\n}\n\n/*  */\n\nvar namespaceMap = {\n  svg: 'http://www.w3.org/2000/svg',\n  math: 'http://www.w3.org/1998/Math/MathML'\n};\n\nvar isHTMLTag = makeMap(\n  'html,body,base,head,link,meta,style,title,' +\n  'address,article,aside,footer,header,h1,h2,h3,h4,h5,h6,hgroup,nav,section,' +\n  'div,dd,dl,dt,figcaption,figure,picture,hr,img,li,main,ol,p,pre,ul,' +\n  'a,b,abbr,bdi,bdo,br,cite,code,data,dfn,em,i,kbd,mark,q,rp,rt,rtc,ruby,' +\n  's,samp,small,span,strong,sub,sup,time,u,var,wbr,area,audio,map,track,video,' +\n  'embed,object,param,source,canvas,script,noscript,del,ins,' +\n  'caption,col,colgroup,table,thead,tbody,td,th,tr,' +\n  'button,datalist,fieldset,form,input,label,legend,meter,optgroup,option,' +\n  'output,progress,select,textarea,' +\n  'details,dialog,menu,menuitem,summary,' +\n  'content,element,shadow,template,blockquote,iframe,tfoot'\n);\n\n// this map is intentionally selective, only covering SVG elements that may\n// contain child elements.\nvar isSVG = makeMap(\n  'svg,animate,circle,clippath,cursor,defs,desc,ellipse,filter,font-face,' +\n  'foreignObject,g,glyph,image,line,marker,mask,missing-glyph,path,pattern,' +\n  'polygon,polyline,rect,switch,symbol,text,textpath,tspan,use,view',\n  true\n);\n\nvar isReservedTag = function (tag) {\n  return isHTMLTag(tag) || isSVG(tag)\n};\n\nfunction getTagNamespace (tag) {\n  if (isSVG(tag)) {\n    return 'svg'\n  }\n  // basic support for MathML\n  // note it doesn't support other MathML elements being component roots\n  if (tag === 'math') {\n    return 'math'\n  }\n}\n\nvar unknownElementCache = Object.create(null);\nfunction isUnknownElement (tag) {\n  /* istanbul ignore if */\n  if (!inBrowser) {\n    return true\n  }\n  if (isReservedTag(tag)) {\n    return false\n  }\n  tag = tag.toLowerCase();\n  /* istanbul ignore if */\n  if (unknownElementCache[tag] != null) {\n    return unknownElementCache[tag]\n  }\n  var el = document.createElement(tag);\n  if (tag.indexOf('-') > -1) {\n    // http://stackoverflow.com/a/28210364/1070244\n    return (unknownElementCache[tag] = (\n      el.constructor === window.HTMLUnknownElement ||\n      el.constructor === window.HTMLElement\n    ))\n  } else {\n    return (unknownElementCache[tag] = /HTMLUnknownElement/.test(el.toString()))\n  }\n}\n\nvar isTextInputType = makeMap('text,number,password,search,email,tel,url');\n\n/*  */\n\n/**\n * Query an element selector if it's not an element already.\n */\nfunction query (el) {\n  if (typeof el === 'string') {\n    var selected = document.querySelector(el);\n    if (!selected) {\n      process.env.NODE_ENV !== 'production' && warn(\n        'Cannot find element: ' + el\n      );\n      return document.createElement('div')\n    }\n    return selected\n  } else {\n    return el\n  }\n}\n\n/*  */\n\nfunction createElement$1 (tagName, vnode) {\n  var elm = document.createElement(tagName);\n  if (tagName !== 'select') {\n    return elm\n  }\n  // false or null will remove the attribute but undefined will not\n  if (vnode.data && vnode.data.attrs && vnode.data.attrs.multiple !== undefined) {\n    elm.setAttribute('multiple', 'multiple');\n  }\n  return elm\n}\n\nfunction createElementNS (namespace, tagName) {\n  return document.createElementNS(namespaceMap[namespace], tagName)\n}\n\nfunction createTextNode (text) {\n  return document.createTextNode(text)\n}\n\nfunction createComment (text) {\n  return document.createComment(text)\n}\n\nfunction insertBefore (parentNode, newNode, referenceNode) {\n  parentNode.insertBefore(newNode, referenceNode);\n}\n\nfunction removeChild (node, child) {\n  node.removeChild(child);\n}\n\nfunction appendChild (node, child) {\n  node.appendChild(child);\n}\n\nfunction parentNode (node) {\n  return node.parentNode\n}\n\nfunction nextSibling (node) {\n  return node.nextSibling\n}\n\nfunction tagName (node) {\n  return node.tagName\n}\n\nfunction setTextContent (node, text) {\n  node.textContent = text;\n}\n\nfunction setStyleScope (node, scopeId) {\n  node.setAttribute(scopeId, '');\n}\n\nvar nodeOps = /*#__PURE__*/Object.freeze({\n  createElement: createElement$1,\n  createElementNS: createElementNS,\n  createTextNode: createTextNode,\n  createComment: createComment,\n  insertBefore: insertBefore,\n  removeChild: removeChild,\n  appendChild: appendChild,\n  parentNode: parentNode,\n  nextSibling: nextSibling,\n  tagName: tagName,\n  setTextContent: setTextContent,\n  setStyleScope: setStyleScope\n});\n\n/*  */\n\nvar ref = {\n  create: function create (_, vnode) {\n    registerRef(vnode);\n  },\n  update: function update (oldVnode, vnode) {\n    if (oldVnode.data.ref !== vnode.data.ref) {\n      registerRef(oldVnode, true);\n      registerRef(vnode);\n    }\n  },\n  destroy: function destroy (vnode) {\n    registerRef(vnode, true);\n  }\n};\n\nfunction registerRef (vnode, isRemoval) {\n  var key = vnode.data.ref;\n  if (!isDef(key)) { return }\n\n  var vm = vnode.context;\n  var ref = vnode.componentInstance || vnode.elm;\n  var refs = vm.$refs;\n  if (isRemoval) {\n    if (Array.isArray(refs[key])) {\n      remove(refs[key], ref);\n    } else if (refs[key] === ref) {\n      refs[key] = undefined;\n    }\n  } else {\n    if (vnode.data.refInFor) {\n      if (!Array.isArray(refs[key])) {\n        refs[key] = [ref];\n      } else if (refs[key].indexOf(ref) < 0) {\n        // $flow-disable-line\n        refs[key].push(ref);\n      }\n    } else {\n      refs[key] = ref;\n    }\n  }\n}\n\n/**\n * Virtual DOM patching algorithm based on Snabbdom by\n * Simon Friis Vindum (@paldepind)\n * Licensed under the MIT License\n * https://github.com/paldepind/snabbdom/blob/master/LICENSE\n *\n * modified by Evan You (@yyx990803)\n *\n * Not type-checking this because this file is perf-critical and the cost\n * of making flow understand it is not worth it.\n */\n\nvar emptyNode = new VNode('', {}, []);\n\nvar hooks = ['create', 'activate', 'update', 'remove', 'destroy'];\n\nfunction sameVnode (a, b) {\n  return (\n    a.key === b.key && (\n      (\n        a.tag === b.tag &&\n        a.isComment === b.isComment &&\n        isDef(a.data) === isDef(b.data) &&\n        sameInputType(a, b)\n      ) || (\n        isTrue(a.isAsyncPlaceholder) &&\n        a.asyncFactory === b.asyncFactory &&\n        isUndef(b.asyncFactory.error)\n      )\n    )\n  )\n}\n\nfunction sameInputType (a, b) {\n  if (a.tag !== 'input') { return true }\n  var i;\n  var typeA = isDef(i = a.data) && isDef(i = i.attrs) && i.type;\n  var typeB = isDef(i = b.data) && isDef(i = i.attrs) && i.type;\n  return typeA === typeB || isTextInputType(typeA) && isTextInputType(typeB)\n}\n\nfunction createKeyToOldIdx (children, beginIdx, endIdx) {\n  var i, key;\n  var map = {};\n  for (i = beginIdx; i <= endIdx; ++i) {\n    key = children[i].key;\n    if (isDef(key)) { map[key] = i; }\n  }\n  return map\n}\n\nfunction createPatchFunction (backend) {\n  var i, j;\n  var cbs = {};\n\n  var modules = backend.modules;\n  var nodeOps = backend.nodeOps;\n\n  for (i = 0; i < hooks.length; ++i) {\n    cbs[hooks[i]] = [];\n    for (j = 0; j < modules.length; ++j) {\n      if (isDef(modules[j][hooks[i]])) {\n        cbs[hooks[i]].push(modules[j][hooks[i]]);\n      }\n    }\n  }\n\n  function emptyNodeAt (elm) {\n    return new VNode(nodeOps.tagName(elm).toLowerCase(), {}, [], undefined, elm)\n  }\n\n  function createRmCb (childElm, listeners) {\n    function remove$$1 () {\n      if (--remove$$1.listeners === 0) {\n        removeNode(childElm);\n      }\n    }\n    remove$$1.listeners = listeners;\n    return remove$$1\n  }\n\n  function removeNode (el) {\n    var parent = nodeOps.parentNode(el);\n    // element may have already been removed due to v-html / v-text\n    if (isDef(parent)) {\n      nodeOps.removeChild(parent, el);\n    }\n  }\n\n  function isUnknownElement$$1 (vnode, inVPre) {\n    return (\n      !inVPre &&\n      !vnode.ns &&\n      !(\n        config.ignoredElements.length &&\n        config.ignoredElements.some(function (ignore) {\n          return isRegExp(ignore)\n            ? ignore.test(vnode.tag)\n            : ignore === vnode.tag\n        })\n      ) &&\n      config.isUnknownElement(vnode.tag)\n    )\n  }\n\n  var creatingElmInVPre = 0;\n\n  function createElm (\n    vnode,\n    insertedVnodeQueue,\n    parentElm,\n    refElm,\n    nested,\n    ownerArray,\n    index\n  ) {\n    if (isDef(vnode.elm) && isDef(ownerArray)) {\n      // This vnode was used in a previous render!\n      // now it's used as a new node, overwriting its elm would cause\n      // potential patch errors down the road when it's used as an insertion\n      // reference node. Instead, we clone the node on-demand before creating\n      // associated DOM element for it.\n      vnode = ownerArray[index] = cloneVNode(vnode);\n    }\n\n    vnode.isRootInsert = !nested; // for transition enter check\n    if (createComponent(vnode, insertedVnodeQueue, parentElm, refElm)) {\n      return\n    }\n\n    var data = vnode.data;\n    var children = vnode.children;\n    var tag = vnode.tag;\n    if (isDef(tag)) {\n      if (process.env.NODE_ENV !== 'production') {\n        if (data && data.pre) {\n          creatingElmInVPre++;\n        }\n        if (isUnknownElement$$1(vnode, creatingElmInVPre)) {\n          warn(\n            'Unknown custom element: <' + tag + '> - did you ' +\n            'register the component correctly? For recursive components, ' +\n            'make sure to provide the \"name\" option.',\n            vnode.context\n          );\n        }\n      }\n\n      vnode.elm = vnode.ns\n        ? nodeOps.createElementNS(vnode.ns, tag)\n        : nodeOps.createElement(tag, vnode);\n      setScope(vnode);\n\n      /* istanbul ignore if */\n      {\n        createChildren(vnode, children, insertedVnodeQueue);\n        if (isDef(data)) {\n          invokeCreateHooks(vnode, insertedVnodeQueue);\n        }\n        insert(parentElm, vnode.elm, refElm);\n      }\n\n      if (process.env.NODE_ENV !== 'production' && data && data.pre) {\n        creatingElmInVPre--;\n      }\n    } else if (isTrue(vnode.isComment)) {\n      vnode.elm = nodeOps.createComment(vnode.text);\n      insert(parentElm, vnode.elm, refElm);\n    } else {\n      vnode.elm = nodeOps.createTextNode(vnode.text);\n      insert(parentElm, vnode.elm, refElm);\n    }\n  }\n\n  function createComponent (vnode, insertedVnodeQueue, parentElm, refElm) {\n    var i = vnode.data;\n    if (isDef(i)) {\n      var isReactivated = isDef(vnode.componentInstance) && i.keepAlive;\n      if (isDef(i = i.hook) && isDef(i = i.init)) {\n        i(vnode, false /* hydrating */);\n      }\n      // after calling the init hook, if the vnode is a child component\n      // it should've created a child instance and mounted it. the child\n      // component also has set the placeholder vnode's elm.\n      // in that case we can just return the element and be done.\n      if (isDef(vnode.componentInstance)) {\n        initComponent(vnode, insertedVnodeQueue);\n        insert(parentElm, vnode.elm, refElm);\n        if (isTrue(isReactivated)) {\n          reactivateComponent(vnode, insertedVnodeQueue, parentElm, refElm);\n        }\n        return true\n      }\n    }\n  }\n\n  function initComponent (vnode, insertedVnodeQueue) {\n    if (isDef(vnode.data.pendingInsert)) {\n      insertedVnodeQueue.push.apply(insertedVnodeQueue, vnode.data.pendingInsert);\n      vnode.data.pendingInsert = null;\n    }\n    vnode.elm = vnode.componentInstance.$el;\n    if (isPatchable(vnode)) {\n      invokeCreateHooks(vnode, insertedVnodeQueue);\n      setScope(vnode);\n    } else {\n      // empty component root.\n      // skip all element-related modules except for ref (#3455)\n      registerRef(vnode);\n      // make sure to invoke the insert hook\n      insertedVnodeQueue.push(vnode);\n    }\n  }\n\n  function reactivateComponent (vnode, insertedVnodeQueue, parentElm, refElm) {\n    var i;\n    // hack for #4339: a reactivated component with inner transition\n    // does not trigger because the inner node's created hooks are not called\n    // again. It's not ideal to involve module-specific logic in here but\n    // there doesn't seem to be a better way to do it.\n    var innerNode = vnode;\n    while (innerNode.componentInstance) {\n      innerNode = innerNode.componentInstance._vnode;\n      if (isDef(i = innerNode.data) && isDef(i = i.transition)) {\n        for (i = 0; i < cbs.activate.length; ++i) {\n          cbs.activate[i](emptyNode, innerNode);\n        }\n        insertedVnodeQueue.push(innerNode);\n        break\n      }\n    }\n    // unlike a newly created component,\n    // a reactivated keep-alive component doesn't insert itself\n    insert(parentElm, vnode.elm, refElm);\n  }\n\n  function insert (parent, elm, ref$$1) {\n    if (isDef(parent)) {\n      if (isDef(ref$$1)) {\n        if (nodeOps.parentNode(ref$$1) === parent) {\n          nodeOps.insertBefore(parent, elm, ref$$1);\n        }\n      } else {\n        nodeOps.appendChild(parent, elm);\n      }\n    }\n  }\n\n  function createChildren (vnode, children, insertedVnodeQueue) {\n    if (Array.isArray(children)) {\n      if (process.env.NODE_ENV !== 'production') {\n        checkDuplicateKeys(children);\n      }\n      for (var i = 0; i < children.length; ++i) {\n        createElm(children[i], insertedVnodeQueue, vnode.elm, null, true, children, i);\n      }\n    } else if (isPrimitive(vnode.text)) {\n      nodeOps.appendChild(vnode.elm, nodeOps.createTextNode(String(vnode.text)));\n    }\n  }\n\n  function isPatchable (vnode) {\n    while (vnode.componentInstance) {\n      vnode = vnode.componentInstance._vnode;\n    }\n    return isDef(vnode.tag)\n  }\n\n  function invokeCreateHooks (vnode, insertedVnodeQueue) {\n    for (var i$1 = 0; i$1 < cbs.create.length; ++i$1) {\n      cbs.create[i$1](emptyNode, vnode);\n    }\n    i = vnode.data.hook; // Reuse variable\n    if (isDef(i)) {\n      if (isDef(i.create)) { i.create(emptyNode, vnode); }\n      if (isDef(i.insert)) { insertedVnodeQueue.push(vnode); }\n    }\n  }\n\n  // set scope id attribute for scoped CSS.\n  // this is implemented as a special case to avoid the overhead\n  // of going through the normal attribute patching process.\n  function setScope (vnode) {\n    var i;\n    if (isDef(i = vnode.fnScopeId)) {\n      nodeOps.setStyleScope(vnode.elm, i);\n    } else {\n      var ancestor = vnode;\n      while (ancestor) {\n        if (isDef(i = ancestor.context) && isDef(i = i.$options._scopeId)) {\n          nodeOps.setStyleScope(vnode.elm, i);\n        }\n        ancestor = ancestor.parent;\n      }\n    }\n    // for slot content they should also get the scopeId from the host instance.\n    if (isDef(i = activeInstance) &&\n      i !== vnode.context &&\n      i !== vnode.fnContext &&\n      isDef(i = i.$options._scopeId)\n    ) {\n      nodeOps.setStyleScope(vnode.elm, i);\n    }\n  }\n\n  function addVnodes (parentElm, refElm, vnodes, startIdx, endIdx, insertedVnodeQueue) {\n    for (; startIdx <= endIdx; ++startIdx) {\n      createElm(vnodes[startIdx], insertedVnodeQueue, parentElm, refElm, false, vnodes, startIdx);\n    }\n  }\n\n  function invokeDestroyHook (vnode) {\n    var i, j;\n    var data = vnode.data;\n    if (isDef(data)) {\n      if (isDef(i = data.hook) && isDef(i = i.destroy)) { i(vnode); }\n      for (i = 0; i < cbs.destroy.length; ++i) { cbs.destroy[i](vnode); }\n    }\n    if (isDef(i = vnode.children)) {\n      for (j = 0; j < vnode.children.length; ++j) {\n        invokeDestroyHook(vnode.children[j]);\n      }\n    }\n  }\n\n  function removeVnodes (vnodes, startIdx, endIdx) {\n    for (; startIdx <= endIdx; ++startIdx) {\n      var ch = vnodes[startIdx];\n      if (isDef(ch)) {\n        if (isDef(ch.tag)) {\n          removeAndInvokeRemoveHook(ch);\n          invokeDestroyHook(ch);\n        } else { // Text node\n          removeNode(ch.elm);\n        }\n      }\n    }\n  }\n\n  function removeAndInvokeRemoveHook (vnode, rm) {\n    if (isDef(rm) || isDef(vnode.data)) {\n      var i;\n      var listeners = cbs.remove.length + 1;\n      if (isDef(rm)) {\n        // we have a recursively passed down rm callback\n        // increase the listeners count\n        rm.listeners += listeners;\n      } else {\n        // directly removing\n        rm = createRmCb(vnode.elm, listeners);\n      }\n      // recursively invoke hooks on child component root node\n      if (isDef(i = vnode.componentInstance) && isDef(i = i._vnode) && isDef(i.data)) {\n        removeAndInvokeRemoveHook(i, rm);\n      }\n      for (i = 0; i < cbs.remove.length; ++i) {\n        cbs.remove[i](vnode, rm);\n      }\n      if (isDef(i = vnode.data.hook) && isDef(i = i.remove)) {\n        i(vnode, rm);\n      } else {\n        rm();\n      }\n    } else {\n      removeNode(vnode.elm);\n    }\n  }\n\n  function updateChildren (parentElm, oldCh, newCh, insertedVnodeQueue, removeOnly) {\n    var oldStartIdx = 0;\n    var newStartIdx = 0;\n    var oldEndIdx = oldCh.length - 1;\n    var oldStartVnode = oldCh[0];\n    var oldEndVnode = oldCh[oldEndIdx];\n    var newEndIdx = newCh.length - 1;\n    var newStartVnode = newCh[0];\n    var newEndVnode = newCh[newEndIdx];\n    var oldKeyToIdx, idxInOld, vnodeToMove, refElm;\n\n    // removeOnly is a special flag used only by <transition-group>\n    // to ensure removed elements stay in correct relative positions\n    // during leaving transitions\n    var canMove = !removeOnly;\n\n    if (process.env.NODE_ENV !== 'production') {\n      checkDuplicateKeys(newCh);\n    }\n\n    while (oldStartIdx <= oldEndIdx && newStartIdx <= newEndIdx) {\n      if (isUndef(oldStartVnode)) {\n        oldStartVnode = oldCh[++oldStartIdx]; // Vnode has been moved left\n      } else if (isUndef(oldEndVnode)) {\n        oldEndVnode = oldCh[--oldEndIdx];\n      } else if (sameVnode(oldStartVnode, newStartVnode)) {\n        patchVnode(oldStartVnode, newStartVnode, insertedVnodeQueue, newCh, newStartIdx);\n        oldStartVnode = oldCh[++oldStartIdx];\n        newStartVnode = newCh[++newStartIdx];\n      } else if (sameVnode(oldEndVnode, newEndVnode)) {\n        patchVnode(oldEndVnode, newEndVnode, insertedVnodeQueue, newCh, newEndIdx);\n        oldEndVnode = oldCh[--oldEndIdx];\n        newEndVnode = newCh[--newEndIdx];\n      } else if (sameVnode(oldStartVnode, newEndVnode)) { // Vnode moved right\n        patchVnode(oldStartVnode, newEndVnode, insertedVnodeQueue, newCh, newEndIdx);\n        canMove && nodeOps.insertBefore(parentElm, oldStartVnode.elm, nodeOps.nextSibling(oldEndVnode.elm));\n        oldStartVnode = oldCh[++oldStartIdx];\n        newEndVnode = newCh[--newEndIdx];\n      } else if (sameVnode(oldEndVnode, newStartVnode)) { // Vnode moved left\n        patchVnode(oldEndVnode, newStartVnode, insertedVnodeQueue, newCh, newStartIdx);\n        canMove && nodeOps.insertBefore(parentElm, oldEndVnode.elm, oldStartVnode.elm);\n        oldEndVnode = oldCh[--oldEndIdx];\n        newStartVnode = newCh[++newStartIdx];\n      } else {\n        if (isUndef(oldKeyToIdx)) { oldKeyToIdx = createKeyToOldIdx(oldCh, oldStartIdx, oldEndIdx); }\n        idxInOld = isDef(newStartVnode.key)\n          ? oldKeyToIdx[newStartVnode.key]\n          : findIdxInOld(newStartVnode, oldCh, oldStartIdx, oldEndIdx);\n        if (isUndef(idxInOld)) { // New element\n          createElm(newStartVnode, insertedVnodeQueue, parentElm, oldStartVnode.elm, false, newCh, newStartIdx);\n        } else {\n          vnodeToMove = oldCh[idxInOld];\n          if (sameVnode(vnodeToMove, newStartVnode)) {\n            patchVnode(vnodeToMove, newStartVnode, insertedVnodeQueue, newCh, newStartIdx);\n            oldCh[idxInOld] = undefined;\n            canMove && nodeOps.insertBefore(parentElm, vnodeToMove.elm, oldStartVnode.elm);\n          } else {\n            // same key but different element. treat as new element\n            createElm(newStartVnode, insertedVnodeQueue, parentElm, oldStartVnode.elm, false, newCh, newStartIdx);\n          }\n        }\n        newStartVnode = newCh[++newStartIdx];\n      }\n    }\n    if (oldStartIdx > oldEndIdx) {\n      refElm = isUndef(newCh[newEndIdx + 1]) ? null : newCh[newEndIdx + 1].elm;\n      addVnodes(parentElm, refElm, newCh, newStartIdx, newEndIdx, insertedVnodeQueue);\n    } else if (newStartIdx > newEndIdx) {\n      removeVnodes(oldCh, oldStartIdx, oldEndIdx);\n    }\n  }\n\n  function checkDuplicateKeys (children) {\n    var seenKeys = {};\n    for (var i = 0; i < children.length; i++) {\n      var vnode = children[i];\n      var key = vnode.key;\n      if (isDef(key)) {\n        if (seenKeys[key]) {\n          warn(\n            (\"Duplicate keys detected: '\" + key + \"'. This may cause an update error.\"),\n            vnode.context\n          );\n        } else {\n          seenKeys[key] = true;\n        }\n      }\n    }\n  }\n\n  function findIdxInOld (node, oldCh, start, end) {\n    for (var i = start; i < end; i++) {\n      var c = oldCh[i];\n      if (isDef(c) && sameVnode(node, c)) { return i }\n    }\n  }\n\n  function patchVnode (\n    oldVnode,\n    vnode,\n    insertedVnodeQueue,\n    ownerArray,\n    index,\n    removeOnly\n  ) {\n    if (oldVnode === vnode) {\n      return\n    }\n\n    if (isDef(vnode.elm) && isDef(ownerArray)) {\n      // clone reused vnode\n      vnode = ownerArray[index] = cloneVNode(vnode);\n    }\n\n    var elm = vnode.elm = oldVnode.elm;\n\n    if (isTrue(oldVnode.isAsyncPlaceholder)) {\n      if (isDef(vnode.asyncFactory.resolved)) {\n        hydrate(oldVnode.elm, vnode, insertedVnodeQueue);\n      } else {\n        vnode.isAsyncPlaceholder = true;\n      }\n      return\n    }\n\n    // reuse element for static trees.\n    // note we only do this if the vnode is cloned -\n    // if the new node is not cloned it means the render functions have been\n    // reset by the hot-reload-api and we need to do a proper re-render.\n    if (isTrue(vnode.isStatic) &&\n      isTrue(oldVnode.isStatic) &&\n      vnode.key === oldVnode.key &&\n      (isTrue(vnode.isCloned) || isTrue(vnode.isOnce))\n    ) {\n      vnode.componentInstance = oldVnode.componentInstance;\n      return\n    }\n\n    var i;\n    var data = vnode.data;\n    if (isDef(data) && isDef(i = data.hook) && isDef(i = i.prepatch)) {\n      i(oldVnode, vnode);\n    }\n\n    var oldCh = oldVnode.children;\n    var ch = vnode.children;\n    if (isDef(data) && isPatchable(vnode)) {\n      for (i = 0; i < cbs.update.length; ++i) { cbs.update[i](oldVnode, vnode); }\n      if (isDef(i = data.hook) && isDef(i = i.update)) { i(oldVnode, vnode); }\n    }\n    if (isUndef(vnode.text)) {\n      if (isDef(oldCh) && isDef(ch)) {\n        if (oldCh !== ch) { updateChildren(elm, oldCh, ch, insertedVnodeQueue, removeOnly); }\n      } else if (isDef(ch)) {\n        if (process.env.NODE_ENV !== 'production') {\n          checkDuplicateKeys(ch);\n        }\n        if (isDef(oldVnode.text)) { nodeOps.setTextContent(elm, ''); }\n        addVnodes(elm, null, ch, 0, ch.length - 1, insertedVnodeQueue);\n      } else if (isDef(oldCh)) {\n        removeVnodes(oldCh, 0, oldCh.length - 1);\n      } else if (isDef(oldVnode.text)) {\n        nodeOps.setTextContent(elm, '');\n      }\n    } else if (oldVnode.text !== vnode.text) {\n      nodeOps.setTextContent(elm, vnode.text);\n    }\n    if (isDef(data)) {\n      if (isDef(i = data.hook) && isDef(i = i.postpatch)) { i(oldVnode, vnode); }\n    }\n  }\n\n  function invokeInsertHook (vnode, queue, initial) {\n    // delay insert hooks for component root nodes, invoke them after the\n    // element is really inserted\n    if (isTrue(initial) && isDef(vnode.parent)) {\n      vnode.parent.data.pendingInsert = queue;\n    } else {\n      for (var i = 0; i < queue.length; ++i) {\n        queue[i].data.hook.insert(queue[i]);\n      }\n    }\n  }\n\n  var hydrationBailed = false;\n  // list of modules that can skip create hook during hydration because they\n  // are already rendered on the client or has no need for initialization\n  // Note: style is excluded because it relies on initial clone for future\n  // deep updates (#7063).\n  var isRenderedModule = makeMap('attrs,class,staticClass,staticStyle,key');\n\n  // Note: this is a browser-only function so we can assume elms are DOM nodes.\n  function hydrate (elm, vnode, insertedVnodeQueue, inVPre) {\n    var i;\n    var tag = vnode.tag;\n    var data = vnode.data;\n    var children = vnode.children;\n    inVPre = inVPre || (data && data.pre);\n    vnode.elm = elm;\n\n    if (isTrue(vnode.isComment) && isDef(vnode.asyncFactory)) {\n      vnode.isAsyncPlaceholder = true;\n      return true\n    }\n    // assert node match\n    if (process.env.NODE_ENV !== 'production') {\n      if (!assertNodeMatch(elm, vnode, inVPre)) {\n        return false\n      }\n    }\n    if (isDef(data)) {\n      if (isDef(i = data.hook) && isDef(i = i.init)) { i(vnode, true /* hydrating */); }\n      if (isDef(i = vnode.componentInstance)) {\n        // child component. it should have hydrated its own tree.\n        initComponent(vnode, insertedVnodeQueue);\n        return true\n      }\n    }\n    if (isDef(tag)) {\n      if (isDef(children)) {\n        // empty element, allow client to pick up and populate children\n        if (!elm.hasChildNodes()) {\n          createChildren(vnode, children, insertedVnodeQueue);\n        } else {\n          // v-html and domProps: innerHTML\n          if (isDef(i = data) && isDef(i = i.domProps) && isDef(i = i.innerHTML)) {\n            if (i !== elm.innerHTML) {\n              /* istanbul ignore if */\n              if (process.env.NODE_ENV !== 'production' &&\n                typeof console !== 'undefined' &&\n                !hydrationBailed\n              ) {\n                hydrationBailed = true;\n                console.warn('Parent: ', elm);\n                console.warn('server innerHTML: ', i);\n                console.warn('client innerHTML: ', elm.innerHTML);\n              }\n              return false\n            }\n          } else {\n            // iterate and compare children lists\n            var childrenMatch = true;\n            var childNode = elm.firstChild;\n            for (var i$1 = 0; i$1 < children.length; i$1++) {\n              if (!childNode || !hydrate(childNode, children[i$1], insertedVnodeQueue, inVPre)) {\n                childrenMatch = false;\n                break\n              }\n              childNode = childNode.nextSibling;\n            }\n            // if childNode is not null, it means the actual childNodes list is\n            // longer than the virtual children list.\n            if (!childrenMatch || childNode) {\n              /* istanbul ignore if */\n              if (process.env.NODE_ENV !== 'production' &&\n                typeof console !== 'undefined' &&\n                !hydrationBailed\n              ) {\n                hydrationBailed = true;\n                console.warn('Parent: ', elm);\n                console.warn('Mismatching childNodes vs. VNodes: ', elm.childNodes, children);\n              }\n              return false\n            }\n          }\n        }\n      }\n      if (isDef(data)) {\n        var fullInvoke = false;\n        for (var key in data) {\n          if (!isRenderedModule(key)) {\n            fullInvoke = true;\n            invokeCreateHooks(vnode, insertedVnodeQueue);\n            break\n          }\n        }\n        if (!fullInvoke && data['class']) {\n          // ensure collecting deps for deep class bindings for future updates\n          traverse(data['class']);\n        }\n      }\n    } else if (elm.data !== vnode.text) {\n      elm.data = vnode.text;\n    }\n    return true\n  }\n\n  function assertNodeMatch (node, vnode, inVPre) {\n    if (isDef(vnode.tag)) {\n      return vnode.tag.indexOf('vue-component') === 0 || (\n        !isUnknownElement$$1(vnode, inVPre) &&\n        vnode.tag.toLowerCase() === (node.tagName && node.tagName.toLowerCase())\n      )\n    } else {\n      return node.nodeType === (vnode.isComment ? 8 : 3)\n    }\n  }\n\n  return function patch (oldVnode, vnode, hydrating, removeOnly) {\n    if (isUndef(vnode)) {\n      if (isDef(oldVnode)) { invokeDestroyHook(oldVnode); }\n      return\n    }\n\n    var isInitialPatch = false;\n    var insertedVnodeQueue = [];\n\n    if (isUndef(oldVnode)) {\n      // empty mount (likely as component), create new root element\n      isInitialPatch = true;\n      createElm(vnode, insertedVnodeQueue);\n    } else {\n      var isRealElement = isDef(oldVnode.nodeType);\n      if (!isRealElement && sameVnode(oldVnode, vnode)) {\n        // patch existing root node\n        patchVnode(oldVnode, vnode, insertedVnodeQueue, null, null, removeOnly);\n      } else {\n        if (isRealElement) {\n          // mounting to a real element\n          // check if this is server-rendered content and if we can perform\n          // a successful hydration.\n          if (oldVnode.nodeType === 1 && oldVnode.hasAttribute(SSR_ATTR)) {\n            oldVnode.removeAttribute(SSR_ATTR);\n            hydrating = true;\n          }\n          if (isTrue(hydrating)) {\n            if (hydrate(oldVnode, vnode, insertedVnodeQueue)) {\n              invokeInsertHook(vnode, insertedVnodeQueue, true);\n              return oldVnode\n            } else if (process.env.NODE_ENV !== 'production') {\n              warn(\n                'The client-side rendered virtual DOM tree is not matching ' +\n                'server-rendered content. This is likely caused by incorrect ' +\n                'HTML markup, for example nesting block-level elements inside ' +\n                '<p>, or missing <tbody>. Bailing hydration and performing ' +\n                'full client-side render.'\n              );\n            }\n          }\n          // either not server-rendered, or hydration failed.\n          // create an empty node and replace it\n          oldVnode = emptyNodeAt(oldVnode);\n        }\n\n        // replacing existing element\n        var oldElm = oldVnode.elm;\n        var parentElm = nodeOps.parentNode(oldElm);\n\n        // create new node\n        createElm(\n          vnode,\n          insertedVnodeQueue,\n          // extremely rare edge case: do not insert if old element is in a\n          // leaving transition. Only happens when combining transition +\n          // keep-alive + HOCs. (#4590)\n          oldElm._leaveCb ? null : parentElm,\n          nodeOps.nextSibling(oldElm)\n        );\n\n        // update parent placeholder node element, recursively\n        if (isDef(vnode.parent)) {\n          var ancestor = vnode.parent;\n          var patchable = isPatchable(vnode);\n          while (ancestor) {\n            for (var i = 0; i < cbs.destroy.length; ++i) {\n              cbs.destroy[i](ancestor);\n            }\n            ancestor.elm = vnode.elm;\n            if (patchable) {\n              for (var i$1 = 0; i$1 < cbs.create.length; ++i$1) {\n                cbs.create[i$1](emptyNode, ancestor);\n              }\n              // #6513\n              // invoke insert hooks that may have been merged by create hooks.\n              // e.g. for directives that uses the \"inserted\" hook.\n              var insert = ancestor.data.hook.insert;\n              if (insert.merged) {\n                // start at index 1 to avoid re-invoking component mounted hook\n                for (var i$2 = 1; i$2 < insert.fns.length; i$2++) {\n                  insert.fns[i$2]();\n                }\n              }\n            } else {\n              registerRef(ancestor);\n            }\n            ancestor = ancestor.parent;\n          }\n        }\n\n        // destroy old node\n        if (isDef(parentElm)) {\n          removeVnodes([oldVnode], 0, 0);\n        } else if (isDef(oldVnode.tag)) {\n          invokeDestroyHook(oldVnode);\n        }\n      }\n    }\n\n    invokeInsertHook(vnode, insertedVnodeQueue, isInitialPatch);\n    return vnode.elm\n  }\n}\n\n/*  */\n\nvar directives = {\n  create: updateDirectives,\n  update: updateDirectives,\n  destroy: function unbindDirectives (vnode) {\n    updateDirectives(vnode, emptyNode);\n  }\n};\n\nfunction updateDirectives (oldVnode, vnode) {\n  if (oldVnode.data.directives || vnode.data.directives) {\n    _update(oldVnode, vnode);\n  }\n}\n\nfunction _update (oldVnode, vnode) {\n  var isCreate = oldVnode === emptyNode;\n  var isDestroy = vnode === emptyNode;\n  var oldDirs = normalizeDirectives$1(oldVnode.data.directives, oldVnode.context);\n  var newDirs = normalizeDirectives$1(vnode.data.directives, vnode.context);\n\n  var dirsWithInsert = [];\n  var dirsWithPostpatch = [];\n\n  var key, oldDir, dir;\n  for (key in newDirs) {\n    oldDir = oldDirs[key];\n    dir = newDirs[key];\n    if (!oldDir) {\n      // new directive, bind\n      callHook$1(dir, 'bind', vnode, oldVnode);\n      if (dir.def && dir.def.inserted) {\n        dirsWithInsert.push(dir);\n      }\n    } else {\n      // existing directive, update\n      dir.oldValue = oldDir.value;\n      dir.oldArg = oldDir.arg;\n      callHook$1(dir, 'update', vnode, oldVnode);\n      if (dir.def && dir.def.componentUpdated) {\n        dirsWithPostpatch.push(dir);\n      }\n    }\n  }\n\n  if (dirsWithInsert.length) {\n    var callInsert = function () {\n      for (var i = 0; i < dirsWithInsert.length; i++) {\n        callHook$1(dirsWithInsert[i], 'inserted', vnode, oldVnode);\n      }\n    };\n    if (isCreate) {\n      mergeVNodeHook(vnode, 'insert', callInsert);\n    } else {\n      callInsert();\n    }\n  }\n\n  if (dirsWithPostpatch.length) {\n    mergeVNodeHook(vnode, 'postpatch', function () {\n      for (var i = 0; i < dirsWithPostpatch.length; i++) {\n        callHook$1(dirsWithPostpatch[i], 'componentUpdated', vnode, oldVnode);\n      }\n    });\n  }\n\n  if (!isCreate) {\n    for (key in oldDirs) {\n      if (!newDirs[key]) {\n        // no longer present, unbind\n        callHook$1(oldDirs[key], 'unbind', oldVnode, oldVnode, isDestroy);\n      }\n    }\n  }\n}\n\nvar emptyModifiers = Object.create(null);\n\nfunction normalizeDirectives$1 (\n  dirs,\n  vm\n) {\n  var res = Object.create(null);\n  if (!dirs) {\n    // $flow-disable-line\n    return res\n  }\n  var i, dir;\n  for (i = 0; i < dirs.length; i++) {\n    dir = dirs[i];\n    if (!dir.modifiers) {\n      // $flow-disable-line\n      dir.modifiers = emptyModifiers;\n    }\n    res[getRawDirName(dir)] = dir;\n    dir.def = resolveAsset(vm.$options, 'directives', dir.name, true);\n  }\n  // $flow-disable-line\n  return res\n}\n\nfunction getRawDirName (dir) {\n  return dir.rawName || ((dir.name) + \".\" + (Object.keys(dir.modifiers || {}).join('.')))\n}\n\nfunction callHook$1 (dir, hook, vnode, oldVnode, isDestroy) {\n  var fn = dir.def && dir.def[hook];\n  if (fn) {\n    try {\n      fn(vnode.elm, dir, vnode, oldVnode, isDestroy);\n    } catch (e) {\n      handleError(e, vnode.context, (\"directive \" + (dir.name) + \" \" + hook + \" hook\"));\n    }\n  }\n}\n\nvar baseModules = [\n  ref,\n  directives\n];\n\n/*  */\n\nfunction updateAttrs (oldVnode, vnode) {\n  var opts = vnode.componentOptions;\n  if (isDef(opts) && opts.Ctor.options.inheritAttrs === false) {\n    return\n  }\n  if (isUndef(oldVnode.data.attrs) && isUndef(vnode.data.attrs)) {\n    return\n  }\n  var key, cur, old;\n  var elm = vnode.elm;\n  var oldAttrs = oldVnode.data.attrs || {};\n  var attrs = vnode.data.attrs || {};\n  // clone observed objects, as the user probably wants to mutate it\n  if (isDef(attrs.__ob__)) {\n    attrs = vnode.data.attrs = extend({}, attrs);\n  }\n\n  for (key in attrs) {\n    cur = attrs[key];\n    old = oldAttrs[key];\n    if (old !== cur) {\n      setAttr(elm, key, cur);\n    }\n  }\n  // #4391: in IE9, setting type can reset value for input[type=radio]\n  // #6666: IE/Edge forces progress value down to 1 before setting a max\n  /* istanbul ignore if */\n  if ((isIE || isEdge) && attrs.value !== oldAttrs.value) {\n    setAttr(elm, 'value', attrs.value);\n  }\n  for (key in oldAttrs) {\n    if (isUndef(attrs[key])) {\n      if (isXlink(key)) {\n        elm.removeAttributeNS(xlinkNS, getXlinkProp(key));\n      } else if (!isEnumeratedAttr(key)) {\n        elm.removeAttribute(key);\n      }\n    }\n  }\n}\n\nfunction setAttr (el, key, value) {\n  if (el.tagName.indexOf('-') > -1) {\n    baseSetAttr(el, key, value);\n  } else if (isBooleanAttr(key)) {\n    // set attribute for blank value\n    // e.g. <option disabled>Select one</option>\n    if (isFalsyAttrValue(value)) {\n      el.removeAttribute(key);\n    } else {\n      // technically allowfullscreen is a boolean attribute for <iframe>,\n      // but Flash expects a value of \"true\" when used on <embed> tag\n      value = key === 'allowfullscreen' && el.tagName === 'EMBED'\n        ? 'true'\n        : key;\n      el.setAttribute(key, value);\n    }\n  } else if (isEnumeratedAttr(key)) {\n    el.setAttribute(key, convertEnumeratedValue(key, value));\n  } else if (isXlink(key)) {\n    if (isFalsyAttrValue(value)) {\n      el.removeAttributeNS(xlinkNS, getXlinkProp(key));\n    } else {\n      el.setAttributeNS(xlinkNS, key, value);\n    }\n  } else {\n    baseSetAttr(el, key, value);\n  }\n}\n\nfunction baseSetAttr (el, key, value) {\n  if (isFalsyAttrValue(value)) {\n    el.removeAttribute(key);\n  } else {\n    // #7138: IE10 & 11 fires input event when setting placeholder on\n    // <textarea>... block the first input event and remove the blocker\n    // immediately.\n    /* istanbul ignore if */\n    if (\n      isIE && !isIE9 &&\n      el.tagName === 'TEXTAREA' &&\n      key === 'placeholder' && value !== '' && !el.__ieph\n    ) {\n      var blocker = function (e) {\n        e.stopImmediatePropagation();\n        el.removeEventListener('input', blocker);\n      };\n      el.addEventListener('input', blocker);\n      // $flow-disable-line\n      el.__ieph = true; /* IE placeholder patched */\n    }\n    el.setAttribute(key, value);\n  }\n}\n\nvar attrs = {\n  create: updateAttrs,\n  update: updateAttrs\n};\n\n/*  */\n\nfunction updateClass (oldVnode, vnode) {\n  var el = vnode.elm;\n  var data = vnode.data;\n  var oldData = oldVnode.data;\n  if (\n    isUndef(data.staticClass) &&\n    isUndef(data.class) && (\n      isUndef(oldData) || (\n        isUndef(oldData.staticClass) &&\n        isUndef(oldData.class)\n      )\n    )\n  ) {\n    return\n  }\n\n  var cls = genClassForVnode(vnode);\n\n  // handle transition classes\n  var transitionClass = el._transitionClasses;\n  if (isDef(transitionClass)) {\n    cls = concat(cls, stringifyClass(transitionClass));\n  }\n\n  // set the class\n  if (cls !== el._prevClass) {\n    el.setAttribute('class', cls);\n    el._prevClass = cls;\n  }\n}\n\nvar klass = {\n  create: updateClass,\n  update: updateClass\n};\n\n/*  */\n\n/*  */\n\n/*  */\n\n/*  */\n\n// in some cases, the event used has to be determined at runtime\n// so we used some reserved tokens during compile.\nvar RANGE_TOKEN = '__r';\nvar CHECKBOX_RADIO_TOKEN = '__c';\n\n/*  */\n\n// normalize v-model event tokens that can only be determined at runtime.\n// it's important to place the event as the first in the array because\n// the whole point is ensuring the v-model callback gets called before\n// user-attached handlers.\nfunction normalizeEvents (on) {\n  /* istanbul ignore if */\n  if (isDef(on[RANGE_TOKEN])) {\n    // IE input[type=range] only supports `change` event\n    var event = isIE ? 'change' : 'input';\n    on[event] = [].concat(on[RANGE_TOKEN], on[event] || []);\n    delete on[RANGE_TOKEN];\n  }\n  // This was originally intended to fix #4521 but no longer necessary\n  // after 2.5. Keeping it for backwards compat with generated code from < 2.4\n  /* istanbul ignore if */\n  if (isDef(on[CHECKBOX_RADIO_TOKEN])) {\n    on.change = [].concat(on[CHECKBOX_RADIO_TOKEN], on.change || []);\n    delete on[CHECKBOX_RADIO_TOKEN];\n  }\n}\n\nvar target$1;\n\nfunction createOnceHandler$1 (event, handler, capture) {\n  var _target = target$1; // save current target element in closure\n  return function onceHandler () {\n    var res = handler.apply(null, arguments);\n    if (res !== null) {\n      remove$2(event, onceHandler, capture, _target);\n    }\n  }\n}\n\n// #9446: Firefox <= 53 (in particular, ESR 52) has incorrect Event.timeStamp\n// implementation and does not fire microtasks in between event propagation, so\n// safe to exclude.\nvar useMicrotaskFix = isUsingMicroTask && !(isFF && Number(isFF[1]) <= 53);\n\nfunction add$1 (\n  name,\n  handler,\n  capture,\n  passive\n) {\n  // async edge case #6566: inner click event triggers patch, event handler\n  // attached to outer element during patch, and triggered again. This\n  // happens because browsers fire microtask ticks between event propagation.\n  // the solution is simple: we save the timestamp when a handler is attached,\n  // and the handler would only fire if the event passed to it was fired\n  // AFTER it was attached.\n  if (useMicrotaskFix) {\n    var attachedTimestamp = currentFlushTimestamp;\n    var original = handler;\n    handler = original._wrapper = function (e) {\n      if (\n        // no bubbling, should always fire.\n        // this is just a safety net in case event.timeStamp is unreliable in\n        // certain weird environments...\n        e.target === e.currentTarget ||\n        // event is fired after handler attachment\n        e.timeStamp >= attachedTimestamp ||\n        // bail for environments that have buggy event.timeStamp implementations\n        // #9462 iOS 9 bug: event.timeStamp is 0 after history.pushState\n        // #9681 QtWebEngine event.timeStamp is negative value\n        e.timeStamp <= 0 ||\n        // #9448 bail if event is fired in another document in a multi-page\n        // electron/nw.js app, since event.timeStamp will be using a different\n        // starting reference\n        e.target.ownerDocument !== document\n      ) {\n        return original.apply(this, arguments)\n      }\n    };\n  }\n  target$1.addEventListener(\n    name,\n    handler,\n    supportsPassive\n      ? { capture: capture, passive: passive }\n      : capture\n  );\n}\n\nfunction remove$2 (\n  name,\n  handler,\n  capture,\n  _target\n) {\n  (_target || target$1).removeEventListener(\n    name,\n    handler._wrapper || handler,\n    capture\n  );\n}\n\nfunction updateDOMListeners (oldVnode, vnode) {\n  if (isUndef(oldVnode.data.on) && isUndef(vnode.data.on)) {\n    return\n  }\n  var on = vnode.data.on || {};\n  var oldOn = oldVnode.data.on || {};\n  target$1 = vnode.elm;\n  normalizeEvents(on);\n  updateListeners(on, oldOn, add$1, remove$2, createOnceHandler$1, vnode.context);\n  target$1 = undefined;\n}\n\nvar events = {\n  create: updateDOMListeners,\n  update: updateDOMListeners\n};\n\n/*  */\n\nvar svgContainer;\n\nfunction updateDOMProps (oldVnode, vnode) {\n  if (isUndef(oldVnode.data.domProps) && isUndef(vnode.data.domProps)) {\n    return\n  }\n  var key, cur;\n  var elm = vnode.elm;\n  var oldProps = oldVnode.data.domProps || {};\n  var props = vnode.data.domProps || {};\n  // clone observed objects, as the user probably wants to mutate it\n  if (isDef(props.__ob__)) {\n    props = vnode.data.domProps = extend({}, props);\n  }\n\n  for (key in oldProps) {\n    if (!(key in props)) {\n      elm[key] = '';\n    }\n  }\n\n  for (key in props) {\n    cur = props[key];\n    // ignore children if the node has textContent or innerHTML,\n    // as these will throw away existing DOM nodes and cause removal errors\n    // on subsequent patches (#3360)\n    if (key === 'textContent' || key === 'innerHTML') {\n      if (vnode.children) { vnode.children.length = 0; }\n      if (cur === oldProps[key]) { continue }\n      // #6601 work around Chrome version <= 55 bug where single textNode\n      // replaced by innerHTML/textContent retains its parentNode property\n      if (elm.childNodes.length === 1) {\n        elm.removeChild(elm.childNodes[0]);\n      }\n    }\n\n    if (key === 'value' && elm.tagName !== 'PROGRESS') {\n      // store value as _value as well since\n      // non-string values will be stringified\n      elm._value = cur;\n      // avoid resetting cursor position when value is the same\n      var strCur = isUndef(cur) ? '' : String(cur);\n      if (shouldUpdateValue(elm, strCur)) {\n        elm.value = strCur;\n      }\n    } else if (key === 'innerHTML' && isSVG(elm.tagName) && isUndef(elm.innerHTML)) {\n      // IE doesn't support innerHTML for SVG elements\n      svgContainer = svgContainer || document.createElement('div');\n      svgContainer.innerHTML = \"<svg>\" + cur + \"</svg>\";\n      var svg = svgContainer.firstChild;\n      while (elm.firstChild) {\n        elm.removeChild(elm.firstChild);\n      }\n      while (svg.firstChild) {\n        elm.appendChild(svg.firstChild);\n      }\n    } else if (\n      // skip the update if old and new VDOM state is the same.\n      // `value` is handled separately because the DOM value may be temporarily\n      // out of sync with VDOM state due to focus, composition and modifiers.\n      // This  #4521 by skipping the unnecessary `checked` update.\n      cur !== oldProps[key]\n    ) {\n      // some property updates can throw\n      // e.g. `value` on <progress> w/ non-finite value\n      try {\n        elm[key] = cur;\n      } catch (e) {}\n    }\n  }\n}\n\n// check platforms/web/util/attrs.js acceptValue\n\n\nfunction shouldUpdateValue (elm, checkVal) {\n  return (!elm.composing && (\n    elm.tagName === 'OPTION' ||\n    isNotInFocusAndDirty(elm, checkVal) ||\n    isDirtyWithModifiers(elm, checkVal)\n  ))\n}\n\nfunction isNotInFocusAndDirty (elm, checkVal) {\n  // return true when textbox (.number and .trim) loses focus and its value is\n  // not equal to the updated value\n  var notInFocus = true;\n  // #6157\n  // work around IE bug when accessing document.activeElement in an iframe\n  try { notInFocus = document.activeElement !== elm; } catch (e) {}\n  return notInFocus && elm.value !== checkVal\n}\n\nfunction isDirtyWithModifiers (elm, newVal) {\n  var value = elm.value;\n  var modifiers = elm._vModifiers; // injected by v-model runtime\n  if (isDef(modifiers)) {\n    if (modifiers.number) {\n      return toNumber(value) !== toNumber(newVal)\n    }\n    if (modifiers.trim) {\n      return value.trim() !== newVal.trim()\n    }\n  }\n  return value !== newVal\n}\n\nvar domProps = {\n  create: updateDOMProps,\n  update: updateDOMProps\n};\n\n/*  */\n\nvar parseStyleText = cached(function (cssText) {\n  var res = {};\n  var listDelimiter = /;(?![^(]*\\))/g;\n  var propertyDelimiter = /:(.+)/;\n  cssText.split(listDelimiter).forEach(function (item) {\n    if (item) {\n      var tmp = item.split(propertyDelimiter);\n      tmp.length > 1 && (res[tmp[0].trim()] = tmp[1].trim());\n    }\n  });\n  return res\n});\n\n// merge static and dynamic style data on the same vnode\nfunction normalizeStyleData (data) {\n  var style = normalizeStyleBinding(data.style);\n  // static style is pre-processed into an object during compilation\n  // and is always a fresh object, so it's safe to merge into it\n  return data.staticStyle\n    ? extend(data.staticStyle, style)\n    : style\n}\n\n// normalize possible array / string values into Object\nfunction normalizeStyleBinding (bindingStyle) {\n  if (Array.isArray(bindingStyle)) {\n    return toObject(bindingStyle)\n  }\n  if (typeof bindingStyle === 'string') {\n    return parseStyleText(bindingStyle)\n  }\n  return bindingStyle\n}\n\n/**\n * parent component style should be after child's\n * so that parent component's style could override it\n */\nfunction getStyle (vnode, checkChild) {\n  var res = {};\n  var styleData;\n\n  if (checkChild) {\n    var childNode = vnode;\n    while (childNode.componentInstance) {\n      childNode = childNode.componentInstance._vnode;\n      if (\n        childNode && childNode.data &&\n        (styleData = normalizeStyleData(childNode.data))\n      ) {\n        extend(res, styleData);\n      }\n    }\n  }\n\n  if ((styleData = normalizeStyleData(vnode.data))) {\n    extend(res, styleData);\n  }\n\n  var parentNode = vnode;\n  while ((parentNode = parentNode.parent)) {\n    if (parentNode.data && (styleData = normalizeStyleData(parentNode.data))) {\n      extend(res, styleData);\n    }\n  }\n  return res\n}\n\n/*  */\n\nvar cssVarRE = /^--/;\nvar importantRE = /\\s*!important$/;\nvar setProp = function (el, name, val) {\n  /* istanbul ignore if */\n  if (cssVarRE.test(name)) {\n    el.style.setProperty(name, val);\n  } else if (importantRE.test(val)) {\n    el.style.setProperty(hyphenate(name), val.replace(importantRE, ''), 'important');\n  } else {\n    var normalizedName = normalize(name);\n    if (Array.isArray(val)) {\n      // Support values array created by autoprefixer, e.g.\n      // {display: [\"-webkit-box\", \"-ms-flexbox\", \"flex\"]}\n      // Set them one by one, and the browser will only set those it can recognize\n      for (var i = 0, len = val.length; i < len; i++) {\n        el.style[normalizedName] = val[i];\n      }\n    } else {\n      el.style[normalizedName] = val;\n    }\n  }\n};\n\nvar vendorNames = ['Webkit', 'Moz', 'ms'];\n\nvar emptyStyle;\nvar normalize = cached(function (prop) {\n  emptyStyle = emptyStyle || document.createElement('div').style;\n  prop = camelize(prop);\n  if (prop !== 'filter' && (prop in emptyStyle)) {\n    return prop\n  }\n  var capName = prop.charAt(0).toUpperCase() + prop.slice(1);\n  for (var i = 0; i < vendorNames.length; i++) {\n    var name = vendorNames[i] + capName;\n    if (name in emptyStyle) {\n      return name\n    }\n  }\n});\n\nfunction updateStyle (oldVnode, vnode) {\n  var data = vnode.data;\n  var oldData = oldVnode.data;\n\n  if (isUndef(data.staticStyle) && isUndef(data.style) &&\n    isUndef(oldData.staticStyle) && isUndef(oldData.style)\n  ) {\n    return\n  }\n\n  var cur, name;\n  var el = vnode.elm;\n  var oldStaticStyle = oldData.staticStyle;\n  var oldStyleBinding = oldData.normalizedStyle || oldData.style || {};\n\n  // if static style exists, stylebinding already merged into it when doing normalizeStyleData\n  var oldStyle = oldStaticStyle || oldStyleBinding;\n\n  var style = normalizeStyleBinding(vnode.data.style) || {};\n\n  // store normalized style under a different key for next diff\n  // make sure to clone it if it's reactive, since the user likely wants\n  // to mutate it.\n  vnode.data.normalizedStyle = isDef(style.__ob__)\n    ? extend({}, style)\n    : style;\n\n  var newStyle = getStyle(vnode, true);\n\n  for (name in oldStyle) {\n    if (isUndef(newStyle[name])) {\n      setProp(el, name, '');\n    }\n  }\n  for (name in newStyle) {\n    cur = newStyle[name];\n    if (cur !== oldStyle[name]) {\n      // ie9 setting to null has no effect, must use empty string\n      setProp(el, name, cur == null ? '' : cur);\n    }\n  }\n}\n\nvar style = {\n  create: updateStyle,\n  update: updateStyle\n};\n\n/*  */\n\nvar whitespaceRE = /\\s+/;\n\n/**\n * Add class with compatibility for SVG since classList is not supported on\n * SVG elements in IE\n */\nfunction addClass (el, cls) {\n  /* istanbul ignore if */\n  if (!cls || !(cls = cls.trim())) {\n    return\n  }\n\n  /* istanbul ignore else */\n  if (el.classList) {\n    if (cls.indexOf(' ') > -1) {\n      cls.split(whitespaceRE).forEach(function (c) { return el.classList.add(c); });\n    } else {\n      el.classList.add(cls);\n    }\n  } else {\n    var cur = \" \" + (el.getAttribute('class') || '') + \" \";\n    if (cur.indexOf(' ' + cls + ' ') < 0) {\n      el.setAttribute('class', (cur + cls).trim());\n    }\n  }\n}\n\n/**\n * Remove class with compatibility for SVG since classList is not supported on\n * SVG elements in IE\n */\nfunction removeClass (el, cls) {\n  /* istanbul ignore if */\n  if (!cls || !(cls = cls.trim())) {\n    return\n  }\n\n  /* istanbul ignore else */\n  if (el.classList) {\n    if (cls.indexOf(' ') > -1) {\n      cls.split(whitespaceRE).forEach(function (c) { return el.classList.remove(c); });\n    } else {\n      el.classList.remove(cls);\n    }\n    if (!el.classList.length) {\n      el.removeAttribute('class');\n    }\n  } else {\n    var cur = \" \" + (el.getAttribute('class') || '') + \" \";\n    var tar = ' ' + cls + ' ';\n    while (cur.indexOf(tar) >= 0) {\n      cur = cur.replace(tar, ' ');\n    }\n    cur = cur.trim();\n    if (cur) {\n      el.setAttribute('class', cur);\n    } else {\n      el.removeAttribute('class');\n    }\n  }\n}\n\n/*  */\n\nfunction resolveTransition (def$$1) {\n  if (!def$$1) {\n    return\n  }\n  /* istanbul ignore else */\n  if (typeof def$$1 === 'object') {\n    var res = {};\n    if (def$$1.css !== false) {\n      extend(res, autoCssTransition(def$$1.name || 'v'));\n    }\n    extend(res, def$$1);\n    return res\n  } else if (typeof def$$1 === 'string') {\n    return autoCssTransition(def$$1)\n  }\n}\n\nvar autoCssTransition = cached(function (name) {\n  return {\n    enterClass: (name + \"-enter\"),\n    enterToClass: (name + \"-enter-to\"),\n    enterActiveClass: (name + \"-enter-active\"),\n    leaveClass: (name + \"-leave\"),\n    leaveToClass: (name + \"-leave-to\"),\n    leaveActiveClass: (name + \"-leave-active\")\n  }\n});\n\nvar hasTransition = inBrowser && !isIE9;\nvar TRANSITION = 'transition';\nvar ANIMATION = 'animation';\n\n// Transition property/event sniffing\nvar transitionProp = 'transition';\nvar transitionEndEvent = 'transitionend';\nvar animationProp = 'animation';\nvar animationEndEvent = 'animationend';\nif (hasTransition) {\n  /* istanbul ignore if */\n  if (window.ontransitionend === undefined &&\n    window.onwebkittransitionend !== undefined\n  ) {\n    transitionProp = 'WebkitTransition';\n    transitionEndEvent = 'webkitTransitionEnd';\n  }\n  if (window.onanimationend === undefined &&\n    window.onwebkitanimationend !== undefined\n  ) {\n    animationProp = 'WebkitAnimation';\n    animationEndEvent = 'webkitAnimationEnd';\n  }\n}\n\n// binding to window is necessary to make hot reload work in IE in strict mode\nvar raf = inBrowser\n  ? window.requestAnimationFrame\n    ? window.requestAnimationFrame.bind(window)\n    : setTimeout\n  : /* istanbul ignore next */ function (fn) { return fn(); };\n\nfunction nextFrame (fn) {\n  raf(function () {\n    raf(fn);\n  });\n}\n\nfunction addTransitionClass (el, cls) {\n  var transitionClasses = el._transitionClasses || (el._transitionClasses = []);\n  if (transitionClasses.indexOf(cls) < 0) {\n    transitionClasses.push(cls);\n    addClass(el, cls);\n  }\n}\n\nfunction removeTransitionClass (el, cls) {\n  if (el._transitionClasses) {\n    remove(el._transitionClasses, cls);\n  }\n  removeClass(el, cls);\n}\n\nfunction whenTransitionEnds (\n  el,\n  expectedType,\n  cb\n) {\n  var ref = getTransitionInfo(el, expectedType);\n  var type = ref.type;\n  var timeout = ref.timeout;\n  var propCount = ref.propCount;\n  if (!type) { return cb() }\n  var event = type === TRANSITION ? transitionEndEvent : animationEndEvent;\n  var ended = 0;\n  var end = function () {\n    el.removeEventListener(event, onEnd);\n    cb();\n  };\n  var onEnd = function (e) {\n    if (e.target === el) {\n      if (++ended >= propCount) {\n        end();\n      }\n    }\n  };\n  setTimeout(function () {\n    if (ended < propCount) {\n      end();\n    }\n  }, timeout + 1);\n  el.addEventListener(event, onEnd);\n}\n\nvar transformRE = /\\b(transform|all)(,|$)/;\n\nfunction getTransitionInfo (el, expectedType) {\n  var styles = window.getComputedStyle(el);\n  // JSDOM may return undefined for transition properties\n  var transitionDelays = (styles[transitionProp + 'Delay'] || '').split(', ');\n  var transitionDurations = (styles[transitionProp + 'Duration'] || '').split(', ');\n  var transitionTimeout = getTimeout(transitionDelays, transitionDurations);\n  var animationDelays = (styles[animationProp + 'Delay'] || '').split(', ');\n  var animationDurations = (styles[animationProp + 'Duration'] || '').split(', ');\n  var animationTimeout = getTimeout(animationDelays, animationDurations);\n\n  var type;\n  var timeout = 0;\n  var propCount = 0;\n  /* istanbul ignore if */\n  if (expectedType === TRANSITION) {\n    if (transitionTimeout > 0) {\n      type = TRANSITION;\n      timeout = transitionTimeout;\n      propCount = transitionDurations.length;\n    }\n  } else if (expectedType === ANIMATION) {\n    if (animationTimeout > 0) {\n      type = ANIMATION;\n      timeout = animationTimeout;\n      propCount = animationDurations.length;\n    }\n  } else {\n    timeout = Math.max(transitionTimeout, animationTimeout);\n    type = timeout > 0\n      ? transitionTimeout > animationTimeout\n        ? TRANSITION\n        : ANIMATION\n      : null;\n    propCount = type\n      ? type === TRANSITION\n        ? transitionDurations.length\n        : animationDurations.length\n      : 0;\n  }\n  var hasTransform =\n    type === TRANSITION &&\n    transformRE.test(styles[transitionProp + 'Property']);\n  return {\n    type: type,\n    timeout: timeout,\n    propCount: propCount,\n    hasTransform: hasTransform\n  }\n}\n\nfunction getTimeout (delays, durations) {\n  /* istanbul ignore next */\n  while (delays.length < durations.length) {\n    delays = delays.concat(delays);\n  }\n\n  return Math.max.apply(null, durations.map(function (d, i) {\n    return toMs(d) + toMs(delays[i])\n  }))\n}\n\n// Old versions of Chromium (below 61.0.3163.100) formats floating pointer numbers\n// in a locale-dependent way, using a comma instead of a dot.\n// If comma is not replaced with a dot, the input will be rounded down (i.e. acting\n// as a floor function) causing unexpected behaviors\nfunction toMs (s) {\n  return Number(s.slice(0, -1).replace(',', '.')) * 1000\n}\n\n/*  */\n\nfunction enter (vnode, toggleDisplay) {\n  var el = vnode.elm;\n\n  // call leave callback now\n  if (isDef(el._leaveCb)) {\n    el._leaveCb.cancelled = true;\n    el._leaveCb();\n  }\n\n  var data = resolveTransition(vnode.data.transition);\n  if (isUndef(data)) {\n    return\n  }\n\n  /* istanbul ignore if */\n  if (isDef(el._enterCb) || el.nodeType !== 1) {\n    return\n  }\n\n  var css = data.css;\n  var type = data.type;\n  var enterClass = data.enterClass;\n  var enterToClass = data.enterToClass;\n  var enterActiveClass = data.enterActiveClass;\n  var appearClass = data.appearClass;\n  var appearToClass = data.appearToClass;\n  var appearActiveClass = data.appearActiveClass;\n  var beforeEnter = data.beforeEnter;\n  var enter = data.enter;\n  var afterEnter = data.afterEnter;\n  var enterCancelled = data.enterCancelled;\n  var beforeAppear = data.beforeAppear;\n  var appear = data.appear;\n  var afterAppear = data.afterAppear;\n  var appearCancelled = data.appearCancelled;\n  var duration = data.duration;\n\n  // activeInstance will always be the <transition> component managing this\n  // transition. One edge case to check is when the <transition> is placed\n  // as the root node of a child component. In that case we need to check\n  // <transition>'s parent for appear check.\n  var context = activeInstance;\n  var transitionNode = activeInstance.$vnode;\n  while (transitionNode && transitionNode.parent) {\n    context = transitionNode.context;\n    transitionNode = transitionNode.parent;\n  }\n\n  var isAppear = !context._isMounted || !vnode.isRootInsert;\n\n  if (isAppear && !appear && appear !== '') {\n    return\n  }\n\n  var startClass = isAppear && appearClass\n    ? appearClass\n    : enterClass;\n  var activeClass = isAppear && appearActiveClass\n    ? appearActiveClass\n    : enterActiveClass;\n  var toClass = isAppear && appearToClass\n    ? appearToClass\n    : enterToClass;\n\n  var beforeEnterHook = isAppear\n    ? (beforeAppear || beforeEnter)\n    : beforeEnter;\n  var enterHook = isAppear\n    ? (typeof appear === 'function' ? appear : enter)\n    : enter;\n  var afterEnterHook = isAppear\n    ? (afterAppear || afterEnter)\n    : afterEnter;\n  var enterCancelledHook = isAppear\n    ? (appearCancelled || enterCancelled)\n    : enterCancelled;\n\n  var explicitEnterDuration = toNumber(\n    isObject(duration)\n      ? duration.enter\n      : duration\n  );\n\n  if (process.env.NODE_ENV !== 'production' && explicitEnterDuration != null) {\n    checkDuration(explicitEnterDuration, 'enter', vnode);\n  }\n\n  var expectsCSS = css !== false && !isIE9;\n  var userWantsControl = getHookArgumentsLength(enterHook);\n\n  var cb = el._enterCb = once(function () {\n    if (expectsCSS) {\n      removeTransitionClass(el, toClass);\n      removeTransitionClass(el, activeClass);\n    }\n    if (cb.cancelled) {\n      if (expectsCSS) {\n        removeTransitionClass(el, startClass);\n      }\n      enterCancelledHook && enterCancelledHook(el);\n    } else {\n      afterEnterHook && afterEnterHook(el);\n    }\n    el._enterCb = null;\n  });\n\n  if (!vnode.data.show) {\n    // remove pending leave element on enter by injecting an insert hook\n    mergeVNodeHook(vnode, 'insert', function () {\n      var parent = el.parentNode;\n      var pendingNode = parent && parent._pending && parent._pending[vnode.key];\n      if (pendingNode &&\n        pendingNode.tag === vnode.tag &&\n        pendingNode.elm._leaveCb\n      ) {\n        pendingNode.elm._leaveCb();\n      }\n      enterHook && enterHook(el, cb);\n    });\n  }\n\n  // start enter transition\n  beforeEnterHook && beforeEnterHook(el);\n  if (expectsCSS) {\n    addTransitionClass(el, startClass);\n    addTransitionClass(el, activeClass);\n    nextFrame(function () {\n      removeTransitionClass(el, startClass);\n      if (!cb.cancelled) {\n        addTransitionClass(el, toClass);\n        if (!userWantsControl) {\n          if (isValidDuration(explicitEnterDuration)) {\n            setTimeout(cb, explicitEnterDuration);\n          } else {\n            whenTransitionEnds(el, type, cb);\n          }\n        }\n      }\n    });\n  }\n\n  if (vnode.data.show) {\n    toggleDisplay && toggleDisplay();\n    enterHook && enterHook(el, cb);\n  }\n\n  if (!expectsCSS && !userWantsControl) {\n    cb();\n  }\n}\n\nfunction leave (vnode, rm) {\n  var el = vnode.elm;\n\n  // call enter callback now\n  if (isDef(el._enterCb)) {\n    el._enterCb.cancelled = true;\n    el._enterCb();\n  }\n\n  var data = resolveTransition(vnode.data.transition);\n  if (isUndef(data) || el.nodeType !== 1) {\n    return rm()\n  }\n\n  /* istanbul ignore if */\n  if (isDef(el._leaveCb)) {\n    return\n  }\n\n  var css = data.css;\n  var type = data.type;\n  var leaveClass = data.leaveClass;\n  var leaveToClass = data.leaveToClass;\n  var leaveActiveClass = data.leaveActiveClass;\n  var beforeLeave = data.beforeLeave;\n  var leave = data.leave;\n  var afterLeave = data.afterLeave;\n  var leaveCancelled = data.leaveCancelled;\n  var delayLeave = data.delayLeave;\n  var duration = data.duration;\n\n  var expectsCSS = css !== false && !isIE9;\n  var userWantsControl = getHookArgumentsLength(leave);\n\n  var explicitLeaveDuration = toNumber(\n    isObject(duration)\n      ? duration.leave\n      : duration\n  );\n\n  if (process.env.NODE_ENV !== 'production' && isDef(explicitLeaveDuration)) {\n    checkDuration(explicitLeaveDuration, 'leave', vnode);\n  }\n\n  var cb = el._leaveCb = once(function () {\n    if (el.parentNode && el.parentNode._pending) {\n      el.parentNode._pending[vnode.key] = null;\n    }\n    if (expectsCSS) {\n      removeTransitionClass(el, leaveToClass);\n      removeTransitionClass(el, leaveActiveClass);\n    }\n    if (cb.cancelled) {\n      if (expectsCSS) {\n        removeTransitionClass(el, leaveClass);\n      }\n      leaveCancelled && leaveCancelled(el);\n    } else {\n      rm();\n      afterLeave && afterLeave(el);\n    }\n    el._leaveCb = null;\n  });\n\n  if (delayLeave) {\n    delayLeave(performLeave);\n  } else {\n    performLeave();\n  }\n\n  function performLeave () {\n    // the delayed leave may have already been cancelled\n    if (cb.cancelled) {\n      return\n    }\n    // record leaving element\n    if (!vnode.data.show && el.parentNode) {\n      (el.parentNode._pending || (el.parentNode._pending = {}))[(vnode.key)] = vnode;\n    }\n    beforeLeave && beforeLeave(el);\n    if (expectsCSS) {\n      addTransitionClass(el, leaveClass);\n      addTransitionClass(el, leaveActiveClass);\n      nextFrame(function () {\n        removeTransitionClass(el, leaveClass);\n        if (!cb.cancelled) {\n          addTransitionClass(el, leaveToClass);\n          if (!userWantsControl) {\n            if (isValidDuration(explicitLeaveDuration)) {\n              setTimeout(cb, explicitLeaveDuration);\n            } else {\n              whenTransitionEnds(el, type, cb);\n            }\n          }\n        }\n      });\n    }\n    leave && leave(el, cb);\n    if (!expectsCSS && !userWantsControl) {\n      cb();\n    }\n  }\n}\n\n// only used in dev mode\nfunction checkDuration (val, name, vnode) {\n  if (typeof val !== 'number') {\n    warn(\n      \"<transition> explicit \" + name + \" duration is not a valid number - \" +\n      \"got \" + (JSON.stringify(val)) + \".\",\n      vnode.context\n    );\n  } else if (isNaN(val)) {\n    warn(\n      \"<transition> explicit \" + name + \" duration is NaN - \" +\n      'the duration expression might be incorrect.',\n      vnode.context\n    );\n  }\n}\n\nfunction isValidDuration (val) {\n  return typeof val === 'number' && !isNaN(val)\n}\n\n/**\n * Normalize a transition hook's argument length. The hook may be:\n * - a merged hook (invoker) with the original in .fns\n * - a wrapped component method (check ._length)\n * - a plain function (.length)\n */\nfunction getHookArgumentsLength (fn) {\n  if (isUndef(fn)) {\n    return false\n  }\n  var invokerFns = fn.fns;\n  if (isDef(invokerFns)) {\n    // invoker\n    return getHookArgumentsLength(\n      Array.isArray(invokerFns)\n        ? invokerFns[0]\n        : invokerFns\n    )\n  } else {\n    return (fn._length || fn.length) > 1\n  }\n}\n\nfunction _enter (_, vnode) {\n  if (vnode.data.show !== true) {\n    enter(vnode);\n  }\n}\n\nvar transition = inBrowser ? {\n  create: _enter,\n  activate: _enter,\n  remove: function remove$$1 (vnode, rm) {\n    /* istanbul ignore else */\n    if (vnode.data.show !== true) {\n      leave(vnode, rm);\n    } else {\n      rm();\n    }\n  }\n} : {};\n\nvar platformModules = [\n  attrs,\n  klass,\n  events,\n  domProps,\n  style,\n  transition\n];\n\n/*  */\n\n// the directive module should be applied last, after all\n// built-in modules have been applied.\nvar modules = platformModules.concat(baseModules);\n\nvar patch = createPatchFunction({ nodeOps: nodeOps, modules: modules });\n\n/**\n * Not type checking this file because flow doesn't like attaching\n * properties to Elements.\n */\n\n/* istanbul ignore if */\nif (isIE9) {\n  // http://www.matts411.com/post/internet-explorer-9-oninput/\n  document.addEventListener('selectionchange', function () {\n    var el = document.activeElement;\n    if (el && el.vmodel) {\n      trigger(el, 'input');\n    }\n  });\n}\n\nvar directive = {\n  inserted: function inserted (el, binding, vnode, oldVnode) {\n    if (vnode.tag === 'select') {\n      // #6903\n      if (oldVnode.elm && !oldVnode.elm._vOptions) {\n        mergeVNodeHook(vnode, 'postpatch', function () {\n          directive.componentUpdated(el, binding, vnode);\n        });\n      } else {\n        setSelected(el, binding, vnode.context);\n      }\n      el._vOptions = [].map.call(el.options, getValue);\n    } else if (vnode.tag === 'textarea' || isTextInputType(el.type)) {\n      el._vModifiers = binding.modifiers;\n      if (!binding.modifiers.lazy) {\n        el.addEventListener('compositionstart', onCompositionStart);\n        el.addEventListener('compositionend', onCompositionEnd);\n        // Safari < 10.2 & UIWebView doesn't fire compositionend when\n        // switching focus before confirming composition choice\n        // this also fixes the issue where some browsers e.g. iOS Chrome\n        // fires \"change\" instead of \"input\" on autocomplete.\n        el.addEventListener('change', onCompositionEnd);\n        /* istanbul ignore if */\n        if (isIE9) {\n          el.vmodel = true;\n        }\n      }\n    }\n  },\n\n  componentUpdated: function componentUpdated (el, binding, vnode) {\n    if (vnode.tag === 'select') {\n      setSelected(el, binding, vnode.context);\n      // in case the options rendered by v-for have changed,\n      // it's possible that the value is out-of-sync with the rendered options.\n      // detect such cases and filter out values that no longer has a matching\n      // option in the DOM.\n      var prevOptions = el._vOptions;\n      var curOptions = el._vOptions = [].map.call(el.options, getValue);\n      if (curOptions.some(function (o, i) { return !looseEqual(o, prevOptions[i]); })) {\n        // trigger change event if\n        // no matching option found for at least one value\n        var needReset = el.multiple\n          ? binding.value.some(function (v) { return hasNoMatchingOption(v, curOptions); })\n          : binding.value !== binding.oldValue && hasNoMatchingOption(binding.value, curOptions);\n        if (needReset) {\n          trigger(el, 'change');\n        }\n      }\n    }\n  }\n};\n\nfunction setSelected (el, binding, vm) {\n  actuallySetSelected(el, binding, vm);\n  /* istanbul ignore if */\n  if (isIE || isEdge) {\n    setTimeout(function () {\n      actuallySetSelected(el, binding, vm);\n    }, 0);\n  }\n}\n\nfunction actuallySetSelected (el, binding, vm) {\n  var value = binding.value;\n  var isMultiple = el.multiple;\n  if (isMultiple && !Array.isArray(value)) {\n    process.env.NODE_ENV !== 'production' && warn(\n      \"<select multiple v-model=\\\"\" + (binding.expression) + \"\\\"> \" +\n      \"expects an Array value for its binding, but got \" + (Object.prototype.toString.call(value).slice(8, -1)),\n      vm\n    );\n    return\n  }\n  var selected, option;\n  for (var i = 0, l = el.options.length; i < l; i++) {\n    option = el.options[i];\n    if (isMultiple) {\n      selected = looseIndexOf(value, getValue(option)) > -1;\n      if (option.selected !== selected) {\n        option.selected = selected;\n      }\n    } else {\n      if (looseEqual(getValue(option), value)) {\n        if (el.selectedIndex !== i) {\n          el.selectedIndex = i;\n        }\n        return\n      }\n    }\n  }\n  if (!isMultiple) {\n    el.selectedIndex = -1;\n  }\n}\n\nfunction hasNoMatchingOption (value, options) {\n  return options.every(function (o) { return !looseEqual(o, value); })\n}\n\nfunction getValue (option) {\n  return '_value' in option\n    ? option._value\n    : option.value\n}\n\nfunction onCompositionStart (e) {\n  e.target.composing = true;\n}\n\nfunction onCompositionEnd (e) {\n  // prevent triggering an input event for no reason\n  if (!e.target.composing) { return }\n  e.target.composing = false;\n  trigger(e.target, 'input');\n}\n\nfunction trigger (el, type) {\n  var e = document.createEvent('HTMLEvents');\n  e.initEvent(type, true, true);\n  el.dispatchEvent(e);\n}\n\n/*  */\n\n// recursively search for possible transition defined inside the component root\nfunction locateNode (vnode) {\n  return vnode.componentInstance && (!vnode.data || !vnode.data.transition)\n    ? locateNode(vnode.componentInstance._vnode)\n    : vnode\n}\n\nvar show = {\n  bind: function bind (el, ref, vnode) {\n    var value = ref.value;\n\n    vnode = locateNode(vnode);\n    var transition$$1 = vnode.data && vnode.data.transition;\n    var originalDisplay = el.__vOriginalDisplay =\n      el.style.display === 'none' ? '' : el.style.display;\n    if (value && transition$$1) {\n      vnode.data.show = true;\n      enter(vnode, function () {\n        el.style.display = originalDisplay;\n      });\n    } else {\n      el.style.display = value ? originalDisplay : 'none';\n    }\n  },\n\n  update: function update (el, ref, vnode) {\n    var value = ref.value;\n    var oldValue = ref.oldValue;\n\n    /* istanbul ignore if */\n    if (!value === !oldValue) { return }\n    vnode = locateNode(vnode);\n    var transition$$1 = vnode.data && vnode.data.transition;\n    if (transition$$1) {\n      vnode.data.show = true;\n      if (value) {\n        enter(vnode, function () {\n          el.style.display = el.__vOriginalDisplay;\n        });\n      } else {\n        leave(vnode, function () {\n          el.style.display = 'none';\n        });\n      }\n    } else {\n      el.style.display = value ? el.__vOriginalDisplay : 'none';\n    }\n  },\n\n  unbind: function unbind (\n    el,\n    binding,\n    vnode,\n    oldVnode,\n    isDestroy\n  ) {\n    if (!isDestroy) {\n      el.style.display = el.__vOriginalDisplay;\n    }\n  }\n};\n\nvar platformDirectives = {\n  model: directive,\n  show: show\n};\n\n/*  */\n\nvar transitionProps = {\n  name: String,\n  appear: Boolean,\n  css: Boolean,\n  mode: String,\n  type: String,\n  enterClass: String,\n  leaveClass: String,\n  enterToClass: String,\n  leaveToClass: String,\n  enterActiveClass: String,\n  leaveActiveClass: String,\n  appearClass: String,\n  appearActiveClass: String,\n  appearToClass: String,\n  duration: [Number, String, Object]\n};\n\n// in case the child is also an abstract component, e.g. <keep-alive>\n// we want to recursively retrieve the real component to be rendered\nfunction getRealChild (vnode) {\n  var compOptions = vnode && vnode.componentOptions;\n  if (compOptions && compOptions.Ctor.options.abstract) {\n    return getRealChild(getFirstComponentChild(compOptions.children))\n  } else {\n    return vnode\n  }\n}\n\nfunction extractTransitionData (comp) {\n  var data = {};\n  var options = comp.$options;\n  // props\n  for (var key in options.propsData) {\n    data[key] = comp[key];\n  }\n  // events.\n  // extract listeners and pass them directly to the transition methods\n  var listeners = options._parentListeners;\n  for (var key$1 in listeners) {\n    data[camelize(key$1)] = listeners[key$1];\n  }\n  return data\n}\n\nfunction placeholder (h, rawChild) {\n  if (/\\d-keep-alive$/.test(rawChild.tag)) {\n    return h('keep-alive', {\n      props: rawChild.componentOptions.propsData\n    })\n  }\n}\n\nfunction hasParentTransition (vnode) {\n  while ((vnode = vnode.parent)) {\n    if (vnode.data.transition) {\n      return true\n    }\n  }\n}\n\nfunction isSameChild (child, oldChild) {\n  return oldChild.key === child.key && oldChild.tag === child.tag\n}\n\nvar isNotTextNode = function (c) { return c.tag || isAsyncPlaceholder(c); };\n\nvar isVShowDirective = function (d) { return d.name === 'show'; };\n\nvar Transition = {\n  name: 'transition',\n  props: transitionProps,\n  abstract: true,\n\n  render: function render (h) {\n    var this$1 = this;\n\n    var children = this.$slots.default;\n    if (!children) {\n      return\n    }\n\n    // filter out text nodes (possible whitespaces)\n    children = children.filter(isNotTextNode);\n    /* istanbul ignore if */\n    if (!children.length) {\n      return\n    }\n\n    // warn multiple elements\n    if (process.env.NODE_ENV !== 'production' && children.length > 1) {\n      warn(\n        '<transition> can only be used on a single element. Use ' +\n        '<transition-group> for lists.',\n        this.$parent\n      );\n    }\n\n    var mode = this.mode;\n\n    // warn invalid mode\n    if (process.env.NODE_ENV !== 'production' &&\n      mode && mode !== 'in-out' && mode !== 'out-in'\n    ) {\n      warn(\n        'invalid <transition> mode: ' + mode,\n        this.$parent\n      );\n    }\n\n    var rawChild = children[0];\n\n    // if this is a component root node and the component's\n    // parent container node also has transition, skip.\n    if (hasParentTransition(this.$vnode)) {\n      return rawChild\n    }\n\n    // apply transition data to child\n    // use getRealChild() to ignore abstract components e.g. keep-alive\n    var child = getRealChild(rawChild);\n    /* istanbul ignore if */\n    if (!child) {\n      return rawChild\n    }\n\n    if (this._leaving) {\n      return placeholder(h, rawChild)\n    }\n\n    // ensure a key that is unique to the vnode type and to this transition\n    // component instance. This key will be used to remove pending leaving nodes\n    // during entering.\n    var id = \"__transition-\" + (this._uid) + \"-\";\n    child.key = child.key == null\n      ? child.isComment\n        ? id + 'comment'\n        : id + child.tag\n      : isPrimitive(child.key)\n        ? (String(child.key).indexOf(id) === 0 ? child.key : id + child.key)\n        : child.key;\n\n    var data = (child.data || (child.data = {})).transition = extractTransitionData(this);\n    var oldRawChild = this._vnode;\n    var oldChild = getRealChild(oldRawChild);\n\n    // mark v-show\n    // so that the transition module can hand over the control to the directive\n    if (child.data.directives && child.data.directives.some(isVShowDirective)) {\n      child.data.show = true;\n    }\n\n    if (\n      oldChild &&\n      oldChild.data &&\n      !isSameChild(child, oldChild) &&\n      !isAsyncPlaceholder(oldChild) &&\n      // #6687 component root is a comment node\n      !(oldChild.componentInstance && oldChild.componentInstance._vnode.isComment)\n    ) {\n      // replace old child transition data with fresh one\n      // important for dynamic transitions!\n      var oldData = oldChild.data.transition = extend({}, data);\n      // handle transition mode\n      if (mode === 'out-in') {\n        // return placeholder node and queue update when leave finishes\n        this._leaving = true;\n        mergeVNodeHook(oldData, 'afterLeave', function () {\n          this$1._leaving = false;\n          this$1.$forceUpdate();\n        });\n        return placeholder(h, rawChild)\n      } else if (mode === 'in-out') {\n        if (isAsyncPlaceholder(child)) {\n          return oldRawChild\n        }\n        var delayedLeave;\n        var performLeave = function () { delayedLeave(); };\n        mergeVNodeHook(data, 'afterEnter', performLeave);\n        mergeVNodeHook(data, 'enterCancelled', performLeave);\n        mergeVNodeHook(oldData, 'delayLeave', function (leave) { delayedLeave = leave; });\n      }\n    }\n\n    return rawChild\n  }\n};\n\n/*  */\n\nvar props = extend({\n  tag: String,\n  moveClass: String\n}, transitionProps);\n\ndelete props.mode;\n\nvar TransitionGroup = {\n  props: props,\n\n  beforeMount: function beforeMount () {\n    var this$1 = this;\n\n    var update = this._update;\n    this._update = function (vnode, hydrating) {\n      var restoreActiveInstance = setActiveInstance(this$1);\n      // force removing pass\n      this$1.__patch__(\n        this$1._vnode,\n        this$1.kept,\n        false, // hydrating\n        true // removeOnly (!important, avoids unnecessary moves)\n      );\n      this$1._vnode = this$1.kept;\n      restoreActiveInstance();\n      update.call(this$1, vnode, hydrating);\n    };\n  },\n\n  render: function render (h) {\n    var tag = this.tag || this.$vnode.data.tag || 'span';\n    var map = Object.create(null);\n    var prevChildren = this.prevChildren = this.children;\n    var rawChildren = this.$slots.default || [];\n    var children = this.children = [];\n    var transitionData = extractTransitionData(this);\n\n    for (var i = 0; i < rawChildren.length; i++) {\n      var c = rawChildren[i];\n      if (c.tag) {\n        if (c.key != null && String(c.key).indexOf('__vlist') !== 0) {\n          children.push(c);\n          map[c.key] = c\n          ;(c.data || (c.data = {})).transition = transitionData;\n        } else if (process.env.NODE_ENV !== 'production') {\n          var opts = c.componentOptions;\n          var name = opts ? (opts.Ctor.options.name || opts.tag || '') : c.tag;\n          warn((\"<transition-group> children must be keyed: <\" + name + \">\"));\n        }\n      }\n    }\n\n    if (prevChildren) {\n      var kept = [];\n      var removed = [];\n      for (var i$1 = 0; i$1 < prevChildren.length; i$1++) {\n        var c$1 = prevChildren[i$1];\n        c$1.data.transition = transitionData;\n        c$1.data.pos = c$1.elm.getBoundingClientRect();\n        if (map[c$1.key]) {\n          kept.push(c$1);\n        } else {\n          removed.push(c$1);\n        }\n      }\n      this.kept = h(tag, null, kept);\n      this.removed = removed;\n    }\n\n    return h(tag, null, children)\n  },\n\n  updated: function updated () {\n    var children = this.prevChildren;\n    var moveClass = this.moveClass || ((this.name || 'v') + '-move');\n    if (!children.length || !this.hasMove(children[0].elm, moveClass)) {\n      return\n    }\n\n    // we divide the work into three loops to avoid mixing DOM reads and writes\n    // in each iteration - which helps prevent layout thrashing.\n    children.forEach(callPendingCbs);\n    children.forEach(recordPosition);\n    children.forEach(applyTranslation);\n\n    // force reflow to put everything in position\n    // assign to this to avoid being removed in tree-shaking\n    // $flow-disable-line\n    this._reflow = document.body.offsetHeight;\n\n    children.forEach(function (c) {\n      if (c.data.moved) {\n        var el = c.elm;\n        var s = el.style;\n        addTransitionClass(el, moveClass);\n        s.transform = s.WebkitTransform = s.transitionDuration = '';\n        el.addEventListener(transitionEndEvent, el._moveCb = function cb (e) {\n          if (e && e.target !== el) {\n            return\n          }\n          if (!e || /transform$/.test(e.propertyName)) {\n            el.removeEventListener(transitionEndEvent, cb);\n            el._moveCb = null;\n            removeTransitionClass(el, moveClass);\n          }\n        });\n      }\n    });\n  },\n\n  methods: {\n    hasMove: function hasMove (el, moveClass) {\n      /* istanbul ignore if */\n      if (!hasTransition) {\n        return false\n      }\n      /* istanbul ignore if */\n      if (this._hasMove) {\n        return this._hasMove\n      }\n      // Detect whether an element with the move class applied has\n      // CSS transitions. Since the element may be inside an entering\n      // transition at this very moment, we make a clone of it and remove\n      // all other transition classes applied to ensure only the move class\n      // is applied.\n      var clone = el.cloneNode();\n      if (el._transitionClasses) {\n        el._transitionClasses.forEach(function (cls) { removeClass(clone, cls); });\n      }\n      addClass(clone, moveClass);\n      clone.style.display = 'none';\n      this.$el.appendChild(clone);\n      var info = getTransitionInfo(clone);\n      this.$el.removeChild(clone);\n      return (this._hasMove = info.hasTransform)\n    }\n  }\n};\n\nfunction callPendingCbs (c) {\n  /* istanbul ignore if */\n  if (c.elm._moveCb) {\n    c.elm._moveCb();\n  }\n  /* istanbul ignore if */\n  if (c.elm._enterCb) {\n    c.elm._enterCb();\n  }\n}\n\nfunction recordPosition (c) {\n  c.data.newPos = c.elm.getBoundingClientRect();\n}\n\nfunction applyTranslation (c) {\n  var oldPos = c.data.pos;\n  var newPos = c.data.newPos;\n  var dx = oldPos.left - newPos.left;\n  var dy = oldPos.top - newPos.top;\n  if (dx || dy) {\n    c.data.moved = true;\n    var s = c.elm.style;\n    s.transform = s.WebkitTransform = \"translate(\" + dx + \"px,\" + dy + \"px)\";\n    s.transitionDuration = '0s';\n  }\n}\n\nvar platformComponents = {\n  Transition: Transition,\n  TransitionGroup: TransitionGroup\n};\n\n/*  */\n\n// install platform specific utils\nVue.config.mustUseProp = mustUseProp;\nVue.config.isReservedTag = isReservedTag;\nVue.config.isReservedAttr = isReservedAttr;\nVue.config.getTagNamespace = getTagNamespace;\nVue.config.isUnknownElement = isUnknownElement;\n\n// install platform runtime directives & components\nextend(Vue.options.directives, platformDirectives);\nextend(Vue.options.components, platformComponents);\n\n// install platform patch function\nVue.prototype.__patch__ = inBrowser ? patch : noop;\n\n// public mount method\nVue.prototype.$mount = function (\n  el,\n  hydrating\n) {\n  el = el && inBrowser ? query(el) : undefined;\n  return mountComponent(this, el, hydrating)\n};\n\n// devtools global hook\n/* istanbul ignore next */\nif (inBrowser) {\n  setTimeout(function () {\n    if (config.devtools) {\n      if (devtools) {\n        devtools.emit('init', Vue);\n      } else if (\n        process.env.NODE_ENV !== 'production' &&\n        process.env.NODE_ENV !== 'test'\n      ) {\n        console[console.info ? 'info' : 'log'](\n          'Download the Vue Devtools extension for a better development experience:\\n' +\n          'https://github.com/vuejs/vue-devtools'\n        );\n      }\n    }\n    if (process.env.NODE_ENV !== 'production' &&\n      process.env.NODE_ENV !== 'test' &&\n      config.productionTip !== false &&\n      typeof console !== 'undefined'\n    ) {\n      console[console.info ? 'info' : 'log'](\n        \"You are running Vue in development mode.\\n\" +\n        \"Make sure to turn on production mode when deploying for production.\\n\" +\n        \"See more tips at https://vuejs.org/guide/deployment.html\"\n      );\n    }\n  }, 0);\n}\n\n/*  */\n\nexport default Vue;\n","var global = require('../internals/global');\nvar fails = require('../internals/fails');\nvar classof = require('../internals/classof-raw');\nvar bind = require('../internals/function-bind-context');\nvar html = require('../internals/html');\nvar createElement = require('../internals/document-create-element');\nvar IS_IOS = require('../internals/engine-is-ios');\n\nvar location = global.location;\nvar set = global.setImmediate;\nvar clear = global.clearImmediate;\nvar process = global.process;\nvar MessageChannel = global.MessageChannel;\nvar Dispatch = global.Dispatch;\nvar counter = 0;\nvar queue = {};\nvar ONREADYSTATECHANGE = 'onreadystatechange';\nvar defer, channel, port;\n\nvar run = function (id) {\n  // eslint-disable-next-line no-prototype-builtins\n  if (queue.hasOwnProperty(id)) {\n    var fn = queue[id];\n    delete queue[id];\n    fn();\n  }\n};\n\nvar runner = function (id) {\n  return function () {\n    run(id);\n  };\n};\n\nvar listener = function (event) {\n  run(event.data);\n};\n\nvar post = function (id) {\n  // old engines have not location.origin\n  global.postMessage(id + '', location.protocol + '//' + location.host);\n};\n\n// Node.js 0.9+ & IE10+ has setImmediate, otherwise:\nif (!set || !clear) {\n  set = function setImmediate(fn) {\n    var args = [];\n    var i = 1;\n    while (arguments.length > i) args.push(arguments[i++]);\n    queue[++counter] = function () {\n      // eslint-disable-next-line no-new-func\n      (typeof fn == 'function' ? fn : Function(fn)).apply(undefined, args);\n    };\n    defer(counter);\n    return counter;\n  };\n  clear = function clearImmediate(id) {\n    delete queue[id];\n  };\n  // Node.js 0.8-\n  if (classof(process) == 'process') {\n    defer = function (id) {\n      process.nextTick(runner(id));\n    };\n  // Sphere (JS game engine) Dispatch API\n  } else if (Dispatch && Dispatch.now) {\n    defer = function (id) {\n      Dispatch.now(runner(id));\n    };\n  // Browsers with MessageChannel, includes WebWorkers\n  // except iOS - https://github.com/zloirock/core-js/issues/624\n  } else if (MessageChannel && !IS_IOS) {\n    channel = new MessageChannel();\n    port = channel.port2;\n    channel.port1.onmessage = listener;\n    defer = bind(port.postMessage, port, 1);\n  // Browsers with postMessage, skip WebWorkers\n  // IE8 has postMessage, but it's sync & typeof its postMessage is 'object'\n  } else if (\n    global.addEventListener &&\n    typeof postMessage == 'function' &&\n    !global.importScripts &&\n    !fails(post) &&\n    location.protocol !== 'file:'\n  ) {\n    defer = post;\n    global.addEventListener('message', listener, false);\n  // IE8-\n  } else if (ONREADYSTATECHANGE in createElement('script')) {\n    defer = function (id) {\n      html.appendChild(createElement('script'))[ONREADYSTATECHANGE] = function () {\n        html.removeChild(this);\n        run(id);\n      };\n    };\n  // Rest old browsers\n  } else {\n    defer = function (id) {\n      setTimeout(runner(id), 0);\n    };\n  }\n}\n\nmodule.exports = {\n  set: set,\n  clear: clear\n};\n","var global = require('../internals/global');\nvar userAgent = require('../internals/engine-user-agent');\n\nvar process = global.process;\nvar versions = process && process.versions;\nvar v8 = versions && versions.v8;\nvar match, version;\n\nif (v8) {\n  match = v8.split('.');\n  version = match[0] + match[1];\n} else if (userAgent) {\n  match = userAgent.match(/Edge\\/(\\d+)/);\n  if (!match || match[1] >= 74) {\n    match = userAgent.match(/Chrome\\/(\\d+)/);\n    if (match) version = match[1];\n  }\n}\n\nmodule.exports = version && +version;\n","var getBuiltIn = require('../internals/get-built-in');\n\nmodule.exports = getBuiltIn('navigator', 'userAgent') || '';\n","var classof = require('../internals/classof');\nvar Iterators = require('../internals/iterators');\nvar wellKnownSymbol = require('../internals/well-known-symbol');\n\nvar ITERATOR = wellKnownSymbol('iterator');\n\nmodule.exports = function (it) {\n  if (it != undefined) return it[ITERATOR]\n    || it['@@iterator']\n    || Iterators[classof(it)];\n};\n","var DESCRIPTORS = require('../internals/descriptors');\nvar definePropertyModule = require('../internals/object-define-property');\nvar anObject = require('../internals/an-object');\nvar objectKeys = require('../internals/object-keys');\n\n// `Object.defineProperties` method\n// https://tc39.github.io/ecma262/#sec-object.defineproperties\nmodule.exports = DESCRIPTORS ? Object.defineProperties : function defineProperties(O, Properties) {\n  anObject(O);\n  var keys = objectKeys(Properties);\n  var length = keys.length;\n  var index = 0;\n  var key;\n  while (length > index) definePropertyModule.f(O, key = keys[index++], Properties[key]);\n  return O;\n};\n","var isObject = require('../internals/is-object');\n\nmodule.exports = function (it) {\n  if (!isObject(it) && it !== null) {\n    throw TypeError(\"Can't set \" + String(it) + ' as a prototype');\n  } return it;\n};\n","'use strict';\nvar charAt = require('../internals/string-multibyte').charAt;\nvar InternalStateModule = require('../internals/internal-state');\nvar defineIterator = require('../internals/define-iterator');\n\nvar STRING_ITERATOR = 'String Iterator';\nvar setInternalState = InternalStateModule.set;\nvar getInternalState = InternalStateModule.getterFor(STRING_ITERATOR);\n\n// `String.prototype[@@iterator]` method\n// https://tc39.github.io/ecma262/#sec-string.prototype-@@iterator\ndefineIterator(String, 'String', function (iterated) {\n  setInternalState(this, {\n    type: STRING_ITERATOR,\n    string: String(iterated),\n    index: 0\n  });\n// `%StringIteratorPrototype%.next` method\n// https://tc39.github.io/ecma262/#sec-%stringiteratorprototype%.next\n}, function next() {\n  var state = getInternalState(this);\n  var string = state.string;\n  var index = state.index;\n  var point;\n  if (index >= string.length) return { value: undefined, done: true };\n  point = charAt(string, index);\n  state.index += point.length;\n  return { value: point, done: false };\n});\n","module.exports = {};\n","if (typeof Object.create === 'function') {\n  // implementation from standard node.js 'util' module\n  module.exports = function inherits(ctor, superCtor) {\n    if (superCtor) {\n      ctor.super_ = superCtor\n      ctor.prototype = Object.create(superCtor.prototype, {\n        constructor: {\n          value: ctor,\n          enumerable: false,\n          writable: true,\n          configurable: true\n        }\n      })\n    }\n  };\n} else {\n  // old school shim for old browsers\n  module.exports = function inherits(ctor, superCtor) {\n    if (superCtor) {\n      ctor.super_ = superCtor\n      var TempCtor = function () {}\n      TempCtor.prototype = superCtor.prototype\n      ctor.prototype = new TempCtor()\n      ctor.prototype.constructor = ctor\n    }\n  }\n}\n","'use strict';\nvar $ = require('../internals/export');\nvar forEach = require('../internals/array-for-each');\n\n// `Array.prototype.forEach` method\n// https://tc39.github.io/ecma262/#sec-array.prototype.foreach\n$({ target: 'Array', proto: true, forced: [].forEach != forEach }, {\n  forEach: forEach\n});\n","var global = require('../internals/global');\n\nmodule.exports = global;\n","exports.nextTick = function nextTick(fn) {\n    var args = Array.prototype.slice.call(arguments);\n    args.shift();\n    setTimeout(function () {\n        fn.apply(null, args);\n    }, 0);\n};\n\nexports.platform = exports.arch = \nexports.execPath = exports.title = 'browser';\nexports.pid = 1;\nexports.browser = true;\nexports.env = {};\nexports.argv = [];\n\nexports.binding = function (name) {\n\tthrow new Error('No such module. (Possibly not yet loaded)')\n};\n\n(function () {\n    var cwd = '/';\n    var path;\n    exports.cwd = function () { return cwd };\n    exports.chdir = function (dir) {\n        if (!path) path = require('path');\n        cwd = path.resolve(dir, cwd);\n    };\n})();\n\nexports.exit = exports.kill = \nexports.umask = exports.dlopen = \nexports.uptime = exports.memoryUsage = \nexports.uvCounters = function() {};\nexports.features = {};\n","var fails = require('../internals/fails');\nvar classof = require('../internals/classof-raw');\n\nvar split = ''.split;\n\n// fallback for non-array-like ES3 and non-enumerable old V8 strings\nmodule.exports = fails(function () {\n  // throws an error in rhino, see https://github.com/mozilla/rhino/issues/346\n  // eslint-disable-next-line no-prototype-builtins\n  return !Object('z').propertyIsEnumerable(0);\n}) ? function (it) {\n  return classof(it) == 'String' ? split.call(it, '') : Object(it);\n} : Object;\n","var wellKnownSymbol = require('../internals/well-known-symbol');\nvar create = require('../internals/object-create');\nvar definePropertyModule = require('../internals/object-define-property');\n\nvar UNSCOPABLES = wellKnownSymbol('unscopables');\nvar ArrayPrototype = Array.prototype;\n\n// Array.prototype[@@unscopables]\n// https://tc39.github.io/ecma262/#sec-array.prototype-@@unscopables\nif (ArrayPrototype[UNSCOPABLES] == undefined) {\n  definePropertyModule.f(ArrayPrototype, UNSCOPABLES, {\n    configurable: true,\n    value: create(null)\n  });\n}\n\n// add a key to Array.prototype[@@unscopables]\nmodule.exports = function (key) {\n  ArrayPrototype[UNSCOPABLES][key] = true;\n};\n","var global = require('../internals/global');\n\nmodule.exports = function (a, b) {\n  var console = global.console;\n  if (console && console.error) {\n    arguments.length === 1 ? console.error(a) : console.error(a, b);\n  }\n};\n","var anObject = require('../internals/an-object');\nvar aFunction = require('../internals/a-function');\nvar wellKnownSymbol = require('../internals/well-known-symbol');\n\nvar SPECIES = wellKnownSymbol('species');\n\n// `SpeciesConstructor` abstract operation\n// https://tc39.github.io/ecma262/#sec-speciesconstructor\nmodule.exports = function (O, defaultConstructor) {\n  var C = anObject(O).constructor;\n  var S;\n  return C === undefined || (S = anObject(C)[SPECIES]) == undefined ? defaultConstructor : aFunction(S);\n};\n","var fails = require('../internals/fails');\n\nmodule.exports = !!Object.getOwnPropertySymbols && !fails(function () {\n  // Chrome 38 Symbol has incorrect toString conversion\n  // eslint-disable-next-line no-undef\n  return !String(Symbol());\n});\n","var toIndexedObject = require('../internals/to-indexed-object');\nvar toLength = require('../internals/to-length');\nvar toAbsoluteIndex = require('../internals/to-absolute-index');\n\n// `Array.prototype.{ indexOf, includes }` methods implementation\nvar createMethod = function (IS_INCLUDES) {\n  return function ($this, el, fromIndex) {\n    var O = toIndexedObject($this);\n    var length = toLength(O.length);\n    var index = toAbsoluteIndex(fromIndex, length);\n    var value;\n    // Array#includes uses SameValueZero equality algorithm\n    // eslint-disable-next-line no-self-compare\n    if (IS_INCLUDES && el != el) while (length > index) {\n      value = O[index++];\n      // eslint-disable-next-line no-self-compare\n      if (value != value) return true;\n    // Array#indexOf ignores holes, Array#includes - not\n    } else for (;length > index; index++) {\n      if ((IS_INCLUDES || index in O) && O[index] === el) return IS_INCLUDES || index || 0;\n    } return !IS_INCLUDES && -1;\n  };\n};\n\nmodule.exports = {\n  // `Array.prototype.includes` method\n  // https://tc39.github.io/ecma262/#sec-array.prototype.includes\n  includes: createMethod(true),\n  // `Array.prototype.indexOf` method\n  // https://tc39.github.io/ecma262/#sec-array.prototype.indexof\n  indexOf: createMethod(false)\n};\n","'use strict';\nvar $ = require('../internals/export');\nvar $filter = require('../internals/array-iteration').filter;\nvar arrayMethodHasSpeciesSupport = require('../internals/array-method-has-species-support');\nvar arrayMethodUsesToLength = require('../internals/array-method-uses-to-length');\n\nvar HAS_SPECIES_SUPPORT = arrayMethodHasSpeciesSupport('filter');\n// Edge 14- issue\nvar USES_TO_LENGTH = arrayMethodUsesToLength('filter');\n\n// `Array.prototype.filter` method\n// https://tc39.github.io/ecma262/#sec-array.prototype.filter\n// with adding support of @@species\n$({ target: 'Array', proto: true, forced: !HAS_SPECIES_SUPPORT || !USES_TO_LENGTH }, {\n  filter: function filter(callbackfn /* , thisArg */) {\n    return $filter(this, callbackfn, arguments.length > 1 ? arguments[1] : undefined);\n  }\n});\n","'use strict';\nvar bind = require('../internals/function-bind-context');\nvar toObject = require('../internals/to-object');\nvar callWithSafeIterationClosing = require('../internals/call-with-safe-iteration-closing');\nvar isArrayIteratorMethod = require('../internals/is-array-iterator-method');\nvar toLength = require('../internals/to-length');\nvar createProperty = require('../internals/create-property');\nvar getIteratorMethod = require('../internals/get-iterator-method');\n\n// `Array.from` method implementation\n// https://tc39.github.io/ecma262/#sec-array.from\nmodule.exports = function from(arrayLike /* , mapfn = undefined, thisArg = undefined */) {\n  var O = toObject(arrayLike);\n  var C = typeof this == 'function' ? this : Array;\n  var argumentsLength = arguments.length;\n  var mapfn = argumentsLength > 1 ? arguments[1] : undefined;\n  var mapping = mapfn !== undefined;\n  var iteratorMethod = getIteratorMethod(O);\n  var index = 0;\n  var length, result, step, iterator, next, value;\n  if (mapping) mapfn = bind(mapfn, argumentsLength > 2 ? arguments[2] : undefined, 2);\n  // if the target is not iterable or it's an array with the default iterator - use a simple case\n  if (iteratorMethod != undefined && !(C == Array && isArrayIteratorMethod(iteratorMethod))) {\n    iterator = iteratorMethod.call(O);\n    next = iterator.next;\n    result = new C();\n    for (;!(step = next.call(iterator)).done; index++) {\n      value = mapping ? callWithSafeIterationClosing(iterator, mapfn, [step.value, index], true) : step.value;\n      createProperty(result, index, value);\n    }\n  } else {\n    length = toLength(O.length);\n    result = new C(length);\n    for (;length > index; index++) {\n      value = mapping ? mapfn(O[index], index) : O[index];\n      createProperty(result, index, value);\n    }\n  }\n  result.length = index;\n  return result;\n};\n","// Unique ID creation requires a high quality random # generator. In the browser we therefore\n// require the crypto API and do not support built-in fallback to lower quality random number\n// generators (like Math.random()).\n// getRandomValues needs to be invoked in a context where \"this\" is a Crypto implementation. Also,\n// find the complete implementation of crypto (msCrypto) on IE11.\nvar getRandomValues = typeof crypto !== 'undefined' && crypto.getRandomValues && crypto.getRandomValues.bind(crypto) || typeof msCrypto !== 'undefined' && typeof msCrypto.getRandomValues === 'function' && msCrypto.getRandomValues.bind(msCrypto);\nvar rnds8 = new Uint8Array(16);\nexport default function rng() {\n  if (!getRandomValues) {\n    throw new Error('crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported');\n  }\n\n  return getRandomValues(rnds8);\n}","/**\n * Convert array of 16 byte values to UUID string format of the form:\n * XXXXXXXX-XXXX-XXXX-XXXX-XXXXXXXXXXXX\n */\nvar byteToHex = [];\n\nfor (var i = 0; i < 256; ++i) {\n  byteToHex.push((i + 0x100).toString(16).substr(1));\n}\n\nfunction bytesToUuid(buf, offset) {\n  var i = offset || 0;\n  var bth = byteToHex; // Note: Be careful editing this code!  It's been tuned for performance\n  // and works in ways you may not expect. See https://github.com/uuidjs/uuid/pull/434\n\n  return (bth[buf[i + 0]] + bth[buf[i + 1]] + bth[buf[i + 2]] + bth[buf[i + 3]] + '-' + bth[buf[i + 4]] + bth[buf[i + 5]] + '-' + bth[buf[i + 6]] + bth[buf[i + 7]] + '-' + bth[buf[i + 8]] + bth[buf[i + 9]] + '-' + bth[buf[i + 10]] + bth[buf[i + 11]] + bth[buf[i + 12]] + bth[buf[i + 13]] + bth[buf[i + 14]] + bth[buf[i + 15]]).toLowerCase();\n}\n\nexport default bytesToUuid;","import rng from './rng.js';\nimport bytesToUuid from './bytesToUuid.js';\n\nfunction v4(options, buf, offset) {\n  if (typeof options === 'string') {\n    buf = options === 'binary' ? new Uint8Array(16) : null;\n    options = null;\n  }\n\n  options = options || {};\n  var rnds = options.random || (options.rng || rng)(); // Per 4.4, set bits for version and `clock_seq_hi_and_reserved`\n\n  rnds[6] = rnds[6] & 0x0f | 0x40;\n  rnds[8] = rnds[8] & 0x3f | 0x80; // Copy bytes to buffer, if provided\n\n  if (buf) {\n    var start = offset || 0;\n\n    for (var i = 0; i < 16; ++i) {\n      buf[start + i] = rnds[i];\n    }\n\n    return buf;\n  }\n\n  return bytesToUuid(rnds);\n}\n\nexport default v4;","var toInteger = require('../internals/to-integer');\n\nvar min = Math.min;\n\n// `ToLength` abstract operation\n// https://tc39.github.io/ecma262/#sec-tolength\nmodule.exports = function (argument) {\n  return argument > 0 ? min(toInteger(argument), 0x1FFFFFFFFFFFFF) : 0; // 2 ** 53 - 1 == 9007199254740991\n};\n","var hasOwnProperty = {}.hasOwnProperty;\n\nmodule.exports = function (it, key) {\n  return hasOwnProperty.call(it, key);\n};\n","var IS_PURE = require('../internals/is-pure');\nvar store = require('../internals/shared-store');\n\n(module.exports = function (key, value) {\n  return store[key] || (store[key] = value !== undefined ? value : {});\n})('versions', []).push({\n  version: '3.6.5',\n  mode: IS_PURE ? 'pure' : 'global',\n  copyright: '© 2020 Denis Pushkarev (zloirock.ru)'\n});\n","var getBuiltIn = require('../internals/get-built-in');\nvar getOwnPropertyNamesModule = require('../internals/object-get-own-property-names');\nvar getOwnPropertySymbolsModule = require('../internals/object-get-own-property-symbols');\nvar anObject = require('../internals/an-object');\n\n// all object keys, includes non-enumerable and symbols\nmodule.exports = getBuiltIn('Reflect', 'ownKeys') || function ownKeys(it) {\n  var keys = getOwnPropertyNamesModule.f(anObject(it));\n  var getOwnPropertySymbols = getOwnPropertySymbolsModule.f;\n  return getOwnPropertySymbols ? keys.concat(getOwnPropertySymbols(it)) : keys;\n};\n","module.exports = function (bitmap, value) {\n  return {\n    enumerable: !(bitmap & 1),\n    configurable: !(bitmap & 2),\n    writable: !(bitmap & 4),\n    value: value\n  };\n};\n","'use strict';\nvar DESCRIPTORS = require('../internals/descriptors');\nvar fails = require('../internals/fails');\nvar objectKeys = require('../internals/object-keys');\nvar getOwnPropertySymbolsModule = require('../internals/object-get-own-property-symbols');\nvar propertyIsEnumerableModule = require('../internals/object-property-is-enumerable');\nvar toObject = require('../internals/to-object');\nvar IndexedObject = require('../internals/indexed-object');\n\nvar nativeAssign = Object.assign;\nvar defineProperty = Object.defineProperty;\n\n// `Object.assign` method\n// https://tc39.github.io/ecma262/#sec-object.assign\nmodule.exports = !nativeAssign || fails(function () {\n  // should have correct order of operations (Edge bug)\n  if (DESCRIPTORS && nativeAssign({ b: 1 }, nativeAssign(defineProperty({}, 'a', {\n    enumerable: true,\n    get: function () {\n      defineProperty(this, 'b', {\n        value: 3,\n        enumerable: false\n      });\n    }\n  }), { b: 2 })).b !== 1) return true;\n  // should work with symbols and should have deterministic property order (V8 bug)\n  var A = {};\n  var B = {};\n  // eslint-disable-next-line no-undef\n  var symbol = Symbol();\n  var alphabet = 'abcdefghijklmnopqrst';\n  A[symbol] = 7;\n  alphabet.split('').forEach(function (chr) { B[chr] = chr; });\n  return nativeAssign({}, A)[symbol] != 7 || objectKeys(nativeAssign({}, B)).join('') != alphabet;\n}) ? function assign(target, source) { // eslint-disable-line no-unused-vars\n  var T = toObject(target);\n  var argumentsLength = arguments.length;\n  var index = 1;\n  var getOwnPropertySymbols = getOwnPropertySymbolsModule.f;\n  var propertyIsEnumerable = propertyIsEnumerableModule.f;\n  while (argumentsLength > index) {\n    var S = IndexedObject(arguments[index++]);\n    var keys = getOwnPropertySymbols ? objectKeys(S).concat(getOwnPropertySymbols(S)) : objectKeys(S);\n    var length = keys.length;\n    var j = 0;\n    var key;\n    while (length > j) {\n      key = keys[j++];\n      if (!DESCRIPTORS || propertyIsEnumerable.call(S, key)) T[key] = S[key];\n    }\n  } return T;\n} : nativeAssign;\n","'use strict';\nexports.test = function () {\n  return typeof global.queueMicrotask === 'function';\n};\n\nexports.install = function (func) {\n  return function () {\n    global.queueMicrotask(func);\n  };\n};\n","var toInteger = require('../internals/to-integer');\nvar requireObjectCoercible = require('../internals/require-object-coercible');\n\n// `String.prototype.{ codePointAt, at }` methods implementation\nvar createMethod = function (CONVERT_TO_STRING) {\n  return function ($this, pos) {\n    var S = String(requireObjectCoercible($this));\n    var position = toInteger(pos);\n    var size = S.length;\n    var first, second;\n    if (position < 0 || position >= size) return CONVERT_TO_STRING ? '' : undefined;\n    first = S.charCodeAt(position);\n    return first < 0xD800 || first > 0xDBFF || position + 1 === size\n      || (second = S.charCodeAt(position + 1)) < 0xDC00 || second > 0xDFFF\n        ? CONVERT_TO_STRING ? S.charAt(position) : first\n        : CONVERT_TO_STRING ? S.slice(position, position + 2) : (first - 0xD800 << 10) + (second - 0xDC00) + 0x10000;\n  };\n};\n\nmodule.exports = {\n  // `String.prototype.codePointAt` method\n  // https://tc39.github.io/ecma262/#sec-string.prototype.codepointat\n  codeAt: createMethod(false),\n  // `String.prototype.at` method\n  // https://github.com/mathiasbynens/String.prototype.at\n  charAt: createMethod(true)\n};\n","var isObject = require('../internals/is-object');\nvar isArray = require('../internals/is-array');\nvar wellKnownSymbol = require('../internals/well-known-symbol');\n\nvar SPECIES = wellKnownSymbol('species');\n\n// `ArraySpeciesCreate` abstract operation\n// https://tc39.github.io/ecma262/#sec-arrayspeciescreate\nmodule.exports = function (originalArray, length) {\n  var C;\n  if (isArray(originalArray)) {\n    C = originalArray.constructor;\n    // cross-realm fallback\n    if (typeof C == 'function' && (C === Array || isArray(C.prototype))) C = undefined;\n    else if (isObject(C)) {\n      C = C[SPECIES];\n      if (C === null) C = undefined;\n    }\n  } return new (C === undefined ? Array : C)(length === 0 ? 0 : length);\n};\n","(function (factory) {\n    if (typeof exports === 'object') {\n        // Node/CommonJS\n        module.exports = factory();\n    } else if (typeof define === 'function' && define.amd) {\n        // AMD\n        define(factory);\n    } else {\n        // Browser globals (with support for web workers)\n        var glob;\n\n        try {\n            glob = window;\n        } catch (e) {\n            glob = self;\n        }\n\n        glob.SparkMD5 = factory();\n    }\n}(function (undefined) {\n\n    'use strict';\n\n    /*\n     * Fastest md5 implementation around (JKM md5).\n     * Credits: Joseph Myers\n     *\n     * @see http://www.myersdaily.org/joseph/javascript/md5-text.html\n     * @see http://jsperf.com/md5-shootout/7\n     */\n\n    /* this function is much faster,\n      so if possible we use it. Some IEs\n      are the only ones I know of that\n      need the idiotic second function,\n      generated by an if clause.  */\n    var add32 = function (a, b) {\n        return (a + b) & 0xFFFFFFFF;\n    },\n        hex_chr = ['0', '1', '2', '3', '4', '5', '6', '7', '8', '9', 'a', 'b', 'c', 'd', 'e', 'f'];\n\n\n    function cmn(q, a, b, x, s, t) {\n        a = add32(add32(a, q), add32(x, t));\n        return add32((a << s) | (a >>> (32 - s)), b);\n    }\n\n    function md5cycle(x, k) {\n        var a = x[0],\n            b = x[1],\n            c = x[2],\n            d = x[3];\n\n        a += (b & c | ~b & d) + k[0] - 680876936 | 0;\n        a  = (a << 7 | a >>> 25) + b | 0;\n        d += (a & b | ~a & c) + k[1] - 389564586 | 0;\n        d  = (d << 12 | d >>> 20) + a | 0;\n        c += (d & a | ~d & b) + k[2] + 606105819 | 0;\n        c  = (c << 17 | c >>> 15) + d | 0;\n        b += (c & d | ~c & a) + k[3] - 1044525330 | 0;\n        b  = (b << 22 | b >>> 10) + c | 0;\n        a += (b & c | ~b & d) + k[4] - 176418897 | 0;\n        a  = (a << 7 | a >>> 25) + b | 0;\n        d += (a & b | ~a & c) + k[5] + 1200080426 | 0;\n        d  = (d << 12 | d >>> 20) + a | 0;\n        c += (d & a | ~d & b) + k[6] - 1473231341 | 0;\n        c  = (c << 17 | c >>> 15) + d | 0;\n        b += (c & d | ~c & a) + k[7] - 45705983 | 0;\n        b  = (b << 22 | b >>> 10) + c | 0;\n        a += (b & c | ~b & d) + k[8] + 1770035416 | 0;\n        a  = (a << 7 | a >>> 25) + b | 0;\n        d += (a & b | ~a & c) + k[9] - 1958414417 | 0;\n        d  = (d << 12 | d >>> 20) + a | 0;\n        c += (d & a | ~d & b) + k[10] - 42063 | 0;\n        c  = (c << 17 | c >>> 15) + d | 0;\n        b += (c & d | ~c & a) + k[11] - 1990404162 | 0;\n        b  = (b << 22 | b >>> 10) + c | 0;\n        a += (b & c | ~b & d) + k[12] + 1804603682 | 0;\n        a  = (a << 7 | a >>> 25) + b | 0;\n        d += (a & b | ~a & c) + k[13] - 40341101 | 0;\n        d  = (d << 12 | d >>> 20) + a | 0;\n        c += (d & a | ~d & b) + k[14] - 1502002290 | 0;\n        c  = (c << 17 | c >>> 15) + d | 0;\n        b += (c & d | ~c & a) + k[15] + 1236535329 | 0;\n        b  = (b << 22 | b >>> 10) + c | 0;\n\n        a += (b & d | c & ~d) + k[1] - 165796510 | 0;\n        a  = (a << 5 | a >>> 27) + b | 0;\n        d += (a & c | b & ~c) + k[6] - 1069501632 | 0;\n        d  = (d << 9 | d >>> 23) + a | 0;\n        c += (d & b | a & ~b) + k[11] + 643717713 | 0;\n        c  = (c << 14 | c >>> 18) + d | 0;\n        b += (c & a | d & ~a) + k[0] - 373897302 | 0;\n        b  = (b << 20 | b >>> 12) + c | 0;\n        a += (b & d | c & ~d) + k[5] - 701558691 | 0;\n        a  = (a << 5 | a >>> 27) + b | 0;\n        d += (a & c | b & ~c) + k[10] + 38016083 | 0;\n        d  = (d << 9 | d >>> 23) + a | 0;\n        c += (d & b | a & ~b) + k[15] - 660478335 | 0;\n        c  = (c << 14 | c >>> 18) + d | 0;\n        b += (c & a | d & ~a) + k[4] - 405537848 | 0;\n        b  = (b << 20 | b >>> 12) + c | 0;\n        a += (b & d | c & ~d) + k[9] + 568446438 | 0;\n        a  = (a << 5 | a >>> 27) + b | 0;\n        d += (a & c | b & ~c) + k[14] - 1019803690 | 0;\n        d  = (d << 9 | d >>> 23) + a | 0;\n        c += (d & b | a & ~b) + k[3] - 187363961 | 0;\n        c  = (c << 14 | c >>> 18) + d | 0;\n        b += (c & a | d & ~a) + k[8] + 1163531501 | 0;\n        b  = (b << 20 | b >>> 12) + c | 0;\n        a += (b & d | c & ~d) + k[13] - 1444681467 | 0;\n        a  = (a << 5 | a >>> 27) + b | 0;\n        d += (a & c | b & ~c) + k[2] - 51403784 | 0;\n        d  = (d << 9 | d >>> 23) + a | 0;\n        c += (d & b | a & ~b) + k[7] + 1735328473 | 0;\n        c  = (c << 14 | c >>> 18) + d | 0;\n        b += (c & a | d & ~a) + k[12] - 1926607734 | 0;\n        b  = (b << 20 | b >>> 12) + c | 0;\n\n        a += (b ^ c ^ d) + k[5] - 378558 | 0;\n        a  = (a << 4 | a >>> 28) + b | 0;\n        d += (a ^ b ^ c) + k[8] - 2022574463 | 0;\n        d  = (d << 11 | d >>> 21) + a | 0;\n        c += (d ^ a ^ b) + k[11] + 1839030562 | 0;\n        c  = (c << 16 | c >>> 16) + d | 0;\n        b += (c ^ d ^ a) + k[14] - 35309556 | 0;\n        b  = (b << 23 | b >>> 9) + c | 0;\n        a += (b ^ c ^ d) + k[1] - 1530992060 | 0;\n        a  = (a << 4 | a >>> 28) + b | 0;\n        d += (a ^ b ^ c) + k[4] + 1272893353 | 0;\n        d  = (d << 11 | d >>> 21) + a | 0;\n        c += (d ^ a ^ b) + k[7] - 155497632 | 0;\n        c  = (c << 16 | c >>> 16) + d | 0;\n        b += (c ^ d ^ a) + k[10] - 1094730640 | 0;\n        b  = (b << 23 | b >>> 9) + c | 0;\n        a += (b ^ c ^ d) + k[13] + 681279174 | 0;\n        a  = (a << 4 | a >>> 28) + b | 0;\n        d += (a ^ b ^ c) + k[0] - 358537222 | 0;\n        d  = (d << 11 | d >>> 21) + a | 0;\n        c += (d ^ a ^ b) + k[3] - 722521979 | 0;\n        c  = (c << 16 | c >>> 16) + d | 0;\n        b += (c ^ d ^ a) + k[6] + 76029189 | 0;\n        b  = (b << 23 | b >>> 9) + c | 0;\n        a += (b ^ c ^ d) + k[9] - 640364487 | 0;\n        a  = (a << 4 | a >>> 28) + b | 0;\n        d += (a ^ b ^ c) + k[12] - 421815835 | 0;\n        d  = (d << 11 | d >>> 21) + a | 0;\n        c += (d ^ a ^ b) + k[15] + 530742520 | 0;\n        c  = (c << 16 | c >>> 16) + d | 0;\n        b += (c ^ d ^ a) + k[2] - 995338651 | 0;\n        b  = (b << 23 | b >>> 9) + c | 0;\n\n        a += (c ^ (b | ~d)) + k[0] - 198630844 | 0;\n        a  = (a << 6 | a >>> 26) + b | 0;\n        d += (b ^ (a | ~c)) + k[7] + 1126891415 | 0;\n        d  = (d << 10 | d >>> 22) + a | 0;\n        c += (a ^ (d | ~b)) + k[14] - 1416354905 | 0;\n        c  = (c << 15 | c >>> 17) + d | 0;\n        b += (d ^ (c | ~a)) + k[5] - 57434055 | 0;\n        b  = (b << 21 |b >>> 11) + c | 0;\n        a += (c ^ (b | ~d)) + k[12] + 1700485571 | 0;\n        a  = (a << 6 | a >>> 26) + b | 0;\n        d += (b ^ (a | ~c)) + k[3] - 1894986606 | 0;\n        d  = (d << 10 | d >>> 22) + a | 0;\n        c += (a ^ (d | ~b)) + k[10] - 1051523 | 0;\n        c  = (c << 15 | c >>> 17) + d | 0;\n        b += (d ^ (c | ~a)) + k[1] - 2054922799 | 0;\n        b  = (b << 21 |b >>> 11) + c | 0;\n        a += (c ^ (b | ~d)) + k[8] + 1873313359 | 0;\n        a  = (a << 6 | a >>> 26) + b | 0;\n        d += (b ^ (a | ~c)) + k[15] - 30611744 | 0;\n        d  = (d << 10 | d >>> 22) + a | 0;\n        c += (a ^ (d | ~b)) + k[6] - 1560198380 | 0;\n        c  = (c << 15 | c >>> 17) + d | 0;\n        b += (d ^ (c | ~a)) + k[13] + 1309151649 | 0;\n        b  = (b << 21 |b >>> 11) + c | 0;\n        a += (c ^ (b | ~d)) + k[4] - 145523070 | 0;\n        a  = (a << 6 | a >>> 26) + b | 0;\n        d += (b ^ (a | ~c)) + k[11] - 1120210379 | 0;\n        d  = (d << 10 | d >>> 22) + a | 0;\n        c += (a ^ (d | ~b)) + k[2] + 718787259 | 0;\n        c  = (c << 15 | c >>> 17) + d | 0;\n        b += (d ^ (c | ~a)) + k[9] - 343485551 | 0;\n        b  = (b << 21 | b >>> 11) + c | 0;\n\n        x[0] = a + x[0] | 0;\n        x[1] = b + x[1] | 0;\n        x[2] = c + x[2] | 0;\n        x[3] = d + x[3] | 0;\n    }\n\n    function md5blk(s) {\n        var md5blks = [],\n            i; /* Andy King said do it this way. */\n\n        for (i = 0; i < 64; i += 4) {\n            md5blks[i >> 2] = s.charCodeAt(i) + (s.charCodeAt(i + 1) << 8) + (s.charCodeAt(i + 2) << 16) + (s.charCodeAt(i + 3) << 24);\n        }\n        return md5blks;\n    }\n\n    function md5blk_array(a) {\n        var md5blks = [],\n            i; /* Andy King said do it this way. */\n\n        for (i = 0; i < 64; i += 4) {\n            md5blks[i >> 2] = a[i] + (a[i + 1] << 8) + (a[i + 2] << 16) + (a[i + 3] << 24);\n        }\n        return md5blks;\n    }\n\n    function md51(s) {\n        var n = s.length,\n            state = [1732584193, -271733879, -1732584194, 271733878],\n            i,\n            length,\n            tail,\n            tmp,\n            lo,\n            hi;\n\n        for (i = 64; i <= n; i += 64) {\n            md5cycle(state, md5blk(s.substring(i - 64, i)));\n        }\n        s = s.substring(i - 64);\n        length = s.length;\n        tail = [0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0];\n        for (i = 0; i < length; i += 1) {\n            tail[i >> 2] |= s.charCodeAt(i) << ((i % 4) << 3);\n        }\n        tail[i >> 2] |= 0x80 << ((i % 4) << 3);\n        if (i > 55) {\n            md5cycle(state, tail);\n            for (i = 0; i < 16; i += 1) {\n                tail[i] = 0;\n            }\n        }\n\n        // Beware that the final length might not fit in 32 bits so we take care of that\n        tmp = n * 8;\n        tmp = tmp.toString(16).match(/(.*?)(.{0,8})$/);\n        lo = parseInt(tmp[2], 16);\n        hi = parseInt(tmp[1], 16) || 0;\n\n        tail[14] = lo;\n        tail[15] = hi;\n\n        md5cycle(state, tail);\n        return state;\n    }\n\n    function md51_array(a) {\n        var n = a.length,\n            state = [1732584193, -271733879, -1732584194, 271733878],\n            i,\n            length,\n            tail,\n            tmp,\n            lo,\n            hi;\n\n        for (i = 64; i <= n; i += 64) {\n            md5cycle(state, md5blk_array(a.subarray(i - 64, i)));\n        }\n\n        // Not sure if it is a bug, however IE10 will always produce a sub array of length 1\n        // containing the last element of the parent array if the sub array specified starts\n        // beyond the length of the parent array - weird.\n        // https://connect.microsoft.com/IE/feedback/details/771452/typed-array-subarray-issue\n        a = (i - 64) < n ? a.subarray(i - 64) : new Uint8Array(0);\n\n        length = a.length;\n        tail = [0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0];\n        for (i = 0; i < length; i += 1) {\n            tail[i >> 2] |= a[i] << ((i % 4) << 3);\n        }\n\n        tail[i >> 2] |= 0x80 << ((i % 4) << 3);\n        if (i > 55) {\n            md5cycle(state, tail);\n            for (i = 0; i < 16; i += 1) {\n                tail[i] = 0;\n            }\n        }\n\n        // Beware that the final length might not fit in 32 bits so we take care of that\n        tmp = n * 8;\n        tmp = tmp.toString(16).match(/(.*?)(.{0,8})$/);\n        lo = parseInt(tmp[2], 16);\n        hi = parseInt(tmp[1], 16) || 0;\n\n        tail[14] = lo;\n        tail[15] = hi;\n\n        md5cycle(state, tail);\n\n        return state;\n    }\n\n    function rhex(n) {\n        var s = '',\n            j;\n        for (j = 0; j < 4; j += 1) {\n            s += hex_chr[(n >> (j * 8 + 4)) & 0x0F] + hex_chr[(n >> (j * 8)) & 0x0F];\n        }\n        return s;\n    }\n\n    function hex(x) {\n        var i;\n        for (i = 0; i < x.length; i += 1) {\n            x[i] = rhex(x[i]);\n        }\n        return x.join('');\n    }\n\n    // In some cases the fast add32 function cannot be used..\n    if (hex(md51('hello')) !== '5d41402abc4b2a76b9719d911017c592') {\n        add32 = function (x, y) {\n            var lsw = (x & 0xFFFF) + (y & 0xFFFF),\n                msw = (x >> 16) + (y >> 16) + (lsw >> 16);\n            return (msw << 16) | (lsw & 0xFFFF);\n        };\n    }\n\n    // ---------------------------------------------------\n\n    /**\n     * ArrayBuffer slice polyfill.\n     *\n     * @see https://github.com/ttaubert/node-arraybuffer-slice\n     */\n\n    if (typeof ArrayBuffer !== 'undefined' && !ArrayBuffer.prototype.slice) {\n        (function () {\n            function clamp(val, length) {\n                val = (val | 0) || 0;\n\n                if (val < 0) {\n                    return Math.max(val + length, 0);\n                }\n\n                return Math.min(val, length);\n            }\n\n            ArrayBuffer.prototype.slice = function (from, to) {\n                var length = this.byteLength,\n                    begin = clamp(from, length),\n                    end = length,\n                    num,\n                    target,\n                    targetArray,\n                    sourceArray;\n\n                if (to !== undefined) {\n                    end = clamp(to, length);\n                }\n\n                if (begin > end) {\n                    return new ArrayBuffer(0);\n                }\n\n                num = end - begin;\n                target = new ArrayBuffer(num);\n                targetArray = new Uint8Array(target);\n\n                sourceArray = new Uint8Array(this, begin, num);\n                targetArray.set(sourceArray);\n\n                return target;\n            };\n        })();\n    }\n\n    // ---------------------------------------------------\n\n    /**\n     * Helpers.\n     */\n\n    function toUtf8(str) {\n        if (/[\\u0080-\\uFFFF]/.test(str)) {\n            str = unescape(encodeURIComponent(str));\n        }\n\n        return str;\n    }\n\n    function utf8Str2ArrayBuffer(str, returnUInt8Array) {\n        var length = str.length,\n           buff = new ArrayBuffer(length),\n           arr = new Uint8Array(buff),\n           i;\n\n        for (i = 0; i < length; i += 1) {\n            arr[i] = str.charCodeAt(i);\n        }\n\n        return returnUInt8Array ? arr : buff;\n    }\n\n    function arrayBuffer2Utf8Str(buff) {\n        return String.fromCharCode.apply(null, new Uint8Array(buff));\n    }\n\n    function concatenateArrayBuffers(first, second, returnUInt8Array) {\n        var result = new Uint8Array(first.byteLength + second.byteLength);\n\n        result.set(new Uint8Array(first));\n        result.set(new Uint8Array(second), first.byteLength);\n\n        return returnUInt8Array ? result : result.buffer;\n    }\n\n    function hexToBinaryString(hex) {\n        var bytes = [],\n            length = hex.length,\n            x;\n\n        for (x = 0; x < length - 1; x += 2) {\n            bytes.push(parseInt(hex.substr(x, 2), 16));\n        }\n\n        return String.fromCharCode.apply(String, bytes);\n    }\n\n    // ---------------------------------------------------\n\n    /**\n     * SparkMD5 OOP implementation.\n     *\n     * Use this class to perform an incremental md5, otherwise use the\n     * static methods instead.\n     */\n\n    function SparkMD5() {\n        // call reset to init the instance\n        this.reset();\n    }\n\n    /**\n     * Appends a string.\n     * A conversion will be applied if an utf8 string is detected.\n     *\n     * @param {String} str The string to be appended\n     *\n     * @return {SparkMD5} The instance itself\n     */\n    SparkMD5.prototype.append = function (str) {\n        // Converts the string to utf8 bytes if necessary\n        // Then append as binary\n        this.appendBinary(toUtf8(str));\n\n        return this;\n    };\n\n    /**\n     * Appends a binary string.\n     *\n     * @param {String} contents The binary string to be appended\n     *\n     * @return {SparkMD5} The instance itself\n     */\n    SparkMD5.prototype.appendBinary = function (contents) {\n        this._buff += contents;\n        this._length += contents.length;\n\n        var length = this._buff.length,\n            i;\n\n        for (i = 64; i <= length; i += 64) {\n            md5cycle(this._hash, md5blk(this._buff.substring(i - 64, i)));\n        }\n\n        this._buff = this._buff.substring(i - 64);\n\n        return this;\n    };\n\n    /**\n     * Finishes the incremental computation, reseting the internal state and\n     * returning the result.\n     *\n     * @param {Boolean} raw True to get the raw string, false to get the hex string\n     *\n     * @return {String} The result\n     */\n    SparkMD5.prototype.end = function (raw) {\n        var buff = this._buff,\n            length = buff.length,\n            i,\n            tail = [0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0],\n            ret;\n\n        for (i = 0; i < length; i += 1) {\n            tail[i >> 2] |= buff.charCodeAt(i) << ((i % 4) << 3);\n        }\n\n        this._finish(tail, length);\n        ret = hex(this._hash);\n\n        if (raw) {\n            ret = hexToBinaryString(ret);\n        }\n\n        this.reset();\n\n        return ret;\n    };\n\n    /**\n     * Resets the internal state of the computation.\n     *\n     * @return {SparkMD5} The instance itself\n     */\n    SparkMD5.prototype.reset = function () {\n        this._buff = '';\n        this._length = 0;\n        this._hash = [1732584193, -271733879, -1732584194, 271733878];\n\n        return this;\n    };\n\n    /**\n     * Gets the internal state of the computation.\n     *\n     * @return {Object} The state\n     */\n    SparkMD5.prototype.getState = function () {\n        return {\n            buff: this._buff,\n            length: this._length,\n            hash: this._hash.slice()\n        };\n    };\n\n    /**\n     * Gets the internal state of the computation.\n     *\n     * @param {Object} state The state\n     *\n     * @return {SparkMD5} The instance itself\n     */\n    SparkMD5.prototype.setState = function (state) {\n        this._buff = state.buff;\n        this._length = state.length;\n        this._hash = state.hash;\n\n        return this;\n    };\n\n    /**\n     * Releases memory used by the incremental buffer and other additional\n     * resources. If you plan to use the instance again, use reset instead.\n     */\n    SparkMD5.prototype.destroy = function () {\n        delete this._hash;\n        delete this._buff;\n        delete this._length;\n    };\n\n    /**\n     * Finish the final calculation based on the tail.\n     *\n     * @param {Array}  tail   The tail (will be modified)\n     * @param {Number} length The length of the remaining buffer\n     */\n    SparkMD5.prototype._finish = function (tail, length) {\n        var i = length,\n            tmp,\n            lo,\n            hi;\n\n        tail[i >> 2] |= 0x80 << ((i % 4) << 3);\n        if (i > 55) {\n            md5cycle(this._hash, tail);\n            for (i = 0; i < 16; i += 1) {\n                tail[i] = 0;\n            }\n        }\n\n        // Do the final computation based on the tail and length\n        // Beware that the final length may not fit in 32 bits so we take care of that\n        tmp = this._length * 8;\n        tmp = tmp.toString(16).match(/(.*?)(.{0,8})$/);\n        lo = parseInt(tmp[2], 16);\n        hi = parseInt(tmp[1], 16) || 0;\n\n        tail[14] = lo;\n        tail[15] = hi;\n        md5cycle(this._hash, tail);\n    };\n\n    /**\n     * Performs the md5 hash on a string.\n     * A conversion will be applied if utf8 string is detected.\n     *\n     * @param {String}  str The string\n     * @param {Boolean} [raw] True to get the raw string, false to get the hex string\n     *\n     * @return {String} The result\n     */\n    SparkMD5.hash = function (str, raw) {\n        // Converts the string to utf8 bytes if necessary\n        // Then compute it using the binary function\n        return SparkMD5.hashBinary(toUtf8(str), raw);\n    };\n\n    /**\n     * Performs the md5 hash on a binary string.\n     *\n     * @param {String}  content The binary string\n     * @param {Boolean} [raw]     True to get the raw string, false to get the hex string\n     *\n     * @return {String} The result\n     */\n    SparkMD5.hashBinary = function (content, raw) {\n        var hash = md51(content),\n            ret = hex(hash);\n\n        return raw ? hexToBinaryString(ret) : ret;\n    };\n\n    // ---------------------------------------------------\n\n    /**\n     * SparkMD5 OOP implementation for array buffers.\n     *\n     * Use this class to perform an incremental md5 ONLY for array buffers.\n     */\n    SparkMD5.ArrayBuffer = function () {\n        // call reset to init the instance\n        this.reset();\n    };\n\n    /**\n     * Appends an array buffer.\n     *\n     * @param {ArrayBuffer} arr The array to be appended\n     *\n     * @return {SparkMD5.ArrayBuffer} The instance itself\n     */\n    SparkMD5.ArrayBuffer.prototype.append = function (arr) {\n        var buff = concatenateArrayBuffers(this._buff.buffer, arr, true),\n            length = buff.length,\n            i;\n\n        this._length += arr.byteLength;\n\n        for (i = 64; i <= length; i += 64) {\n            md5cycle(this._hash, md5blk_array(buff.subarray(i - 64, i)));\n        }\n\n        this._buff = (i - 64) < length ? new Uint8Array(buff.buffer.slice(i - 64)) : new Uint8Array(0);\n\n        return this;\n    };\n\n    /**\n     * Finishes the incremental computation, reseting the internal state and\n     * returning the result.\n     *\n     * @param {Boolean} raw True to get the raw string, false to get the hex string\n     *\n     * @return {String} The result\n     */\n    SparkMD5.ArrayBuffer.prototype.end = function (raw) {\n        var buff = this._buff,\n            length = buff.length,\n            tail = [0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0],\n            i,\n            ret;\n\n        for (i = 0; i < length; i += 1) {\n            tail[i >> 2] |= buff[i] << ((i % 4) << 3);\n        }\n\n        this._finish(tail, length);\n        ret = hex(this._hash);\n\n        if (raw) {\n            ret = hexToBinaryString(ret);\n        }\n\n        this.reset();\n\n        return ret;\n    };\n\n    /**\n     * Resets the internal state of the computation.\n     *\n     * @return {SparkMD5.ArrayBuffer} The instance itself\n     */\n    SparkMD5.ArrayBuffer.prototype.reset = function () {\n        this._buff = new Uint8Array(0);\n        this._length = 0;\n        this._hash = [1732584193, -271733879, -1732584194, 271733878];\n\n        return this;\n    };\n\n    /**\n     * Gets the internal state of the computation.\n     *\n     * @return {Object} The state\n     */\n    SparkMD5.ArrayBuffer.prototype.getState = function () {\n        var state = SparkMD5.prototype.getState.call(this);\n\n        // Convert buffer to a string\n        state.buff = arrayBuffer2Utf8Str(state.buff);\n\n        return state;\n    };\n\n    /**\n     * Gets the internal state of the computation.\n     *\n     * @param {Object} state The state\n     *\n     * @return {SparkMD5.ArrayBuffer} The instance itself\n     */\n    SparkMD5.ArrayBuffer.prototype.setState = function (state) {\n        // Convert string to buffer\n        state.buff = utf8Str2ArrayBuffer(state.buff, true);\n\n        return SparkMD5.prototype.setState.call(this, state);\n    };\n\n    SparkMD5.ArrayBuffer.prototype.destroy = SparkMD5.prototype.destroy;\n\n    SparkMD5.ArrayBuffer.prototype._finish = SparkMD5.prototype._finish;\n\n    /**\n     * Performs the md5 hash on an array buffer.\n     *\n     * @param {ArrayBuffer} arr The array buffer\n     * @param {Boolean}     [raw] True to get the raw string, false to get the hex one\n     *\n     * @return {String} The result\n     */\n    SparkMD5.ArrayBuffer.hash = function (arr, raw) {\n        var hash = md51_array(new Uint8Array(arr)),\n            ret = hex(hash);\n\n        return raw ? hexToBinaryString(ret) : ret;\n    };\n\n    return SparkMD5;\n}));\n","var NATIVE_WEAK_MAP = require('../internals/native-weak-map');\nvar global = require('../internals/global');\nvar isObject = require('../internals/is-object');\nvar createNonEnumerableProperty = require('../internals/create-non-enumerable-property');\nvar objectHas = require('../internals/has');\nvar sharedKey = require('../internals/shared-key');\nvar hiddenKeys = require('../internals/hidden-keys');\n\nvar WeakMap = global.WeakMap;\nvar set, get, has;\n\nvar enforce = function (it) {\n  return has(it) ? get(it) : set(it, {});\n};\n\nvar getterFor = function (TYPE) {\n  return function (it) {\n    var state;\n    if (!isObject(it) || (state = get(it)).type !== TYPE) {\n      throw TypeError('Incompatible receiver, ' + TYPE + ' required');\n    } return state;\n  };\n};\n\nif (NATIVE_WEAK_MAP) {\n  var store = new WeakMap();\n  var wmget = store.get;\n  var wmhas = store.has;\n  var wmset = store.set;\n  set = function (it, metadata) {\n    wmset.call(store, it, metadata);\n    return metadata;\n  };\n  get = function (it) {\n    return wmget.call(store, it) || {};\n  };\n  has = function (it) {\n    return wmhas.call(store, it);\n  };\n} else {\n  var STATE = sharedKey('state');\n  hiddenKeys[STATE] = true;\n  set = function (it, metadata) {\n    createNonEnumerableProperty(it, STATE, metadata);\n    return metadata;\n  };\n  get = function (it) {\n    return objectHas(it, STATE) ? it[STATE] : {};\n  };\n  has = function (it) {\n    return objectHas(it, STATE);\n  };\n}\n\nmodule.exports = {\n  set: set,\n  get: get,\n  has: has,\n  enforce: enforce,\n  getterFor: getterFor\n};\n","var global = require('../internals/global');\nvar createNonEnumerableProperty = require('../internals/create-non-enumerable-property');\nvar has = require('../internals/has');\nvar setGlobal = require('../internals/set-global');\nvar inspectSource = require('../internals/inspect-source');\nvar InternalStateModule = require('../internals/internal-state');\n\nvar getInternalState = InternalStateModule.get;\nvar enforceInternalState = InternalStateModule.enforce;\nvar TEMPLATE = String(String).split('String');\n\n(module.exports = function (O, key, value, options) {\n  var unsafe = options ? !!options.unsafe : false;\n  var simple = options ? !!options.enumerable : false;\n  var noTargetGet = options ? !!options.noTargetGet : false;\n  if (typeof value == 'function') {\n    if (typeof key == 'string' && !has(value, 'name')) createNonEnumerableProperty(value, 'name', key);\n    enforceInternalState(value).source = TEMPLATE.join(typeof key == 'string' ? key : '');\n  }\n  if (O === global) {\n    if (simple) O[key] = value;\n    else setGlobal(key, value);\n    return;\n  } else if (!unsafe) {\n    delete O[key];\n  } else if (!noTargetGet && O[key]) {\n    simple = true;\n  }\n  if (simple) O[key] = value;\n  else createNonEnumerableProperty(O, key, value);\n// add fake Function#toString for correct work wrapped methods / constructors with methods like LoDash isNative\n})(Function.prototype, 'toString', function toString() {\n  return typeof this == 'function' && getInternalState(this).source || inspectSource(this);\n});\n","'use strict';\n\n/**\n * Stringify/parse functions that don't operate\n * recursively, so they avoid call stack exceeded\n * errors.\n */\nexports.stringify = function stringify(input) {\n  var queue = [];\n  queue.push({obj: input});\n\n  var res = '';\n  var next, obj, prefix, val, i, arrayPrefix, keys, k, key, value, objPrefix;\n  while ((next = queue.pop())) {\n    obj = next.obj;\n    prefix = next.prefix || '';\n    val = next.val || '';\n    res += prefix;\n    if (val) {\n      res += val;\n    } else if (typeof obj !== 'object') {\n      res += typeof obj === 'undefined' ? null : JSON.stringify(obj);\n    } else if (obj === null) {\n      res += 'null';\n    } else if (Array.isArray(obj)) {\n      queue.push({val: ']'});\n      for (i = obj.length - 1; i >= 0; i--) {\n        arrayPrefix = i === 0 ? '' : ',';\n        queue.push({obj: obj[i], prefix: arrayPrefix});\n      }\n      queue.push({val: '['});\n    } else { // object\n      keys = [];\n      for (k in obj) {\n        if (obj.hasOwnProperty(k)) {\n          keys.push(k);\n        }\n      }\n      queue.push({val: '}'});\n      for (i = keys.length - 1; i >= 0; i--) {\n        key = keys[i];\n        value = obj[key];\n        objPrefix = (i > 0 ? ',' : '');\n        objPrefix += JSON.stringify(key) + ':';\n        queue.push({obj: value, prefix: objPrefix});\n      }\n      queue.push({val: '{'});\n    }\n  }\n  return res;\n};\n\n// Convenience function for the parse function.\n// This pop function is basically copied from\n// pouchCollate.parseIndexableString\nfunction pop(obj, stack, metaStack) {\n  var lastMetaElement = metaStack[metaStack.length - 1];\n  if (obj === lastMetaElement.element) {\n    // popping a meta-element, e.g. an object whose value is another object\n    metaStack.pop();\n    lastMetaElement = metaStack[metaStack.length - 1];\n  }\n  var element = lastMetaElement.element;\n  var lastElementIndex = lastMetaElement.index;\n  if (Array.isArray(element)) {\n    element.push(obj);\n  } else if (lastElementIndex === stack.length - 2) { // obj with key+value\n    var key = stack.pop();\n    element[key] = obj;\n  } else {\n    stack.push(obj); // obj with key only\n  }\n}\n\nexports.parse = function (str) {\n  var stack = [];\n  var metaStack = []; // stack for arrays and objects\n  var i = 0;\n  var collationIndex,parsedNum,numChar;\n  var parsedString,lastCh,numConsecutiveSlashes,ch;\n  var arrayElement, objElement;\n  while (true) {\n    collationIndex = str[i++];\n    if (collationIndex === '}' ||\n        collationIndex === ']' ||\n        typeof collationIndex === 'undefined') {\n      if (stack.length === 1) {\n        return stack.pop();\n      } else {\n        pop(stack.pop(), stack, metaStack);\n        continue;\n      }\n    }\n    switch (collationIndex) {\n      case ' ':\n      case '\\t':\n      case '\\n':\n      case ':':\n      case ',':\n        break;\n      case 'n':\n        i += 3; // 'ull'\n        pop(null, stack, metaStack);\n        break;\n      case 't':\n        i += 3; // 'rue'\n        pop(true, stack, metaStack);\n        break;\n      case 'f':\n        i += 4; // 'alse'\n        pop(false, stack, metaStack);\n        break;\n      case '0':\n      case '1':\n      case '2':\n      case '3':\n      case '4':\n      case '5':\n      case '6':\n      case '7':\n      case '8':\n      case '9':\n      case '-':\n        parsedNum = '';\n        i--;\n        while (true) {\n          numChar = str[i++];\n          if (/[\\d\\.\\-e\\+]/.test(numChar)) {\n            parsedNum += numChar;\n          } else {\n            i--;\n            break;\n          }\n        }\n        pop(parseFloat(parsedNum), stack, metaStack);\n        break;\n      case '\"':\n        parsedString = '';\n        lastCh = void 0;\n        numConsecutiveSlashes = 0;\n        while (true) {\n          ch = str[i++];\n          if (ch !== '\"' || (lastCh === '\\\\' &&\n              numConsecutiveSlashes % 2 === 1)) {\n            parsedString += ch;\n            lastCh = ch;\n            if (lastCh === '\\\\') {\n              numConsecutiveSlashes++;\n            } else {\n              numConsecutiveSlashes = 0;\n            }\n          } else {\n            break;\n          }\n        }\n        pop(JSON.parse('\"' + parsedString + '\"'), stack, metaStack);\n        break;\n      case '[':\n        arrayElement = { element: [], index: stack.length };\n        stack.push(arrayElement.element);\n        metaStack.push(arrayElement);\n        break;\n      case '{':\n        objElement = { element: {}, index: stack.length };\n        stack.push(objElement.element);\n        metaStack.push(objElement);\n        break;\n      default:\n        throw new Error(\n          'unexpectedly reached end of input: ' + collationIndex);\n    }\n  }\n};\n","'use strict';\nvar types = [\n  require('./nextTick'),\n  require('./queueMicrotask'),\n  require('./mutation.js'),\n  require('./messageChannel'),\n  require('./stateChange'),\n  require('./timeout')\n];\nvar draining;\nvar currentQueue;\nvar queueIndex = -1;\nvar queue = [];\nvar scheduled = false;\nfunction cleanUpNextTick() {\n  if (!draining || !currentQueue) {\n    return;\n  }\n  draining = false;\n  if (currentQueue.length) {\n    queue = currentQueue.concat(queue);\n  } else {\n    queueIndex = -1;\n  }\n  if (queue.length) {\n    nextTick();\n  }\n}\n\n//named nextTick for less confusing stack traces\nfunction nextTick() {\n  if (draining) {\n    return;\n  }\n  scheduled = false;\n  draining = true;\n  var len = queue.length;\n  var timeout = setTimeout(cleanUpNextTick);\n  while (len) {\n    currentQueue = queue;\n    queue = [];\n    while (currentQueue && ++queueIndex < len) {\n      currentQueue[queueIndex].run();\n    }\n    queueIndex = -1;\n    len = queue.length;\n  }\n  currentQueue = null;\n  queueIndex = -1;\n  draining = false;\n  clearTimeout(timeout);\n}\nvar scheduleDrain;\nvar i = -1;\nvar len = types.length;\nwhile (++i < len) {\n  if (types[i] && types[i].test && types[i].test()) {\n    scheduleDrain = types[i].install(nextTick);\n    break;\n  }\n}\n// v8 likes predictible objects\nfunction Item(fun, array) {\n  this.fun = fun;\n  this.array = array;\n}\nItem.prototype.run = function () {\n  var fun = this.fun;\n  var array = this.array;\n  switch (array.length) {\n  case 0:\n    return fun();\n  case 1:\n    return fun(array[0]);\n  case 2:\n    return fun(array[0], array[1]);\n  case 3:\n    return fun(array[0], array[1], array[2]);\n  default:\n    return fun.apply(null, array);\n  }\n\n};\nmodule.exports = immediate;\nfunction immediate(task) {\n  var args = new Array(arguments.length - 1);\n  if (arguments.length > 1) {\n    for (var i = 1; i < arguments.length; i++) {\n      args[i - 1] = arguments[i];\n    }\n  }\n  queue.push(new Item(task, args));\n  if (!scheduled && !draining) {\n    scheduled = true;\n    scheduleDrain();\n  }\n}\n","exports.f = Object.getOwnPropertySymbols;\n","var path = require('../internals/path');\nvar has = require('../internals/has');\nvar wrappedWellKnownSymbolModule = require('../internals/well-known-symbol-wrapped');\nvar defineProperty = require('../internals/object-define-property').f;\n\nmodule.exports = function (NAME) {\n  var Symbol = path.Symbol || (path.Symbol = {});\n  if (!has(Symbol, NAME)) defineProperty(Symbol, NAME, {\n    value: wrappedWellKnownSymbolModule.f(NAME)\n  });\n};\n","// IE8- don't enum bug keys\nmodule.exports = [\n  'constructor',\n  'hasOwnProperty',\n  'isPrototypeOf',\n  'propertyIsEnumerable',\n  'toLocaleString',\n  'toString',\n  'valueOf'\n];\n","var requireObjectCoercible = require('../internals/require-object-coercible');\n\n// `ToObject` abstract operation\n// https://tc39.github.io/ecma262/#sec-toobject\nmodule.exports = function (argument) {\n  return Object(requireObjectCoercible(argument));\n};\n","var anObject = require('../internals/an-object');\nvar defineProperties = require('../internals/object-define-properties');\nvar enumBugKeys = require('../internals/enum-bug-keys');\nvar hiddenKeys = require('../internals/hidden-keys');\nvar html = require('../internals/html');\nvar documentCreateElement = require('../internals/document-create-element');\nvar sharedKey = require('../internals/shared-key');\n\nvar GT = '>';\nvar LT = '<';\nvar PROTOTYPE = 'prototype';\nvar SCRIPT = 'script';\nvar IE_PROTO = sharedKey('IE_PROTO');\n\nvar EmptyConstructor = function () { /* empty */ };\n\nvar scriptTag = function (content) {\n  return LT + SCRIPT + GT + content + LT + '/' + SCRIPT + GT;\n};\n\n// Create object with fake `null` prototype: use ActiveX Object with cleared prototype\nvar NullProtoObjectViaActiveX = function (activeXDocument) {\n  activeXDocument.write(scriptTag(''));\n  activeXDocument.close();\n  var temp = activeXDocument.parentWindow.Object;\n  activeXDocument = null; // avoid memory leak\n  return temp;\n};\n\n// Create object with fake `null` prototype: use iframe Object with cleared prototype\nvar NullProtoObjectViaIFrame = function () {\n  // Thrash, waste and sodomy: IE GC bug\n  var iframe = documentCreateElement('iframe');\n  var JS = 'java' + SCRIPT + ':';\n  var iframeDocument;\n  iframe.style.display = 'none';\n  html.appendChild(iframe);\n  // https://github.com/zloirock/core-js/issues/475\n  iframe.src = String(JS);\n  iframeDocument = iframe.contentWindow.document;\n  iframeDocument.open();\n  iframeDocument.write(scriptTag('document.F=Object'));\n  iframeDocument.close();\n  return iframeDocument.F;\n};\n\n// Check for document.domain and active x support\n// No need to use active x approach when document.domain is not set\n// see https://github.com/es-shims/es5-shim/issues/150\n// variation of https://github.com/kitcambridge/es5-shim/commit/4f738ac066346\n// avoid IE GC bug\nvar activeXDocument;\nvar NullProtoObject = function () {\n  try {\n    /* global ActiveXObject */\n    activeXDocument = document.domain && new ActiveXObject('htmlfile');\n  } catch (error) { /* ignore */ }\n  NullProtoObject = activeXDocument ? NullProtoObjectViaActiveX(activeXDocument) : NullProtoObjectViaIFrame();\n  var length = enumBugKeys.length;\n  while (length--) delete NullProtoObject[PROTOTYPE][enumBugKeys[length]];\n  return NullProtoObject();\n};\n\nhiddenKeys[IE_PROTO] = true;\n\n// `Object.create` method\n// https://tc39.github.io/ecma262/#sec-object.create\nmodule.exports = Object.create || function create(O, Properties) {\n  var result;\n  if (O !== null) {\n    EmptyConstructor[PROTOTYPE] = anObject(O);\n    result = new EmptyConstructor();\n    EmptyConstructor[PROTOTYPE] = null;\n    // add \"__proto__\" for Object.getPrototypeOf polyfill\n    result[IE_PROTO] = O;\n  } else result = NullProtoObject();\n  return Properties === undefined ? result : defineProperties(result, Properties);\n};\n","'use strict';\nvar $ = require('../internals/export');\nvar createIteratorConstructor = require('../internals/create-iterator-constructor');\nvar getPrototypeOf = require('../internals/object-get-prototype-of');\nvar setPrototypeOf = require('../internals/object-set-prototype-of');\nvar setToStringTag = require('../internals/set-to-string-tag');\nvar createNonEnumerableProperty = require('../internals/create-non-enumerable-property');\nvar redefine = require('../internals/redefine');\nvar wellKnownSymbol = require('../internals/well-known-symbol');\nvar IS_PURE = require('../internals/is-pure');\nvar Iterators = require('../internals/iterators');\nvar IteratorsCore = require('../internals/iterators-core');\n\nvar IteratorPrototype = IteratorsCore.IteratorPrototype;\nvar BUGGY_SAFARI_ITERATORS = IteratorsCore.BUGGY_SAFARI_ITERATORS;\nvar ITERATOR = wellKnownSymbol('iterator');\nvar KEYS = 'keys';\nvar VALUES = 'values';\nvar ENTRIES = 'entries';\n\nvar returnThis = function () { return this; };\n\nmodule.exports = function (Iterable, NAME, IteratorConstructor, next, DEFAULT, IS_SET, FORCED) {\n  createIteratorConstructor(IteratorConstructor, NAME, next);\n\n  var getIterationMethod = function (KIND) {\n    if (KIND === DEFAULT && defaultIterator) return defaultIterator;\n    if (!BUGGY_SAFARI_ITERATORS && KIND in IterablePrototype) return IterablePrototype[KIND];\n    switch (KIND) {\n      case KEYS: return function keys() { return new IteratorConstructor(this, KIND); };\n      case VALUES: return function values() { return new IteratorConstructor(this, KIND); };\n      case ENTRIES: return function entries() { return new IteratorConstructor(this, KIND); };\n    } return function () { return new IteratorConstructor(this); };\n  };\n\n  var TO_STRING_TAG = NAME + ' Iterator';\n  var INCORRECT_VALUES_NAME = false;\n  var IterablePrototype = Iterable.prototype;\n  var nativeIterator = IterablePrototype[ITERATOR]\n    || IterablePrototype['@@iterator']\n    || DEFAULT && IterablePrototype[DEFAULT];\n  var defaultIterator = !BUGGY_SAFARI_ITERATORS && nativeIterator || getIterationMethod(DEFAULT);\n  var anyNativeIterator = NAME == 'Array' ? IterablePrototype.entries || nativeIterator : nativeIterator;\n  var CurrentIteratorPrototype, methods, KEY;\n\n  // fix native\n  if (anyNativeIterator) {\n    CurrentIteratorPrototype = getPrototypeOf(anyNativeIterator.call(new Iterable()));\n    if (IteratorPrototype !== Object.prototype && CurrentIteratorPrototype.next) {\n      if (!IS_PURE && getPrototypeOf(CurrentIteratorPrototype) !== IteratorPrototype) {\n        if (setPrototypeOf) {\n          setPrototypeOf(CurrentIteratorPrototype, IteratorPrototype);\n        } else if (typeof CurrentIteratorPrototype[ITERATOR] != 'function') {\n          createNonEnumerableProperty(CurrentIteratorPrototype, ITERATOR, returnThis);\n        }\n      }\n      // Set @@toStringTag to native iterators\n      setToStringTag(CurrentIteratorPrototype, TO_STRING_TAG, true, true);\n      if (IS_PURE) Iterators[TO_STRING_TAG] = returnThis;\n    }\n  }\n\n  // fix Array#{values, @@iterator}.name in V8 / FF\n  if (DEFAULT == VALUES && nativeIterator && nativeIterator.name !== VALUES) {\n    INCORRECT_VALUES_NAME = true;\n    defaultIterator = function values() { return nativeIterator.call(this); };\n  }\n\n  // define iterator\n  if ((!IS_PURE || FORCED) && IterablePrototype[ITERATOR] !== defaultIterator) {\n    createNonEnumerableProperty(IterablePrototype, ITERATOR, defaultIterator);\n  }\n  Iterators[NAME] = defaultIterator;\n\n  // export additional methods\n  if (DEFAULT) {\n    methods = {\n      values: getIterationMethod(VALUES),\n      keys: IS_SET ? defaultIterator : getIterationMethod(KEYS),\n      entries: getIterationMethod(ENTRIES)\n    };\n    if (FORCED) for (KEY in methods) {\n      if (BUGGY_SAFARI_ITERATORS || INCORRECT_VALUES_NAME || !(KEY in IterablePrototype)) {\n        redefine(IterablePrototype, KEY, methods[KEY]);\n      }\n    } else $({ target: NAME, proto: true, forced: BUGGY_SAFARI_ITERATORS || INCORRECT_VALUES_NAME }, methods);\n  }\n\n  return methods;\n};\n","var global = require('../internals/global');\nvar inspectSource = require('../internals/inspect-source');\n\nvar WeakMap = global.WeakMap;\n\nmodule.exports = typeof WeakMap === 'function' && /native code/.test(inspectSource(WeakMap));\n","var isObject = require('../internals/is-object');\n\nmodule.exports = function (it) {\n  if (!isObject(it)) {\n    throw TypeError(String(it) + ' is not an object');\n  } return it;\n};\n","var fails = require('../internals/fails');\n\n// Thank's IE8 for his funny defineProperty\nmodule.exports = !fails(function () {\n  return Object.defineProperty({}, 1, { get: function () { return 7; } })[1] != 7;\n});\n","'use strict';\nvar toPrimitive = require('../internals/to-primitive');\nvar definePropertyModule = require('../internals/object-define-property');\nvar createPropertyDescriptor = require('../internals/create-property-descriptor');\n\nmodule.exports = function (object, key, value) {\n  var propertyKey = toPrimitive(key);\n  if (propertyKey in object) definePropertyModule.f(object, propertyKey, createPropertyDescriptor(0, value));\n  else object[propertyKey] = value;\n};\n","'use strict';\n\nexports.test = function () {\n  return 'document' in global && 'onreadystatechange' in global.document.createElement('script');\n};\n\nexports.install = function (handle) {\n  return function () {\n\n    // Create a <script> element; its readystatechange event will be fired asynchronously once it is inserted\n    // into the document. Do so, thus queuing up the task. Remember to clean up once it's been called.\n    var scriptEl = global.document.createElement('script');\n    scriptEl.onreadystatechange = function () {\n      handle();\n\n      scriptEl.onreadystatechange = null;\n      scriptEl.parentNode.removeChild(scriptEl);\n      scriptEl = null;\n    };\n    global.document.documentElement.appendChild(scriptEl);\n\n    return handle;\n  };\n};","module.exports = function (it) {\n  return typeof it === 'object' ? it !== null : typeof it === 'function';\n};\n","var store = require('../internals/shared-store');\n\nvar functionToString = Function.toString;\n\n// this helper broken in `3.4.1-3.4.4`, so we can't use `shared` helper\nif (typeof store.inspectSource != 'function') {\n  store.inspectSource = function (it) {\n    return functionToString.call(it);\n  };\n}\n\nmodule.exports = store.inspectSource;\n","var id = 0;\nvar postfix = Math.random();\n\nmodule.exports = function (key) {\n  return 'Symbol(' + String(key === undefined ? '' : key) + ')_' + (++id + postfix).toString(36);\n};\n","var DESCRIPTORS = require('../internals/descriptors');\nvar definePropertyModule = require('../internals/object-define-property');\nvar createPropertyDescriptor = require('../internals/create-property-descriptor');\n\nmodule.exports = DESCRIPTORS ? function (object, key, value) {\n  return definePropertyModule.f(object, key, createPropertyDescriptor(1, value));\n} : function (object, key, value) {\n  object[key] = value;\n  return object;\n};\n","// Register a service worker to serve assets from local cache.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on the \"N+1\" visit to a page, since previously\n// cached resources are updated in the background.\n\nvar isLocalhost = function () { return Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.1/8 is considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n); }\n\nvar waitWindowLoad\n// https://github.com/yyx990803/register-service-worker/pull/33#discussion_r394181861\nif (typeof window !== 'undefined') {\n  // Typically, a browser that supports `serviceWorker` should also have supported\n  // `Promise`. But as this package can be used in environments without service\n  // worker support (in that case it would do nothing), there's a chance that\n  // `Promise` does not exist. So we must check for its existence first.\n  if (typeof Promise !== 'undefined') {\n    waitWindowLoad = new Promise(function (resolve) { return window.addEventListener('load', resolve); })\n  } else {\n    waitWindowLoad = { then: function (cb) { return window.addEventListener('load', cb); } }\n  }\n}\n\nexport function register (swUrl, hooks) {\n  if ( hooks === void 0 ) hooks = {};\n\n  var registrationOptions = hooks.registrationOptions; if ( registrationOptions === void 0 ) registrationOptions = {};\n  delete hooks.registrationOptions\n\n  var emit = function (hook) {\n    var args = [], len = arguments.length - 1;\n    while ( len-- > 0 ) args[ len ] = arguments[ len + 1 ];\n\n    if (hooks && hooks[hook]) {\n      hooks[hook].apply(hooks, args)\n    }\n  }\n\n  if ('serviceWorker' in navigator) {\n    waitWindowLoad.then(function () {\n      if (isLocalhost()) {\n        // This is running on localhost. Lets check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, emit, registrationOptions)\n        navigator.serviceWorker.ready.then(function (registration) {\n          emit('ready', registration)\n        }).catch(function (error) { return handleError(emit, error); })\n      } else {\n        // Is not local host. Just register service worker\n        registerValidSW(swUrl, emit, registrationOptions)\n        navigator.serviceWorker.ready.then(function (registration) {\n          emit('ready', registration)\n        }).catch(function (error) { return handleError(emit, error); })\n      }\n    })\n  }\n}\n\nfunction handleError (emit, error) {\n  if (!navigator.onLine) {\n    emit('offline')\n  }\n  emit('error', error)\n}\n\nfunction registerValidSW (swUrl, emit, registrationOptions) {\n  navigator.serviceWorker\n    .register(swUrl, registrationOptions)\n    .then(function (registration) {\n      emit('registered', registration)\n      if (registration.waiting) {\n        emit('updated', registration)\n        return\n      }\n      registration.onupdatefound = function () {\n        emit('updatefound', registration)\n        var installingWorker = registration.installing\n        installingWorker.onstatechange = function () {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the old content will have been purged and\n              // the fresh content will have been added to the cache.\n              // It's the perfect time to display a \"New content is\n              // available; please refresh.\" message in your web app.\n              emit('updated', registration)\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              emit('cached', registration)\n            }\n          }\n        }\n      }\n    })\n    .catch(function (error) { return handleError(emit, error); })\n}\n\nfunction checkValidServiceWorker (swUrl, emit, registrationOptions) {\n  // Check if the service worker can be found.\n  fetch(swUrl)\n    .then(function (response) {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      if (response.status === 404) {\n        // No service worker found.\n        emit('error', new Error((\"Service worker not found at \" + swUrl)))\n        unregister()\n      } else if (response.headers.get('content-type').indexOf('javascript') === -1) {\n        emit('error', new Error(\n          \"Expected \" + swUrl + \" to have javascript content-type, \" +\n          \"but received \" + (response.headers.get('content-type'))))\n        unregister()\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, emit, registrationOptions)\n      }\n    })\n    .catch(function (error) { return handleError(emit, error); })\n}\n\nexport function unregister () {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready.then(function (registration) {\n      registration.unregister()\n    }).catch(function (error) { return handleError(emit, error); })\n  }\n}\n","var fails = require('../internals/fails');\n\nvar replacement = /#|\\.prototype\\./;\n\nvar isForced = function (feature, detection) {\n  var value = data[normalize(feature)];\n  return value == POLYFILL ? true\n    : value == NATIVE ? false\n    : typeof detection == 'function' ? fails(detection)\n    : !!detection;\n};\n\nvar normalize = isForced.normalize = function (string) {\n  return String(string).replace(replacement, '.').toLowerCase();\n};\n\nvar data = isForced.data = {};\nvar NATIVE = isForced.NATIVE = 'N';\nvar POLYFILL = isForced.POLYFILL = 'P';\n\nmodule.exports = isForced;\n","'use strict';\nvar $ = require('../internals/export');\nvar fails = require('../internals/fails');\nvar isArray = require('../internals/is-array');\nvar isObject = require('../internals/is-object');\nvar toObject = require('../internals/to-object');\nvar toLength = require('../internals/to-length');\nvar createProperty = require('../internals/create-property');\nvar arraySpeciesCreate = require('../internals/array-species-create');\nvar arrayMethodHasSpeciesSupport = require('../internals/array-method-has-species-support');\nvar wellKnownSymbol = require('../internals/well-known-symbol');\nvar V8_VERSION = require('../internals/engine-v8-version');\n\nvar IS_CONCAT_SPREADABLE = wellKnownSymbol('isConcatSpreadable');\nvar MAX_SAFE_INTEGER = 0x1FFFFFFFFFFFFF;\nvar MAXIMUM_ALLOWED_INDEX_EXCEEDED = 'Maximum allowed index exceeded';\n\n// We can't use this feature detection in V8 since it causes\n// deoptimization and serious performance degradation\n// https://github.com/zloirock/core-js/issues/679\nvar IS_CONCAT_SPREADABLE_SUPPORT = V8_VERSION >= 51 || !fails(function () {\n  var array = [];\n  array[IS_CONCAT_SPREADABLE] = false;\n  return array.concat()[0] !== array;\n});\n\nvar SPECIES_SUPPORT = arrayMethodHasSpeciesSupport('concat');\n\nvar isConcatSpreadable = function (O) {\n  if (!isObject(O)) return false;\n  var spreadable = O[IS_CONCAT_SPREADABLE];\n  return spreadable !== undefined ? !!spreadable : isArray(O);\n};\n\nvar FORCED = !IS_CONCAT_SPREADABLE_SUPPORT || !SPECIES_SUPPORT;\n\n// `Array.prototype.concat` method\n// https://tc39.github.io/ecma262/#sec-array.prototype.concat\n// with adding support of @@isConcatSpreadable and @@species\n$({ target: 'Array', proto: true, forced: FORCED }, {\n  concat: function concat(arg) { // eslint-disable-line no-unused-vars\n    var O = toObject(this);\n    var A = arraySpeciesCreate(O, 0);\n    var n = 0;\n    var i, k, length, len, E;\n    for (i = -1, length = arguments.length; i < length; i++) {\n      E = i === -1 ? O : arguments[i];\n      if (isConcatSpreadable(E)) {\n        len = toLength(E.length);\n        if (n + len > MAX_SAFE_INTEGER) throw TypeError(MAXIMUM_ALLOWED_INDEX_EXCEEDED);\n        for (k = 0; k < len; k++, n++) if (k in E) createProperty(A, n, E[k]);\n      } else {\n        if (n >= MAX_SAFE_INTEGER) throw TypeError(MAXIMUM_ALLOWED_INDEX_EXCEEDED);\n        createProperty(A, n++, E);\n      }\n    }\n    A.length = n;\n    return A;\n  }\n});\n","var anObject = require('../internals/an-object');\n\n// call something on iterator step with safe closing on error\nmodule.exports = function (iterator, fn, value, ENTRIES) {\n  try {\n    return ENTRIES ? fn(anObject(value)[0], value[1]) : fn(value);\n  // 7.4.6 IteratorClose(iterator, completion)\n  } catch (error) {\n    var returnMethod = iterator['return'];\n    if (returnMethod !== undefined) anObject(returnMethod.call(iterator));\n    throw error;\n  }\n};\n","var DESCRIPTORS = require('../internals/descriptors');\nvar IE8_DOM_DEFINE = require('../internals/ie8-dom-define');\nvar anObject = require('../internals/an-object');\nvar toPrimitive = require('../internals/to-primitive');\n\nvar nativeDefineProperty = Object.defineProperty;\n\n// `Object.defineProperty` method\n// https://tc39.github.io/ecma262/#sec-object.defineproperty\nexports.f = DESCRIPTORS ? nativeDefineProperty : function defineProperty(O, P, Attributes) {\n  anObject(O);\n  P = toPrimitive(P, true);\n  anObject(Attributes);\n  if (IE8_DOM_DEFINE) try {\n    return nativeDefineProperty(O, P, Attributes);\n  } catch (error) { /* empty */ }\n  if ('get' in Attributes || 'set' in Attributes) throw TypeError('Accessors not supported');\n  if ('value' in Attributes) O[P] = Attributes.value;\n  return O;\n};\n","'use strict';\nvar IteratorPrototype = require('../internals/iterators-core').IteratorPrototype;\nvar create = require('../internals/object-create');\nvar createPropertyDescriptor = require('../internals/create-property-descriptor');\nvar setToStringTag = require('../internals/set-to-string-tag');\nvar Iterators = require('../internals/iterators');\n\nvar returnThis = function () { return this; };\n\nmodule.exports = function (IteratorConstructor, NAME, next) {\n  var TO_STRING_TAG = NAME + ' Iterator';\n  IteratorConstructor.prototype = create(IteratorPrototype, { next: createPropertyDescriptor(1, next) });\n  setToStringTag(IteratorConstructor, TO_STRING_TAG, false, true);\n  Iterators[TO_STRING_TAG] = returnThis;\n  return IteratorConstructor;\n};\n","'use strict';\nvar $ = require('../internals/export');\nvar global = require('../internals/global');\nvar getBuiltIn = require('../internals/get-built-in');\nvar IS_PURE = require('../internals/is-pure');\nvar DESCRIPTORS = require('../internals/descriptors');\nvar NATIVE_SYMBOL = require('../internals/native-symbol');\nvar USE_SYMBOL_AS_UID = require('../internals/use-symbol-as-uid');\nvar fails = require('../internals/fails');\nvar has = require('../internals/has');\nvar isArray = require('../internals/is-array');\nvar isObject = require('../internals/is-object');\nvar anObject = require('../internals/an-object');\nvar toObject = require('../internals/to-object');\nvar toIndexedObject = require('../internals/to-indexed-object');\nvar toPrimitive = require('../internals/to-primitive');\nvar createPropertyDescriptor = require('../internals/create-property-descriptor');\nvar nativeObjectCreate = require('../internals/object-create');\nvar objectKeys = require('../internals/object-keys');\nvar getOwnPropertyNamesModule = require('../internals/object-get-own-property-names');\nvar getOwnPropertyNamesExternal = require('../internals/object-get-own-property-names-external');\nvar getOwnPropertySymbolsModule = require('../internals/object-get-own-property-symbols');\nvar getOwnPropertyDescriptorModule = require('../internals/object-get-own-property-descriptor');\nvar definePropertyModule = require('../internals/object-define-property');\nvar propertyIsEnumerableModule = require('../internals/object-property-is-enumerable');\nvar createNonEnumerableProperty = require('../internals/create-non-enumerable-property');\nvar redefine = require('../internals/redefine');\nvar shared = require('../internals/shared');\nvar sharedKey = require('../internals/shared-key');\nvar hiddenKeys = require('../internals/hidden-keys');\nvar uid = require('../internals/uid');\nvar wellKnownSymbol = require('../internals/well-known-symbol');\nvar wrappedWellKnownSymbolModule = require('../internals/well-known-symbol-wrapped');\nvar defineWellKnownSymbol = require('../internals/define-well-known-symbol');\nvar setToStringTag = require('../internals/set-to-string-tag');\nvar InternalStateModule = require('../internals/internal-state');\nvar $forEach = require('../internals/array-iteration').forEach;\n\nvar HIDDEN = sharedKey('hidden');\nvar SYMBOL = 'Symbol';\nvar PROTOTYPE = 'prototype';\nvar TO_PRIMITIVE = wellKnownSymbol('toPrimitive');\nvar setInternalState = InternalStateModule.set;\nvar getInternalState = InternalStateModule.getterFor(SYMBOL);\nvar ObjectPrototype = Object[PROTOTYPE];\nvar $Symbol = global.Symbol;\nvar $stringify = getBuiltIn('JSON', 'stringify');\nvar nativeGetOwnPropertyDescriptor = getOwnPropertyDescriptorModule.f;\nvar nativeDefineProperty = definePropertyModule.f;\nvar nativeGetOwnPropertyNames = getOwnPropertyNamesExternal.f;\nvar nativePropertyIsEnumerable = propertyIsEnumerableModule.f;\nvar AllSymbols = shared('symbols');\nvar ObjectPrototypeSymbols = shared('op-symbols');\nvar StringToSymbolRegistry = shared('string-to-symbol-registry');\nvar SymbolToStringRegistry = shared('symbol-to-string-registry');\nvar WellKnownSymbolsStore = shared('wks');\nvar QObject = global.QObject;\n// Don't use setters in Qt Script, https://github.com/zloirock/core-js/issues/173\nvar USE_SETTER = !QObject || !QObject[PROTOTYPE] || !QObject[PROTOTYPE].findChild;\n\n// fallback for old Android, https://code.google.com/p/v8/issues/detail?id=687\nvar setSymbolDescriptor = DESCRIPTORS && fails(function () {\n  return nativeObjectCreate(nativeDefineProperty({}, 'a', {\n    get: function () { return nativeDefineProperty(this, 'a', { value: 7 }).a; }\n  })).a != 7;\n}) ? function (O, P, Attributes) {\n  var ObjectPrototypeDescriptor = nativeGetOwnPropertyDescriptor(ObjectPrototype, P);\n  if (ObjectPrototypeDescriptor) delete ObjectPrototype[P];\n  nativeDefineProperty(O, P, Attributes);\n  if (ObjectPrototypeDescriptor && O !== ObjectPrototype) {\n    nativeDefineProperty(ObjectPrototype, P, ObjectPrototypeDescriptor);\n  }\n} : nativeDefineProperty;\n\nvar wrap = function (tag, description) {\n  var symbol = AllSymbols[tag] = nativeObjectCreate($Symbol[PROTOTYPE]);\n  setInternalState(symbol, {\n    type: SYMBOL,\n    tag: tag,\n    description: description\n  });\n  if (!DESCRIPTORS) symbol.description = description;\n  return symbol;\n};\n\nvar isSymbol = USE_SYMBOL_AS_UID ? function (it) {\n  return typeof it == 'symbol';\n} : function (it) {\n  return Object(it) instanceof $Symbol;\n};\n\nvar $defineProperty = function defineProperty(O, P, Attributes) {\n  if (O === ObjectPrototype) $defineProperty(ObjectPrototypeSymbols, P, Attributes);\n  anObject(O);\n  var key = toPrimitive(P, true);\n  anObject(Attributes);\n  if (has(AllSymbols, key)) {\n    if (!Attributes.enumerable) {\n      if (!has(O, HIDDEN)) nativeDefineProperty(O, HIDDEN, createPropertyDescriptor(1, {}));\n      O[HIDDEN][key] = true;\n    } else {\n      if (has(O, HIDDEN) && O[HIDDEN][key]) O[HIDDEN][key] = false;\n      Attributes = nativeObjectCreate(Attributes, { enumerable: createPropertyDescriptor(0, false) });\n    } return setSymbolDescriptor(O, key, Attributes);\n  } return nativeDefineProperty(O, key, Attributes);\n};\n\nvar $defineProperties = function defineProperties(O, Properties) {\n  anObject(O);\n  var properties = toIndexedObject(Properties);\n  var keys = objectKeys(properties).concat($getOwnPropertySymbols(properties));\n  $forEach(keys, function (key) {\n    if (!DESCRIPTORS || $propertyIsEnumerable.call(properties, key)) $defineProperty(O, key, properties[key]);\n  });\n  return O;\n};\n\nvar $create = function create(O, Properties) {\n  return Properties === undefined ? nativeObjectCreate(O) : $defineProperties(nativeObjectCreate(O), Properties);\n};\n\nvar $propertyIsEnumerable = function propertyIsEnumerable(V) {\n  var P = toPrimitive(V, true);\n  var enumerable = nativePropertyIsEnumerable.call(this, P);\n  if (this === ObjectPrototype && has(AllSymbols, P) && !has(ObjectPrototypeSymbols, P)) return false;\n  return enumerable || !has(this, P) || !has(AllSymbols, P) || has(this, HIDDEN) && this[HIDDEN][P] ? enumerable : true;\n};\n\nvar $getOwnPropertyDescriptor = function getOwnPropertyDescriptor(O, P) {\n  var it = toIndexedObject(O);\n  var key = toPrimitive(P, true);\n  if (it === ObjectPrototype && has(AllSymbols, key) && !has(ObjectPrototypeSymbols, key)) return;\n  var descriptor = nativeGetOwnPropertyDescriptor(it, key);\n  if (descriptor && has(AllSymbols, key) && !(has(it, HIDDEN) && it[HIDDEN][key])) {\n    descriptor.enumerable = true;\n  }\n  return descriptor;\n};\n\nvar $getOwnPropertyNames = function getOwnPropertyNames(O) {\n  var names = nativeGetOwnPropertyNames(toIndexedObject(O));\n  var result = [];\n  $forEach(names, function (key) {\n    if (!has(AllSymbols, key) && !has(hiddenKeys, key)) result.push(key);\n  });\n  return result;\n};\n\nvar $getOwnPropertySymbols = function getOwnPropertySymbols(O) {\n  var IS_OBJECT_PROTOTYPE = O === ObjectPrototype;\n  var names = nativeGetOwnPropertyNames(IS_OBJECT_PROTOTYPE ? ObjectPrototypeSymbols : toIndexedObject(O));\n  var result = [];\n  $forEach(names, function (key) {\n    if (has(AllSymbols, key) && (!IS_OBJECT_PROTOTYPE || has(ObjectPrototype, key))) {\n      result.push(AllSymbols[key]);\n    }\n  });\n  return result;\n};\n\n// `Symbol` constructor\n// https://tc39.github.io/ecma262/#sec-symbol-constructor\nif (!NATIVE_SYMBOL) {\n  $Symbol = function Symbol() {\n    if (this instanceof $Symbol) throw TypeError('Symbol is not a constructor');\n    var description = !arguments.length || arguments[0] === undefined ? undefined : String(arguments[0]);\n    var tag = uid(description);\n    var setter = function (value) {\n      if (this === ObjectPrototype) setter.call(ObjectPrototypeSymbols, value);\n      if (has(this, HIDDEN) && has(this[HIDDEN], tag)) this[HIDDEN][tag] = false;\n      setSymbolDescriptor(this, tag, createPropertyDescriptor(1, value));\n    };\n    if (DESCRIPTORS && USE_SETTER) setSymbolDescriptor(ObjectPrototype, tag, { configurable: true, set: setter });\n    return wrap(tag, description);\n  };\n\n  redefine($Symbol[PROTOTYPE], 'toString', function toString() {\n    return getInternalState(this).tag;\n  });\n\n  redefine($Symbol, 'withoutSetter', function (description) {\n    return wrap(uid(description), description);\n  });\n\n  propertyIsEnumerableModule.f = $propertyIsEnumerable;\n  definePropertyModule.f = $defineProperty;\n  getOwnPropertyDescriptorModule.f = $getOwnPropertyDescriptor;\n  getOwnPropertyNamesModule.f = getOwnPropertyNamesExternal.f = $getOwnPropertyNames;\n  getOwnPropertySymbolsModule.f = $getOwnPropertySymbols;\n\n  wrappedWellKnownSymbolModule.f = function (name) {\n    return wrap(wellKnownSymbol(name), name);\n  };\n\n  if (DESCRIPTORS) {\n    // https://github.com/tc39/proposal-Symbol-description\n    nativeDefineProperty($Symbol[PROTOTYPE], 'description', {\n      configurable: true,\n      get: function description() {\n        return getInternalState(this).description;\n      }\n    });\n    if (!IS_PURE) {\n      redefine(ObjectPrototype, 'propertyIsEnumerable', $propertyIsEnumerable, { unsafe: true });\n    }\n  }\n}\n\n$({ global: true, wrap: true, forced: !NATIVE_SYMBOL, sham: !NATIVE_SYMBOL }, {\n  Symbol: $Symbol\n});\n\n$forEach(objectKeys(WellKnownSymbolsStore), function (name) {\n  defineWellKnownSymbol(name);\n});\n\n$({ target: SYMBOL, stat: true, forced: !NATIVE_SYMBOL }, {\n  // `Symbol.for` method\n  // https://tc39.github.io/ecma262/#sec-symbol.for\n  'for': function (key) {\n    var string = String(key);\n    if (has(StringToSymbolRegistry, string)) return StringToSymbolRegistry[string];\n    var symbol = $Symbol(string);\n    StringToSymbolRegistry[string] = symbol;\n    SymbolToStringRegistry[symbol] = string;\n    return symbol;\n  },\n  // `Symbol.keyFor` method\n  // https://tc39.github.io/ecma262/#sec-symbol.keyfor\n  keyFor: function keyFor(sym) {\n    if (!isSymbol(sym)) throw TypeError(sym + ' is not a symbol');\n    if (has(SymbolToStringRegistry, sym)) return SymbolToStringRegistry[sym];\n  },\n  useSetter: function () { USE_SETTER = true; },\n  useSimple: function () { USE_SETTER = false; }\n});\n\n$({ target: 'Object', stat: true, forced: !NATIVE_SYMBOL, sham: !DESCRIPTORS }, {\n  // `Object.create` method\n  // https://tc39.github.io/ecma262/#sec-object.create\n  create: $create,\n  // `Object.defineProperty` method\n  // https://tc39.github.io/ecma262/#sec-object.defineproperty\n  defineProperty: $defineProperty,\n  // `Object.defineProperties` method\n  // https://tc39.github.io/ecma262/#sec-object.defineproperties\n  defineProperties: $defineProperties,\n  // `Object.getOwnPropertyDescriptor` method\n  // https://tc39.github.io/ecma262/#sec-object.getownpropertydescriptors\n  getOwnPropertyDescriptor: $getOwnPropertyDescriptor\n});\n\n$({ target: 'Object', stat: true, forced: !NATIVE_SYMBOL }, {\n  // `Object.getOwnPropertyNames` method\n  // https://tc39.github.io/ecma262/#sec-object.getownpropertynames\n  getOwnPropertyNames: $getOwnPropertyNames,\n  // `Object.getOwnPropertySymbols` method\n  // https://tc39.github.io/ecma262/#sec-object.getownpropertysymbols\n  getOwnPropertySymbols: $getOwnPropertySymbols\n});\n\n// Chrome 38 and 39 `Object.getOwnPropertySymbols` fails on primitives\n// https://bugs.chromium.org/p/v8/issues/detail?id=3443\n$({ target: 'Object', stat: true, forced: fails(function () { getOwnPropertySymbolsModule.f(1); }) }, {\n  getOwnPropertySymbols: function getOwnPropertySymbols(it) {\n    return getOwnPropertySymbolsModule.f(toObject(it));\n  }\n});\n\n// `JSON.stringify` method behavior with symbols\n// https://tc39.github.io/ecma262/#sec-json.stringify\nif ($stringify) {\n  var FORCED_JSON_STRINGIFY = !NATIVE_SYMBOL || fails(function () {\n    var symbol = $Symbol();\n    // MS Edge converts symbol values to JSON as {}\n    return $stringify([symbol]) != '[null]'\n      // WebKit converts symbol values to JSON as null\n      || $stringify({ a: symbol }) != '{}'\n      // V8 throws on boxed symbols\n      || $stringify(Object(symbol)) != '{}';\n  });\n\n  $({ target: 'JSON', stat: true, forced: FORCED_JSON_STRINGIFY }, {\n    // eslint-disable-next-line no-unused-vars\n    stringify: function stringify(it, replacer, space) {\n      var args = [it];\n      var index = 1;\n      var $replacer;\n      while (arguments.length > index) args.push(arguments[index++]);\n      $replacer = replacer;\n      if (!isObject(replacer) && it === undefined || isSymbol(it)) return; // IE8 returns string on undefined\n      if (!isArray(replacer)) replacer = function (key, value) {\n        if (typeof $replacer == 'function') value = $replacer.call(this, key, value);\n        if (!isSymbol(value)) return value;\n      };\n      args[1] = replacer;\n      return $stringify.apply(null, args);\n    }\n  });\n}\n\n// `Symbol.prototype[@@toPrimitive]` method\n// https://tc39.github.io/ecma262/#sec-symbol.prototype-@@toprimitive\nif (!$Symbol[PROTOTYPE][TO_PRIMITIVE]) {\n  createNonEnumerableProperty($Symbol[PROTOTYPE], TO_PRIMITIVE, $Symbol[PROTOTYPE].valueOf);\n}\n// `Symbol.prototype[@@toStringTag]` property\n// https://tc39.github.io/ecma262/#sec-symbol.prototype-@@tostringtag\nsetToStringTag($Symbol, SYMBOL);\n\nhiddenKeys[HIDDEN] = true;\n","var $ = require('../internals/export');\nvar from = require('../internals/array-from');\nvar checkCorrectnessOfIteration = require('../internals/check-correctness-of-iteration');\n\nvar INCORRECT_ITERATION = !checkCorrectnessOfIteration(function (iterable) {\n  Array.from(iterable);\n});\n\n// `Array.from` method\n// https://tc39.github.io/ecma262/#sec-array.from\n$({ target: 'Array', stat: true, forced: INCORRECT_ITERATION }, {\n  from: from\n});\n","'use strict';\nvar fails = require('../internals/fails');\n\nmodule.exports = function (METHOD_NAME, argument) {\n  var method = [][METHOD_NAME];\n  return !!method && fails(function () {\n    // eslint-disable-next-line no-useless-call,no-throw-literal\n    method.call(null, argument || function () { throw 1; }, 1);\n  });\n};\n","var ceil = Math.ceil;\nvar floor = Math.floor;\n\n// `ToInteger` abstract operation\n// https://tc39.github.io/ecma262/#sec-tointeger\nmodule.exports = function (argument) {\n  return isNaN(argument = +argument) ? 0 : (argument > 0 ? floor : ceil)(argument);\n};\n","'use strict';\nvar $ = require('../internals/export');\nvar IS_PURE = require('../internals/is-pure');\nvar NativePromise = require('../internals/native-promise-constructor');\nvar fails = require('../internals/fails');\nvar getBuiltIn = require('../internals/get-built-in');\nvar speciesConstructor = require('../internals/species-constructor');\nvar promiseResolve = require('../internals/promise-resolve');\nvar redefine = require('../internals/redefine');\n\n// Safari bug https://bugs.webkit.org/show_bug.cgi?id=200829\nvar NON_GENERIC = !!NativePromise && fails(function () {\n  NativePromise.prototype['finally'].call({ then: function () { /* empty */ } }, function () { /* empty */ });\n});\n\n// `Promise.prototype.finally` method\n// https://tc39.github.io/ecma262/#sec-promise.prototype.finally\n$({ target: 'Promise', proto: true, real: true, forced: NON_GENERIC }, {\n  'finally': function (onFinally) {\n    var C = speciesConstructor(this, getBuiltIn('Promise'));\n    var isFunction = typeof onFinally == 'function';\n    return this.then(\n      isFunction ? function (x) {\n        return promiseResolve(C, onFinally()).then(function () { return x; });\n      } : onFinally,\n      isFunction ? function (e) {\n        return promiseResolve(C, onFinally()).then(function () { throw e; });\n      } : onFinally\n    );\n  }\n});\n\n// patch native Promise.prototype for native async functions\nif (!IS_PURE && typeof NativePromise == 'function' && !NativePromise.prototype['finally']) {\n  redefine(NativePromise.prototype, 'finally', getBuiltIn('Promise').prototype['finally']);\n}\n","'use strict';\nvar anObject = require('../internals/an-object');\n\n// `RegExp.prototype.flags` getter implementation\n// https://tc39.github.io/ecma262/#sec-get-regexp.prototype.flags\nmodule.exports = function () {\n  var that = anObject(this);\n  var result = '';\n  if (that.global) result += 'g';\n  if (that.ignoreCase) result += 'i';\n  if (that.multiline) result += 'm';\n  if (that.dotAll) result += 's';\n  if (that.unicode) result += 'u';\n  if (that.sticky) result += 'y';\n  return result;\n};\n","var DESCRIPTORS = require('../internals/descriptors');\nvar fails = require('../internals/fails');\nvar has = require('../internals/has');\n\nvar defineProperty = Object.defineProperty;\nvar cache = {};\n\nvar thrower = function (it) { throw it; };\n\nmodule.exports = function (METHOD_NAME, options) {\n  if (has(cache, METHOD_NAME)) return cache[METHOD_NAME];\n  if (!options) options = {};\n  var method = [][METHOD_NAME];\n  var ACCESSORS = has(options, 'ACCESSORS') ? options.ACCESSORS : false;\n  var argument0 = has(options, 0) ? options[0] : thrower;\n  var argument1 = has(options, 1) ? options[1] : undefined;\n\n  return cache[METHOD_NAME] = !!method && !fails(function () {\n    if (ACCESSORS && !DESCRIPTORS) return true;\n    var O = { length: -1 };\n\n    if (ACCESSORS) defineProperty(O, 1, { enumerable: true, get: thrower });\n    else O[1] = 1;\n\n    method.call(O, argument0, argument1);\n  });\n};\n","'use strict';\nvar getPrototypeOf = require('../internals/object-get-prototype-of');\nvar createNonEnumerableProperty = require('../internals/create-non-enumerable-property');\nvar has = require('../internals/has');\nvar wellKnownSymbol = require('../internals/well-known-symbol');\nvar IS_PURE = require('../internals/is-pure');\n\nvar ITERATOR = wellKnownSymbol('iterator');\nvar BUGGY_SAFARI_ITERATORS = false;\n\nvar returnThis = function () { return this; };\n\n// `%IteratorPrototype%` object\n// https://tc39.github.io/ecma262/#sec-%iteratorprototype%-object\nvar IteratorPrototype, PrototypeOfArrayIteratorPrototype, arrayIterator;\n\nif ([].keys) {\n  arrayIterator = [].keys();\n  // Safari 8 has buggy iterators w/o `next`\n  if (!('next' in arrayIterator)) BUGGY_SAFARI_ITERATORS = true;\n  else {\n    PrototypeOfArrayIteratorPrototype = getPrototypeOf(getPrototypeOf(arrayIterator));\n    if (PrototypeOfArrayIteratorPrototype !== Object.prototype) IteratorPrototype = PrototypeOfArrayIteratorPrototype;\n  }\n}\n\nif (IteratorPrototype == undefined) IteratorPrototype = {};\n\n// 25.1.2.1.1 %IteratorPrototype%[@@iterator]()\nif (!IS_PURE && !has(IteratorPrototype, ITERATOR)) {\n  createNonEnumerableProperty(IteratorPrototype, ITERATOR, returnThis);\n}\n\nmodule.exports = {\n  IteratorPrototype: IteratorPrototype,\n  BUGGY_SAFARI_ITERATORS: BUGGY_SAFARI_ITERATORS\n};\n","'use strict';\nvar TO_STRING_TAG_SUPPORT = require('../internals/to-string-tag-support');\nvar classof = require('../internals/classof');\n\n// `Object.prototype.toString` method implementation\n// https://tc39.github.io/ecma262/#sec-object.prototype.tostring\nmodule.exports = TO_STRING_TAG_SUPPORT ? {}.toString : function toString() {\n  return '[object ' + classof(this) + ']';\n};\n","var DESCRIPTORS = require('../internals/descriptors');\nvar defineProperty = require('../internals/object-define-property').f;\n\nvar FunctionPrototype = Function.prototype;\nvar FunctionPrototypeToString = FunctionPrototype.toString;\nvar nameRE = /^\\s*function ([^ (]*)/;\nvar NAME = 'name';\n\n// Function instances `.name` property\n// https://tc39.github.io/ecma262/#sec-function-instances-name\nif (DESCRIPTORS && !(NAME in FunctionPrototype)) {\n  defineProperty(FunctionPrototype, NAME, {\n    configurable: true,\n    get: function () {\n      try {\n        return FunctionPrototypeToString.call(this).match(nameRE)[1];\n      } catch (error) {\n        return '';\n      }\n    }\n  });\n}\n","var global = require('../internals/global');\nvar getOwnPropertyDescriptor = require('../internals/object-get-own-property-descriptor').f;\nvar classof = require('../internals/classof-raw');\nvar macrotask = require('../internals/task').set;\nvar IS_IOS = require('../internals/engine-is-ios');\n\nvar MutationObserver = global.MutationObserver || global.WebKitMutationObserver;\nvar process = global.process;\nvar Promise = global.Promise;\nvar IS_NODE = classof(process) == 'process';\n// Node.js 11 shows ExperimentalWarning on getting `queueMicrotask`\nvar queueMicrotaskDescriptor = getOwnPropertyDescriptor(global, 'queueMicrotask');\nvar queueMicrotask = queueMicrotaskDescriptor && queueMicrotaskDescriptor.value;\n\nvar flush, head, last, notify, toggle, node, promise, then;\n\n// modern engines have queueMicrotask method\nif (!queueMicrotask) {\n  flush = function () {\n    var parent, fn;\n    if (IS_NODE && (parent = process.domain)) parent.exit();\n    while (head) {\n      fn = head.fn;\n      head = head.next;\n      try {\n        fn();\n      } catch (error) {\n        if (head) notify();\n        else last = undefined;\n        throw error;\n      }\n    } last = undefined;\n    if (parent) parent.enter();\n  };\n\n  // Node.js\n  if (IS_NODE) {\n    notify = function () {\n      process.nextTick(flush);\n    };\n  // browsers with MutationObserver, except iOS - https://github.com/zloirock/core-js/issues/339\n  } else if (MutationObserver && !IS_IOS) {\n    toggle = true;\n    node = document.createTextNode('');\n    new MutationObserver(flush).observe(node, { characterData: true });\n    notify = function () {\n      node.data = toggle = !toggle;\n    };\n  // environments with maybe non-completely correct, but existent Promise\n  } else if (Promise && Promise.resolve) {\n    // Promise.resolve without an argument throws an error in LG WebOS 2\n    promise = Promise.resolve(undefined);\n    then = promise.then;\n    notify = function () {\n      then.call(promise, flush);\n    };\n  // for other environments - macrotask based on:\n  // - setImmediate\n  // - MessageChannel\n  // - window.postMessag\n  // - onreadystatechange\n  // - setTimeout\n  } else {\n    notify = function () {\n      // strange IE + webpack dev server bug - use .call(global)\n      macrotask.call(global, flush);\n    };\n  }\n}\n\nmodule.exports = queueMicrotask || function (fn) {\n  var task = { fn: fn, next: undefined };\n  if (last) last.next = task;\n  if (!head) {\n    head = task;\n    notify();\n  } last = task;\n};\n","var global = require('../internals/global');\nvar shared = require('../internals/shared');\nvar has = require('../internals/has');\nvar uid = require('../internals/uid');\nvar NATIVE_SYMBOL = require('../internals/native-symbol');\nvar USE_SYMBOL_AS_UID = require('../internals/use-symbol-as-uid');\n\nvar WellKnownSymbolsStore = shared('wks');\nvar Symbol = global.Symbol;\nvar createWellKnownSymbol = USE_SYMBOL_AS_UID ? Symbol : Symbol && Symbol.withoutSetter || uid;\n\nmodule.exports = function (name) {\n  if (!has(WellKnownSymbolsStore, name)) {\n    if (NATIVE_SYMBOL && has(Symbol, name)) WellKnownSymbolsStore[name] = Symbol[name];\n    else WellKnownSymbolsStore[name] = createWellKnownSymbol('Symbol.' + name);\n  } return WellKnownSymbolsStore[name];\n};\n","var bind = require('../internals/function-bind-context');\nvar IndexedObject = require('../internals/indexed-object');\nvar toObject = require('../internals/to-object');\nvar toLength = require('../internals/to-length');\nvar arraySpeciesCreate = require('../internals/array-species-create');\n\nvar push = [].push;\n\n// `Array.prototype.{ forEach, map, filter, some, every, find, findIndex }` methods implementation\nvar createMethod = function (TYPE) {\n  var IS_MAP = TYPE == 1;\n  var IS_FILTER = TYPE == 2;\n  var IS_SOME = TYPE == 3;\n  var IS_EVERY = TYPE == 4;\n  var IS_FIND_INDEX = TYPE == 6;\n  var NO_HOLES = TYPE == 5 || IS_FIND_INDEX;\n  return function ($this, callbackfn, that, specificCreate) {\n    var O = toObject($this);\n    var self = IndexedObject(O);\n    var boundFunction = bind(callbackfn, that, 3);\n    var length = toLength(self.length);\n    var index = 0;\n    var create = specificCreate || arraySpeciesCreate;\n    var target = IS_MAP ? create($this, length) : IS_FILTER ? create($this, 0) : undefined;\n    var value, result;\n    for (;length > index; index++) if (NO_HOLES || index in self) {\n      value = self[index];\n      result = boundFunction(value, index, O);\n      if (TYPE) {\n        if (IS_MAP) target[index] = result; // map\n        else if (result) switch (TYPE) {\n          case 3: return true;              // some\n          case 5: return value;             // find\n          case 6: return index;             // findIndex\n          case 2: push.call(target, value); // filter\n        } else if (IS_EVERY) return false;  // every\n      }\n    }\n    return IS_FIND_INDEX ? -1 : IS_SOME || IS_EVERY ? IS_EVERY : target;\n  };\n};\n\nmodule.exports = {\n  // `Array.prototype.forEach` method\n  // https://tc39.github.io/ecma262/#sec-array.prototype.foreach\n  forEach: createMethod(0),\n  // `Array.prototype.map` method\n  // https://tc39.github.io/ecma262/#sec-array.prototype.map\n  map: createMethod(1),\n  // `Array.prototype.filter` method\n  // https://tc39.github.io/ecma262/#sec-array.prototype.filter\n  filter: createMethod(2),\n  // `Array.prototype.some` method\n  // https://tc39.github.io/ecma262/#sec-array.prototype.some\n  some: createMethod(3),\n  // `Array.prototype.every` method\n  // https://tc39.github.io/ecma262/#sec-array.prototype.every\n  every: createMethod(4),\n  // `Array.prototype.find` method\n  // https://tc39.github.io/ecma262/#sec-array.prototype.find\n  find: createMethod(5),\n  // `Array.prototype.findIndex` method\n  // https://tc39.github.io/ecma262/#sec-array.prototype.findIndex\n  findIndex: createMethod(6)\n};\n","var isObject = require('../internals/is-object');\n\n// `ToPrimitive` abstract operation\n// https://tc39.github.io/ecma262/#sec-toprimitive\n// instead of the ES6 spec version, we didn't implement @@toPrimitive case\n// and the second argument - flag - preferred type is a string\nmodule.exports = function (input, PREFERRED_STRING) {\n  if (!isObject(input)) return input;\n  var fn, val;\n  if (PREFERRED_STRING && typeof (fn = input.toString) == 'function' && !isObject(val = fn.call(input))) return val;\n  if (typeof (fn = input.valueOf) == 'function' && !isObject(val = fn.call(input))) return val;\n  if (!PREFERRED_STRING && typeof (fn = input.toString) == 'function' && !isObject(val = fn.call(input))) return val;\n  throw TypeError(\"Can't convert object to primitive value\");\n};\n","module.exports = false;\n","var toString = {}.toString;\n\nmodule.exports = function (it) {\n  return toString.call(it).slice(8, -1);\n};\n","var global = require('../internals/global');\nvar setGlobal = require('../internals/set-global');\n\nvar SHARED = '__core-js_shared__';\nvar store = global[SHARED] || setGlobal(SHARED, {});\n\nmodule.exports = store;\n","var g;\n\n// This works in non-strict mode\ng = (function() {\n\treturn this;\n})();\n\ntry {\n\t// This works if eval is allowed (see CSP)\n\tg = g || new Function(\"return this\")();\n} catch (e) {\n\t// This works if the window reference is available\n\tif (typeof window === \"object\") g = window;\n}\n\n// g can still be undefined, but nothing to do about it...\n// We return undefined, instead of nothing here, so it's\n// easier to handle this case. if(!global) { ...}\n\nmodule.exports = g;\n","var has = require('../internals/has');\nvar toIndexedObject = require('../internals/to-indexed-object');\nvar indexOf = require('../internals/array-includes').indexOf;\nvar hiddenKeys = require('../internals/hidden-keys');\n\nmodule.exports = function (object, names) {\n  var O = toIndexedObject(object);\n  var i = 0;\n  var result = [];\n  var key;\n  for (key in O) !has(hiddenKeys, key) && has(O, key) && result.push(key);\n  // Don't enum bug & hidden keys\n  while (names.length > i) if (has(O, key = names[i++])) {\n    ~indexOf(result, key) || result.push(key);\n  }\n  return result;\n};\n","var global = require('../internals/global');\nvar isObject = require('../internals/is-object');\n\nvar document = global.document;\n// typeof document.createElement is 'object' in old IE\nvar EXISTS = isObject(document) && isObject(document.createElement);\n\nmodule.exports = function (it) {\n  return EXISTS ? document.createElement(it) : {};\n};\n","var $ = require('../internals/export');\nvar assign = require('../internals/object-assign');\n\n// `Object.assign` method\n// https://tc39.github.io/ecma262/#sec-object.assign\n$({ target: 'Object', stat: true, forced: Object.assign !== assign }, {\n  assign: assign\n});\n","'use strict';\n\nexports.test = function () {\n  if (global.setImmediate) {\n    // we can only get here in IE10\n    // which doesn't handel postMessage well\n    return false;\n  }\n  return typeof global.MessageChannel !== 'undefined';\n};\n\nexports.install = function (func) {\n  var channel = new global.MessageChannel();\n  channel.port1.onmessage = func;\n  return function () {\n    channel.port2.postMessage(0);\n  };\n};","var anObject = require('../internals/an-object');\nvar isObject = require('../internals/is-object');\nvar newPromiseCapability = require('../internals/new-promise-capability');\n\nmodule.exports = function (C, x) {\n  anObject(C);\n  if (isObject(x) && x.constructor === C) return x;\n  var promiseCapability = newPromiseCapability.f(C);\n  var resolve = promiseCapability.resolve;\n  resolve(x);\n  return promiseCapability.promise;\n};\n","var global = require('../internals/global');\nvar createNonEnumerableProperty = require('../internals/create-non-enumerable-property');\n\nmodule.exports = function (key, value) {\n  try {\n    createNonEnumerableProperty(global, key, value);\n  } catch (error) {\n    global[key] = value;\n  } return value;\n};\n","module.exports = {};\n","module.exports = function (exec) {\n  try {\n    return !!exec();\n  } catch (error) {\n    return true;\n  }\n};\n","var path = require('../internals/path');\nvar global = require('../internals/global');\n\nvar aFunction = function (variable) {\n  return typeof variable == 'function' ? variable : undefined;\n};\n\nmodule.exports = function (namespace, method) {\n  return arguments.length < 2 ? aFunction(path[namespace]) || aFunction(global[namespace])\n    : path[namespace] && path[namespace][method] || global[namespace] && global[namespace][method];\n};\n","'use strict';\nvar nativePropertyIsEnumerable = {}.propertyIsEnumerable;\nvar getOwnPropertyDescriptor = Object.getOwnPropertyDescriptor;\n\n// Nashorn ~ JDK8 bug\nvar NASHORN_BUG = getOwnPropertyDescriptor && !nativePropertyIsEnumerable.call({ 1: 2 }, 1);\n\n// `Object.prototype.propertyIsEnumerable` method implementation\n// https://tc39.github.io/ecma262/#sec-object.prototype.propertyisenumerable\nexports.f = NASHORN_BUG ? function propertyIsEnumerable(V) {\n  var descriptor = getOwnPropertyDescriptor(this, V);\n  return !!descriptor && descriptor.enumerable;\n} : nativePropertyIsEnumerable;\n","var defineWellKnownSymbol = require('../internals/define-well-known-symbol');\n\n// `Symbol.iterator` well-known symbol\n// https://tc39.github.io/ecma262/#sec-symbol.iterator\ndefineWellKnownSymbol('iterator');\n","var anObject = require('../internals/an-object');\nvar aPossiblePrototype = require('../internals/a-possible-prototype');\n\n// `Object.setPrototypeOf` method\n// https://tc39.github.io/ecma262/#sec-object.setprototypeof\n// Works with __proto__ only. Old v8 can't work with null proto objects.\n/* eslint-disable no-proto */\nmodule.exports = Object.setPrototypeOf || ('__proto__' in {} ? function () {\n  var CORRECT_SETTER = false;\n  var test = {};\n  var setter;\n  try {\n    setter = Object.getOwnPropertyDescriptor(Object.prototype, '__proto__').set;\n    setter.call(test, []);\n    CORRECT_SETTER = test instanceof Array;\n  } catch (error) { /* empty */ }\n  return function setPrototypeOf(O, proto) {\n    anObject(O);\n    aPossiblePrototype(proto);\n    if (CORRECT_SETTER) setter.call(O, proto);\n    else O.__proto__ = proto;\n    return O;\n  };\n}() : undefined);\n","var TO_STRING_TAG_SUPPORT = require('../internals/to-string-tag-support');\nvar redefine = require('../internals/redefine');\nvar toString = require('../internals/object-to-string');\n\n// `Object.prototype.toString` method\n// https://tc39.github.io/ecma262/#sec-object.prototype.tostring\nif (!TO_STRING_TAG_SUPPORT) {\n  redefine(Object.prototype, 'toString', toString, { unsafe: true });\n}\n","var defineProperty = require('../internals/object-define-property').f;\nvar has = require('../internals/has');\nvar wellKnownSymbol = require('../internals/well-known-symbol');\n\nvar TO_STRING_TAG = wellKnownSymbol('toStringTag');\n\nmodule.exports = function (it, TAG, STATIC) {\n  if (it && !has(it = STATIC ? it : it.prototype, TO_STRING_TAG)) {\n    defineProperty(it, TO_STRING_TAG, { configurable: true, value: TAG });\n  }\n};\n","var check = function (it) {\n  return it && it.Math == Math && it;\n};\n\n// https://github.com/zloirock/core-js/issues/86#issuecomment-115759028\nmodule.exports =\n  // eslint-disable-next-line no-undef\n  check(typeof globalThis == 'object' && globalThis) ||\n  check(typeof window == 'object' && window) ||\n  check(typeof self == 'object' && self) ||\n  check(typeof global == 'object' && global) ||\n  // eslint-disable-next-line no-new-func\n  Function('return this')();\n","'use strict';\n\nmodule.exports = argsArray;\n\nfunction argsArray(fun) {\n  return function () {\n    var len = arguments.length;\n    if (len) {\n      var args = [];\n      var i = -1;\n      while (++i < len) {\n        args[i] = arguments[i];\n      }\n      return fun.call(this, args);\n    } else {\n      return fun.call(this, []);\n    }\n  };\n}","var global = require('../internals/global');\nvar DOMIterables = require('../internals/dom-iterables');\nvar ArrayIteratorMethods = require('../modules/es.array.iterator');\nvar createNonEnumerableProperty = require('../internals/create-non-enumerable-property');\nvar wellKnownSymbol = require('../internals/well-known-symbol');\n\nvar ITERATOR = wellKnownSymbol('iterator');\nvar TO_STRING_TAG = wellKnownSymbol('toStringTag');\nvar ArrayValues = ArrayIteratorMethods.values;\n\nfor (var COLLECTION_NAME in DOMIterables) {\n  var Collection = global[COLLECTION_NAME];\n  var CollectionPrototype = Collection && Collection.prototype;\n  if (CollectionPrototype) {\n    // some Chrome versions have non-configurable methods on DOMTokenList\n    if (CollectionPrototype[ITERATOR] !== ArrayValues) try {\n      createNonEnumerableProperty(CollectionPrototype, ITERATOR, ArrayValues);\n    } catch (error) {\n      CollectionPrototype[ITERATOR] = ArrayValues;\n    }\n    if (!CollectionPrototype[TO_STRING_TAG]) {\n      createNonEnumerableProperty(CollectionPrototype, TO_STRING_TAG, COLLECTION_NAME);\n    }\n    if (DOMIterables[COLLECTION_NAME]) for (var METHOD_NAME in ArrayIteratorMethods) {\n      // some Chrome versions have non-configurable methods on DOMTokenList\n      if (CollectionPrototype[METHOD_NAME] !== ArrayIteratorMethods[METHOD_NAME]) try {\n        createNonEnumerableProperty(CollectionPrototype, METHOD_NAME, ArrayIteratorMethods[METHOD_NAME]);\n      } catch (error) {\n        CollectionPrototype[METHOD_NAME] = ArrayIteratorMethods[METHOD_NAME];\n      }\n    }\n  }\n}\n","var internalObjectKeys = require('../internals/object-keys-internal');\nvar enumBugKeys = require('../internals/enum-bug-keys');\n\n// `Object.keys` method\n// https://tc39.github.io/ecma262/#sec-object.keys\nmodule.exports = Object.keys || function keys(O) {\n  return internalObjectKeys(O, enumBugKeys);\n};\n","// .dirname, .basename, and .extname methods are extracted from Node.js v8.11.1,\n// backported and transplited with Babel, with backwards-compat fixes\n\n// Copyright Joyent, Inc. and other Node contributors.\n//\n// Permission is hereby granted, free of charge, to any person obtaining a\n// copy of this software and associated documentation files (the\n// \"Software\"), to deal in the Software without restriction, including\n// without limitation the rights to use, copy, modify, merge, publish,\n// distribute, sublicense, and/or sell copies of the Software, and to permit\n// persons to whom the Software is furnished to do so, subject to the\n// following conditions:\n//\n// The above copyright notice and this permission notice shall be included\n// in all copies or substantial portions of the Software.\n//\n// THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS\n// OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF\n// MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN\n// NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM,\n// DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR\n// OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE\n// USE OR OTHER DEALINGS IN THE SOFTWARE.\n\n// resolves . and .. elements in a path array with directory names there\n// must be no slashes, empty elements, or device names (c:\\) in the array\n// (so also no leading and trailing slashes - it does not distinguish\n// relative and absolute paths)\nfunction normalizeArray(parts, allowAboveRoot) {\n  // if the path tries to go above the root, `up` ends up > 0\n  var up = 0;\n  for (var i = parts.length - 1; i >= 0; i--) {\n    var last = parts[i];\n    if (last === '.') {\n      parts.splice(i, 1);\n    } else if (last === '..') {\n      parts.splice(i, 1);\n      up++;\n    } else if (up) {\n      parts.splice(i, 1);\n      up--;\n    }\n  }\n\n  // if the path is allowed to go above the root, restore leading ..s\n  if (allowAboveRoot) {\n    for (; up--; up) {\n      parts.unshift('..');\n    }\n  }\n\n  return parts;\n}\n\n// path.resolve([from ...], to)\n// posix version\nexports.resolve = function() {\n  var resolvedPath = '',\n      resolvedAbsolute = false;\n\n  for (var i = arguments.length - 1; i >= -1 && !resolvedAbsolute; i--) {\n    var path = (i >= 0) ? arguments[i] : process.cwd();\n\n    // Skip empty and invalid entries\n    if (typeof path !== 'string') {\n      throw new TypeError('Arguments to path.resolve must be strings');\n    } else if (!path) {\n      continue;\n    }\n\n    resolvedPath = path + '/' + resolvedPath;\n    resolvedAbsolute = path.charAt(0) === '/';\n  }\n\n  // At this point the path should be resolved to a full absolute path, but\n  // handle relative paths to be safe (might happen when process.cwd() fails)\n\n  // Normalize the path\n  resolvedPath = normalizeArray(filter(resolvedPath.split('/'), function(p) {\n    return !!p;\n  }), !resolvedAbsolute).join('/');\n\n  return ((resolvedAbsolute ? '/' : '') + resolvedPath) || '.';\n};\n\n// path.normalize(path)\n// posix version\nexports.normalize = function(path) {\n  var isAbsolute = exports.isAbsolute(path),\n      trailingSlash = substr(path, -1) === '/';\n\n  // Normalize the path\n  path = normalizeArray(filter(path.split('/'), function(p) {\n    return !!p;\n  }), !isAbsolute).join('/');\n\n  if (!path && !isAbsolute) {\n    path = '.';\n  }\n  if (path && trailingSlash) {\n    path += '/';\n  }\n\n  return (isAbsolute ? '/' : '') + path;\n};\n\n// posix version\nexports.isAbsolute = function(path) {\n  return path.charAt(0) === '/';\n};\n\n// posix version\nexports.join = function() {\n  var paths = Array.prototype.slice.call(arguments, 0);\n  return exports.normalize(filter(paths, function(p, index) {\n    if (typeof p !== 'string') {\n      throw new TypeError('Arguments to path.join must be strings');\n    }\n    return p;\n  }).join('/'));\n};\n\n\n// path.relative(from, to)\n// posix version\nexports.relative = function(from, to) {\n  from = exports.resolve(from).substr(1);\n  to = exports.resolve(to).substr(1);\n\n  function trim(arr) {\n    var start = 0;\n    for (; start < arr.length; start++) {\n      if (arr[start] !== '') break;\n    }\n\n    var end = arr.length - 1;\n    for (; end >= 0; end--) {\n      if (arr[end] !== '') break;\n    }\n\n    if (start > end) return [];\n    return arr.slice(start, end - start + 1);\n  }\n\n  var fromParts = trim(from.split('/'));\n  var toParts = trim(to.split('/'));\n\n  var length = Math.min(fromParts.length, toParts.length);\n  var samePartsLength = length;\n  for (var i = 0; i < length; i++) {\n    if (fromParts[i] !== toParts[i]) {\n      samePartsLength = i;\n      break;\n    }\n  }\n\n  var outputParts = [];\n  for (var i = samePartsLength; i < fromParts.length; i++) {\n    outputParts.push('..');\n  }\n\n  outputParts = outputParts.concat(toParts.slice(samePartsLength));\n\n  return outputParts.join('/');\n};\n\nexports.sep = '/';\nexports.delimiter = ':';\n\nexports.dirname = function (path) {\n  if (typeof path !== 'string') path = path + '';\n  if (path.length === 0) return '.';\n  var code = path.charCodeAt(0);\n  var hasRoot = code === 47 /*/*/;\n  var end = -1;\n  var matchedSlash = true;\n  for (var i = path.length - 1; i >= 1; --i) {\n    code = path.charCodeAt(i);\n    if (code === 47 /*/*/) {\n        if (!matchedSlash) {\n          end = i;\n          break;\n        }\n      } else {\n      // We saw the first non-path separator\n      matchedSlash = false;\n    }\n  }\n\n  if (end === -1) return hasRoot ? '/' : '.';\n  if (hasRoot && end === 1) {\n    // return '//';\n    // Backwards-compat fix:\n    return '/';\n  }\n  return path.slice(0, end);\n};\n\nfunction basename(path) {\n  if (typeof path !== 'string') path = path + '';\n\n  var start = 0;\n  var end = -1;\n  var matchedSlash = true;\n  var i;\n\n  for (i = path.length - 1; i >= 0; --i) {\n    if (path.charCodeAt(i) === 47 /*/*/) {\n        // If we reached a path separator that was not part of a set of path\n        // separators at the end of the string, stop now\n        if (!matchedSlash) {\n          start = i + 1;\n          break;\n        }\n      } else if (end === -1) {\n      // We saw the first non-path separator, mark this as the end of our\n      // path component\n      matchedSlash = false;\n      end = i + 1;\n    }\n  }\n\n  if (end === -1) return '';\n  return path.slice(start, end);\n}\n\n// Uses a mixed approach for backwards-compatibility, as ext behavior changed\n// in new Node.js versions, so only basename() above is backported here\nexports.basename = function (path, ext) {\n  var f = basename(path);\n  if (ext && f.substr(-1 * ext.length) === ext) {\n    f = f.substr(0, f.length - ext.length);\n  }\n  return f;\n};\n\nexports.extname = function (path) {\n  if (typeof path !== 'string') path = path + '';\n  var startDot = -1;\n  var startPart = 0;\n  var end = -1;\n  var matchedSlash = true;\n  // Track the state of characters (if any) we see before our first dot and\n  // after any path separator we find\n  var preDotState = 0;\n  for (var i = path.length - 1; i >= 0; --i) {\n    var code = path.charCodeAt(i);\n    if (code === 47 /*/*/) {\n        // If we reached a path separator that was not part of a set of path\n        // separators at the end of the string, stop now\n        if (!matchedSlash) {\n          startPart = i + 1;\n          break;\n        }\n        continue;\n      }\n    if (end === -1) {\n      // We saw the first non-path separator, mark this as the end of our\n      // extension\n      matchedSlash = false;\n      end = i + 1;\n    }\n    if (code === 46 /*.*/) {\n        // If this is our first dot, mark it as the start of our extension\n        if (startDot === -1)\n          startDot = i;\n        else if (preDotState !== 1)\n          preDotState = 1;\n    } else if (startDot !== -1) {\n      // We saw a non-dot and non-path separator before our dot, so we should\n      // have a good chance at having a non-empty extension\n      preDotState = -1;\n    }\n  }\n\n  if (startDot === -1 || end === -1 ||\n      // We saw a non-dot character immediately before the dot\n      preDotState === 0 ||\n      // The (right-most) trimmed path component is exactly '..'\n      preDotState === 1 && startDot === end - 1 && startDot === startPart + 1) {\n    return '';\n  }\n  return path.slice(startDot, end);\n};\n\nfunction filter (xs, f) {\n    if (xs.filter) return xs.filter(f);\n    var res = [];\n    for (var i = 0; i < xs.length; i++) {\n        if (f(xs[i], i, xs)) res.push(xs[i]);\n    }\n    return res;\n}\n\n// String.prototype.substr - negative index don't work in IE8\nvar substr = 'ab'.substr(-1) === 'b'\n    ? function (str, start, len) { return str.substr(start, len) }\n    : function (str, start, len) {\n        if (start < 0) start = str.length + start;\n        return str.substr(start, len);\n    }\n;\n","// `Symbol.prototype.description` getter\n// https://tc39.github.io/ecma262/#sec-symbol.prototype.description\n'use strict';\nvar $ = require('../internals/export');\nvar DESCRIPTORS = require('../internals/descriptors');\nvar global = require('../internals/global');\nvar has = require('../internals/has');\nvar isObject = require('../internals/is-object');\nvar defineProperty = require('../internals/object-define-property').f;\nvar copyConstructorProperties = require('../internals/copy-constructor-properties');\n\nvar NativeSymbol = global.Symbol;\n\nif (DESCRIPTORS && typeof NativeSymbol == 'function' && (!('description' in NativeSymbol.prototype) ||\n  // Safari 12 bug\n  NativeSymbol().description !== undefined\n)) {\n  var EmptyStringDescriptionStore = {};\n  // wrap Symbol constructor for correct work with undefined description\n  var SymbolWrapper = function Symbol() {\n    var description = arguments.length < 1 || arguments[0] === undefined ? undefined : String(arguments[0]);\n    var result = this instanceof SymbolWrapper\n      ? new NativeSymbol(description)\n      // in Edge 13, String(Symbol(undefined)) === 'Symbol(undefined)'\n      : description === undefined ? NativeSymbol() : NativeSymbol(description);\n    if (description === '') EmptyStringDescriptionStore[result] = true;\n    return result;\n  };\n  copyConstructorProperties(SymbolWrapper, NativeSymbol);\n  var symbolPrototype = SymbolWrapper.prototype = NativeSymbol.prototype;\n  symbolPrototype.constructor = SymbolWrapper;\n\n  var symbolToString = symbolPrototype.toString;\n  var native = String(NativeSymbol('test')) == 'Symbol(test)';\n  var regexp = /^Symbol\\((.*)\\)[^)]+$/;\n  defineProperty(symbolPrototype, 'description', {\n    configurable: true,\n    get: function description() {\n      var symbol = isObject(this) ? this.valueOf() : this;\n      var string = symbolToString.call(symbol);\n      if (has(EmptyStringDescriptionStore, symbol)) return '';\n      var desc = native ? string.slice(7, -1) : string.replace(regexp, '$1');\n      return desc === '' ? undefined : desc;\n    }\n  });\n\n  $({ global: true, forced: true }, {\n    Symbol: SymbolWrapper\n  });\n}\n","var has = require('../internals/has');\nvar toObject = require('../internals/to-object');\nvar sharedKey = require('../internals/shared-key');\nvar CORRECT_PROTOTYPE_GETTER = require('../internals/correct-prototype-getter');\n\nvar IE_PROTO = sharedKey('IE_PROTO');\nvar ObjectPrototype = Object.prototype;\n\n// `Object.getPrototypeOf` method\n// https://tc39.github.io/ecma262/#sec-object.getprototypeof\nmodule.exports = CORRECT_PROTOTYPE_GETTER ? Object.getPrototypeOf : function (O) {\n  O = toObject(O);\n  if (has(O, IE_PROTO)) return O[IE_PROTO];\n  if (typeof O.constructor == 'function' && O instanceof O.constructor) {\n    return O.constructor.prototype;\n  } return O instanceof Object ? ObjectPrototype : null;\n};\n","var fails = require('../internals/fails');\n\nmodule.exports = !fails(function () {\n  function F() { /* empty */ }\n  F.prototype.constructor = null;\n  return Object.getPrototypeOf(new F()) !== F.prototype;\n});\n","'use strict';\nvar toIndexedObject = require('../internals/to-indexed-object');\nvar addToUnscopables = require('../internals/add-to-unscopables');\nvar Iterators = require('../internals/iterators');\nvar InternalStateModule = require('../internals/internal-state');\nvar defineIterator = require('../internals/define-iterator');\n\nvar ARRAY_ITERATOR = 'Array Iterator';\nvar setInternalState = InternalStateModule.set;\nvar getInternalState = InternalStateModule.getterFor(ARRAY_ITERATOR);\n\n// `Array.prototype.entries` method\n// https://tc39.github.io/ecma262/#sec-array.prototype.entries\n// `Array.prototype.keys` method\n// https://tc39.github.io/ecma262/#sec-array.prototype.keys\n// `Array.prototype.values` method\n// https://tc39.github.io/ecma262/#sec-array.prototype.values\n// `Array.prototype[@@iterator]` method\n// https://tc39.github.io/ecma262/#sec-array.prototype-@@iterator\n// `CreateArrayIterator` internal method\n// https://tc39.github.io/ecma262/#sec-createarrayiterator\nmodule.exports = defineIterator(Array, 'Array', function (iterated, kind) {\n  setInternalState(this, {\n    type: ARRAY_ITERATOR,\n    target: toIndexedObject(iterated), // target\n    index: 0,                          // next index\n    kind: kind                         // kind\n  });\n// `%ArrayIteratorPrototype%.next` method\n// https://tc39.github.io/ecma262/#sec-%arrayiteratorprototype%.next\n}, function () {\n  var state = getInternalState(this);\n  var target = state.target;\n  var kind = state.kind;\n  var index = state.index++;\n  if (!target || index >= target.length) {\n    state.target = undefined;\n    return { value: undefined, done: true };\n  }\n  if (kind == 'keys') return { value: index, done: false };\n  if (kind == 'values') return { value: target[index], done: false };\n  return { value: [index, target[index]], done: false };\n}, 'values');\n\n// argumentsList[@@iterator] is %ArrayProto_values%\n// https://tc39.github.io/ecma262/#sec-createunmappedargumentsobject\n// https://tc39.github.io/ecma262/#sec-createmappedargumentsobject\nIterators.Arguments = Iterators.Array;\n\n// https://tc39.github.io/ecma262/#sec-array.prototype-@@unscopables\naddToUnscopables('keys');\naddToUnscopables('values');\naddToUnscopables('entries');\n","'use strict';\nexports.test = function () {\n  return true;\n};\n\nexports.install = function (t) {\n  return function () {\n    setTimeout(t, 0);\n  };\n};","var redefine = require('../internals/redefine');\n\nmodule.exports = function (target, src, options) {\n  for (var key in src) redefine(target, key, src[key], options);\n  return target;\n};\n","var wellKnownSymbol = require('../internals/well-known-symbol');\n\nexports.f = wellKnownSymbol;\n","module.exports = function (exec) {\n  try {\n    return { error: false, value: exec() };\n  } catch (error) {\n    return { error: true, value: error };\n  }\n};\n","'use strict';\nvar $ = require('../internals/export');\nvar IS_PURE = require('../internals/is-pure');\nvar global = require('../internals/global');\nvar getBuiltIn = require('../internals/get-built-in');\nvar NativePromise = require('../internals/native-promise-constructor');\nvar redefine = require('../internals/redefine');\nvar redefineAll = require('../internals/redefine-all');\nvar setToStringTag = require('../internals/set-to-string-tag');\nvar setSpecies = require('../internals/set-species');\nvar isObject = require('../internals/is-object');\nvar aFunction = require('../internals/a-function');\nvar anInstance = require('../internals/an-instance');\nvar classof = require('../internals/classof-raw');\nvar inspectSource = require('../internals/inspect-source');\nvar iterate = require('../internals/iterate');\nvar checkCorrectnessOfIteration = require('../internals/check-correctness-of-iteration');\nvar speciesConstructor = require('../internals/species-constructor');\nvar task = require('../internals/task').set;\nvar microtask = require('../internals/microtask');\nvar promiseResolve = require('../internals/promise-resolve');\nvar hostReportErrors = require('../internals/host-report-errors');\nvar newPromiseCapabilityModule = require('../internals/new-promise-capability');\nvar perform = require('../internals/perform');\nvar InternalStateModule = require('../internals/internal-state');\nvar isForced = require('../internals/is-forced');\nvar wellKnownSymbol = require('../internals/well-known-symbol');\nvar V8_VERSION = require('../internals/engine-v8-version');\n\nvar SPECIES = wellKnownSymbol('species');\nvar PROMISE = 'Promise';\nvar getInternalState = InternalStateModule.get;\nvar setInternalState = InternalStateModule.set;\nvar getInternalPromiseState = InternalStateModule.getterFor(PROMISE);\nvar PromiseConstructor = NativePromise;\nvar TypeError = global.TypeError;\nvar document = global.document;\nvar process = global.process;\nvar $fetch = getBuiltIn('fetch');\nvar newPromiseCapability = newPromiseCapabilityModule.f;\nvar newGenericPromiseCapability = newPromiseCapability;\nvar IS_NODE = classof(process) == 'process';\nvar DISPATCH_EVENT = !!(document && document.createEvent && global.dispatchEvent);\nvar UNHANDLED_REJECTION = 'unhandledrejection';\nvar REJECTION_HANDLED = 'rejectionhandled';\nvar PENDING = 0;\nvar FULFILLED = 1;\nvar REJECTED = 2;\nvar HANDLED = 1;\nvar UNHANDLED = 2;\nvar Internal, OwnPromiseCapability, PromiseWrapper, nativeThen;\n\nvar FORCED = isForced(PROMISE, function () {\n  var GLOBAL_CORE_JS_PROMISE = inspectSource(PromiseConstructor) !== String(PromiseConstructor);\n  if (!GLOBAL_CORE_JS_PROMISE) {\n    // V8 6.6 (Node 10 and Chrome 66) have a bug with resolving custom thenables\n    // https://bugs.chromium.org/p/chromium/issues/detail?id=830565\n    // We can't detect it synchronously, so just check versions\n    if (V8_VERSION === 66) return true;\n    // Unhandled rejections tracking support, NodeJS Promise without it fails @@species test\n    if (!IS_NODE && typeof PromiseRejectionEvent != 'function') return true;\n  }\n  // We need Promise#finally in the pure version for preventing prototype pollution\n  if (IS_PURE && !PromiseConstructor.prototype['finally']) return true;\n  // We can't use @@species feature detection in V8 since it causes\n  // deoptimization and performance degradation\n  // https://github.com/zloirock/core-js/issues/679\n  if (V8_VERSION >= 51 && /native code/.test(PromiseConstructor)) return false;\n  // Detect correctness of subclassing with @@species support\n  var promise = PromiseConstructor.resolve(1);\n  var FakePromise = function (exec) {\n    exec(function () { /* empty */ }, function () { /* empty */ });\n  };\n  var constructor = promise.constructor = {};\n  constructor[SPECIES] = FakePromise;\n  return !(promise.then(function () { /* empty */ }) instanceof FakePromise);\n});\n\nvar INCORRECT_ITERATION = FORCED || !checkCorrectnessOfIteration(function (iterable) {\n  PromiseConstructor.all(iterable)['catch'](function () { /* empty */ });\n});\n\n// helpers\nvar isThenable = function (it) {\n  var then;\n  return isObject(it) && typeof (then = it.then) == 'function' ? then : false;\n};\n\nvar notify = function (promise, state, isReject) {\n  if (state.notified) return;\n  state.notified = true;\n  var chain = state.reactions;\n  microtask(function () {\n    var value = state.value;\n    var ok = state.state == FULFILLED;\n    var index = 0;\n    // variable length - can't use forEach\n    while (chain.length > index) {\n      var reaction = chain[index++];\n      var handler = ok ? reaction.ok : reaction.fail;\n      var resolve = reaction.resolve;\n      var reject = reaction.reject;\n      var domain = reaction.domain;\n      var result, then, exited;\n      try {\n        if (handler) {\n          if (!ok) {\n            if (state.rejection === UNHANDLED) onHandleUnhandled(promise, state);\n            state.rejection = HANDLED;\n          }\n          if (handler === true) result = value;\n          else {\n            if (domain) domain.enter();\n            result = handler(value); // can throw\n            if (domain) {\n              domain.exit();\n              exited = true;\n            }\n          }\n          if (result === reaction.promise) {\n            reject(TypeError('Promise-chain cycle'));\n          } else if (then = isThenable(result)) {\n            then.call(result, resolve, reject);\n          } else resolve(result);\n        } else reject(value);\n      } catch (error) {\n        if (domain && !exited) domain.exit();\n        reject(error);\n      }\n    }\n    state.reactions = [];\n    state.notified = false;\n    if (isReject && !state.rejection) onUnhandled(promise, state);\n  });\n};\n\nvar dispatchEvent = function (name, promise, reason) {\n  var event, handler;\n  if (DISPATCH_EVENT) {\n    event = document.createEvent('Event');\n    event.promise = promise;\n    event.reason = reason;\n    event.initEvent(name, false, true);\n    global.dispatchEvent(event);\n  } else event = { promise: promise, reason: reason };\n  if (handler = global['on' + name]) handler(event);\n  else if (name === UNHANDLED_REJECTION) hostReportErrors('Unhandled promise rejection', reason);\n};\n\nvar onUnhandled = function (promise, state) {\n  task.call(global, function () {\n    var value = state.value;\n    var IS_UNHANDLED = isUnhandled(state);\n    var result;\n    if (IS_UNHANDLED) {\n      result = perform(function () {\n        if (IS_NODE) {\n          process.emit('unhandledRejection', value, promise);\n        } else dispatchEvent(UNHANDLED_REJECTION, promise, value);\n      });\n      // Browsers should not trigger `rejectionHandled` event if it was handled here, NodeJS - should\n      state.rejection = IS_NODE || isUnhandled(state) ? UNHANDLED : HANDLED;\n      if (result.error) throw result.value;\n    }\n  });\n};\n\nvar isUnhandled = function (state) {\n  return state.rejection !== HANDLED && !state.parent;\n};\n\nvar onHandleUnhandled = function (promise, state) {\n  task.call(global, function () {\n    if (IS_NODE) {\n      process.emit('rejectionHandled', promise);\n    } else dispatchEvent(REJECTION_HANDLED, promise, state.value);\n  });\n};\n\nvar bind = function (fn, promise, state, unwrap) {\n  return function (value) {\n    fn(promise, state, value, unwrap);\n  };\n};\n\nvar internalReject = function (promise, state, value, unwrap) {\n  if (state.done) return;\n  state.done = true;\n  if (unwrap) state = unwrap;\n  state.value = value;\n  state.state = REJECTED;\n  notify(promise, state, true);\n};\n\nvar internalResolve = function (promise, state, value, unwrap) {\n  if (state.done) return;\n  state.done = true;\n  if (unwrap) state = unwrap;\n  try {\n    if (promise === value) throw TypeError(\"Promise can't be resolved itself\");\n    var then = isThenable(value);\n    if (then) {\n      microtask(function () {\n        var wrapper = { done: false };\n        try {\n          then.call(value,\n            bind(internalResolve, promise, wrapper, state),\n            bind(internalReject, promise, wrapper, state)\n          );\n        } catch (error) {\n          internalReject(promise, wrapper, error, state);\n        }\n      });\n    } else {\n      state.value = value;\n      state.state = FULFILLED;\n      notify(promise, state, false);\n    }\n  } catch (error) {\n    internalReject(promise, { done: false }, error, state);\n  }\n};\n\n// constructor polyfill\nif (FORCED) {\n  // 25.4.3.1 Promise(executor)\n  PromiseConstructor = function Promise(executor) {\n    anInstance(this, PromiseConstructor, PROMISE);\n    aFunction(executor);\n    Internal.call(this);\n    var state = getInternalState(this);\n    try {\n      executor(bind(internalResolve, this, state), bind(internalReject, this, state));\n    } catch (error) {\n      internalReject(this, state, error);\n    }\n  };\n  // eslint-disable-next-line no-unused-vars\n  Internal = function Promise(executor) {\n    setInternalState(this, {\n      type: PROMISE,\n      done: false,\n      notified: false,\n      parent: false,\n      reactions: [],\n      rejection: false,\n      state: PENDING,\n      value: undefined\n    });\n  };\n  Internal.prototype = redefineAll(PromiseConstructor.prototype, {\n    // `Promise.prototype.then` method\n    // https://tc39.github.io/ecma262/#sec-promise.prototype.then\n    then: function then(onFulfilled, onRejected) {\n      var state = getInternalPromiseState(this);\n      var reaction = newPromiseCapability(speciesConstructor(this, PromiseConstructor));\n      reaction.ok = typeof onFulfilled == 'function' ? onFulfilled : true;\n      reaction.fail = typeof onRejected == 'function' && onRejected;\n      reaction.domain = IS_NODE ? process.domain : undefined;\n      state.parent = true;\n      state.reactions.push(reaction);\n      if (state.state != PENDING) notify(this, state, false);\n      return reaction.promise;\n    },\n    // `Promise.prototype.catch` method\n    // https://tc39.github.io/ecma262/#sec-promise.prototype.catch\n    'catch': function (onRejected) {\n      return this.then(undefined, onRejected);\n    }\n  });\n  OwnPromiseCapability = function () {\n    var promise = new Internal();\n    var state = getInternalState(promise);\n    this.promise = promise;\n    this.resolve = bind(internalResolve, promise, state);\n    this.reject = bind(internalReject, promise, state);\n  };\n  newPromiseCapabilityModule.f = newPromiseCapability = function (C) {\n    return C === PromiseConstructor || C === PromiseWrapper\n      ? new OwnPromiseCapability(C)\n      : newGenericPromiseCapability(C);\n  };\n\n  if (!IS_PURE && typeof NativePromise == 'function') {\n    nativeThen = NativePromise.prototype.then;\n\n    // wrap native Promise#then for native async functions\n    redefine(NativePromise.prototype, 'then', function then(onFulfilled, onRejected) {\n      var that = this;\n      return new PromiseConstructor(function (resolve, reject) {\n        nativeThen.call(that, resolve, reject);\n      }).then(onFulfilled, onRejected);\n    // https://github.com/zloirock/core-js/issues/640\n    }, { unsafe: true });\n\n    // wrap fetch result\n    if (typeof $fetch == 'function') $({ global: true, enumerable: true, forced: true }, {\n      // eslint-disable-next-line no-unused-vars\n      fetch: function fetch(input /* , init */) {\n        return promiseResolve(PromiseConstructor, $fetch.apply(global, arguments));\n      }\n    });\n  }\n}\n\n$({ global: true, wrap: true, forced: FORCED }, {\n  Promise: PromiseConstructor\n});\n\nsetToStringTag(PromiseConstructor, PROMISE, false, true);\nsetSpecies(PROMISE);\n\nPromiseWrapper = getBuiltIn(PROMISE);\n\n// statics\n$({ target: PROMISE, stat: true, forced: FORCED }, {\n  // `Promise.reject` method\n  // https://tc39.github.io/ecma262/#sec-promise.reject\n  reject: function reject(r) {\n    var capability = newPromiseCapability(this);\n    capability.reject.call(undefined, r);\n    return capability.promise;\n  }\n});\n\n$({ target: PROMISE, stat: true, forced: IS_PURE || FORCED }, {\n  // `Promise.resolve` method\n  // https://tc39.github.io/ecma262/#sec-promise.resolve\n  resolve: function resolve(x) {\n    return promiseResolve(IS_PURE && this === PromiseWrapper ? PromiseConstructor : this, x);\n  }\n});\n\n$({ target: PROMISE, stat: true, forced: INCORRECT_ITERATION }, {\n  // `Promise.all` method\n  // https://tc39.github.io/ecma262/#sec-promise.all\n  all: function all(iterable) {\n    var C = this;\n    var capability = newPromiseCapability(C);\n    var resolve = capability.resolve;\n    var reject = capability.reject;\n    var result = perform(function () {\n      var $promiseResolve = aFunction(C.resolve);\n      var values = [];\n      var counter = 0;\n      var remaining = 1;\n      iterate(iterable, function (promise) {\n        var index = counter++;\n        var alreadyCalled = false;\n        values.push(undefined);\n        remaining++;\n        $promiseResolve.call(C, promise).then(function (value) {\n          if (alreadyCalled) return;\n          alreadyCalled = true;\n          values[index] = value;\n          --remaining || resolve(values);\n        }, reject);\n      });\n      --remaining || resolve(values);\n    });\n    if (result.error) reject(result.value);\n    return capability.promise;\n  },\n  // `Promise.race` method\n  // https://tc39.github.io/ecma262/#sec-promise.race\n  race: function race(iterable) {\n    var C = this;\n    var capability = newPromiseCapability(C);\n    var reject = capability.reject;\n    var result = perform(function () {\n      var $promiseResolve = aFunction(C.resolve);\n      iterate(iterable, function (promise) {\n        $promiseResolve.call(C, promise).then(capability.resolve, reject);\n      });\n    });\n    if (result.error) reject(result.value);\n    return capability.promise;\n  }\n});\n","var has = require('../internals/has');\nvar ownKeys = require('../internals/own-keys');\nvar getOwnPropertyDescriptorModule = require('../internals/object-get-own-property-descriptor');\nvar definePropertyModule = require('../internals/object-define-property');\n\nmodule.exports = function (target, source) {\n  var keys = ownKeys(source);\n  var defineProperty = definePropertyModule.f;\n  var getOwnPropertyDescriptor = getOwnPropertyDescriptorModule.f;\n  for (var i = 0; i < keys.length; i++) {\n    var key = keys[i];\n    if (!has(target, key)) defineProperty(target, key, getOwnPropertyDescriptor(source, key));\n  }\n};\n","var classof = require('../internals/classof-raw');\n\n// `IsArray` abstract operation\n// https://tc39.github.io/ecma262/#sec-isarray\nmodule.exports = Array.isArray || function isArray(arg) {\n  return classof(arg) == 'Array';\n};\n","var wellKnownSymbol = require('../internals/well-known-symbol');\nvar Iterators = require('../internals/iterators');\n\nvar ITERATOR = wellKnownSymbol('iterator');\nvar ArrayPrototype = Array.prototype;\n\n// check on default Array iterator\nmodule.exports = function (it) {\n  return it !== undefined && (Iterators.Array === it || ArrayPrototype[ITERATOR] === it);\n};\n","// Unique ID creation requires a high quality random # generator. In the browser we therefore\n// require the crypto API and do not support built-in fallback to lower quality random number\n// generators (like Math.random()).\n// getRandomValues needs to be invoked in a context where \"this\" is a Crypto implementation. Also,\n// find the complete implementation of crypto (msCrypto) on IE11.\nvar getRandomValues = typeof crypto !== 'undefined' && crypto.getRandomValues && crypto.getRandomValues.bind(crypto) || typeof msCrypto !== 'undefined' && typeof msCrypto.getRandomValues === 'function' && msCrypto.getRandomValues.bind(msCrypto);\nvar rnds8 = new Uint8Array(16);\nexport default function rng() {\n  if (!getRandomValues) {\n    throw new Error('crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported');\n  }\n\n  return getRandomValues(rnds8);\n}","export default /^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000)$/i;","import REGEX from './regex.js';\n\nfunction validate(uuid) {\n  return typeof uuid === 'string' && REGEX.test(uuid);\n}\n\nexport default validate;","import validate from './validate.js';\n/**\n * Convert array of 16 byte values to UUID string format of the form:\n * XXXXXXXX-XXXX-XXXX-XXXX-XXXXXXXXXXXX\n */\n\nvar byteToHex = [];\n\nfor (var i = 0; i < 256; ++i) {\n  byteToHex.push((i + 0x100).toString(16).substr(1));\n}\n\nfunction stringify(arr) {\n  var offset = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 0;\n  // Note: Be careful editing this code!  It's been tuned for performance\n  // and works in ways you may not expect. See https://github.com/uuidjs/uuid/pull/434\n  var uuid = (byteToHex[arr[offset + 0]] + byteToHex[arr[offset + 1]] + byteToHex[arr[offset + 2]] + byteToHex[arr[offset + 3]] + '-' + byteToHex[arr[offset + 4]] + byteToHex[arr[offset + 5]] + '-' + byteToHex[arr[offset + 6]] + byteToHex[arr[offset + 7]] + '-' + byteToHex[arr[offset + 8]] + byteToHex[arr[offset + 9]] + '-' + byteToHex[arr[offset + 10]] + byteToHex[arr[offset + 11]] + byteToHex[arr[offset + 12]] + byteToHex[arr[offset + 13]] + byteToHex[arr[offset + 14]] + byteToHex[arr[offset + 15]]).toLowerCase(); // Consistency check for valid UUID.  If this throws, it's likely due to one\n  // of the following:\n  // - One or more input array values don't map to a hex octet (leading to\n  // \"undefined\" in the uuid)\n  // - Invalid input values for the RFC `version` or `variant` fields\n\n  if (!validate(uuid)) {\n    throw TypeError('Stringified UUID is invalid');\n  }\n\n  return uuid;\n}\n\nexport default stringify;","import rng from './rng.js';\nimport stringify from './stringify.js';\n\nfunction v4(options, buf, offset) {\n  options = options || {};\n  var rnds = options.random || (options.rng || rng)(); // Per 4.4, set bits for version and `clock_seq_hi_and_reserved`\n\n  rnds[6] = rnds[6] & 0x0f | 0x40;\n  rnds[8] = rnds[8] & 0x3f | 0x80; // Copy bytes to buffer, if provided\n\n  if (buf) {\n    offset = offset || 0;\n\n    for (var i = 0; i < 16; ++i) {\n      buf[offset + i] = rnds[i];\n    }\n\n    return buf;\n  }\n\n  return stringify(rnds);\n}\n\nexport default v4;","'use strict';\nvar aFunction = require('../internals/a-function');\n\nvar PromiseCapability = function (C) {\n  var resolve, reject;\n  this.promise = new C(function ($$resolve, $$reject) {\n    if (resolve !== undefined || reject !== undefined) throw TypeError('Bad Promise constructor');\n    resolve = $$resolve;\n    reject = $$reject;\n  });\n  this.resolve = aFunction(resolve);\n  this.reject = aFunction(reject);\n};\n\n// 25.4.1.5 NewPromiseCapability(C)\nmodule.exports.f = function (C) {\n  return new PromiseCapability(C);\n};\n","var TO_STRING_TAG_SUPPORT = require('../internals/to-string-tag-support');\nvar classofRaw = require('../internals/classof-raw');\nvar wellKnownSymbol = require('../internals/well-known-symbol');\n\nvar TO_STRING_TAG = wellKnownSymbol('toStringTag');\n// ES3 wrong here\nvar CORRECT_ARGUMENTS = classofRaw(function () { return arguments; }()) == 'Arguments';\n\n// fallback for IE11 Script Access Denied error\nvar tryGet = function (it, key) {\n  try {\n    return it[key];\n  } catch (error) { /* empty */ }\n};\n\n// getting tag from ES6+ `Object.prototype.toString`\nmodule.exports = TO_STRING_TAG_SUPPORT ? classofRaw : function (it) {\n  var O, tag, result;\n  return it === undefined ? 'Undefined' : it === null ? 'Null'\n    // @@toStringTag case\n    : typeof (tag = tryGet(O = Object(it), TO_STRING_TAG)) == 'string' ? tag\n    // builtinTag case\n    : CORRECT_ARGUMENTS ? classofRaw(O)\n    // ES3 arguments fallback\n    : (result = classofRaw(O)) == 'Object' && typeof O.callee == 'function' ? 'Arguments' : result;\n};\n","var shared = require('../internals/shared');\nvar uid = require('../internals/uid');\n\nvar keys = shared('keys');\n\nmodule.exports = function (key) {\n  return keys[key] || (keys[key] = uid(key));\n};\n","// Copyright Joyent, Inc. and other Node contributors.\n//\n// Permission is hereby granted, free of charge, to any person obtaining a\n// copy of this software and associated documentation files (the\n// \"Software\"), to deal in the Software without restriction, including\n// without limitation the rights to use, copy, modify, merge, publish,\n// distribute, sublicense, and/or sell copies of the Software, and to permit\n// persons to whom the Software is furnished to do so, subject to the\n// following conditions:\n//\n// The above copyright notice and this permission notice shall be included\n// in all copies or substantial portions of the Software.\n//\n// THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS\n// OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF\n// MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN\n// NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM,\n// DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR\n// OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE\n// USE OR OTHER DEALINGS IN THE SOFTWARE.\n\n'use strict';\n\nvar R = typeof Reflect === 'object' ? Reflect : null\nvar ReflectApply = R && typeof R.apply === 'function'\n  ? R.apply\n  : function ReflectApply(target, receiver, args) {\n    return Function.prototype.apply.call(target, receiver, args);\n  }\n\nvar ReflectOwnKeys\nif (R && typeof R.ownKeys === 'function') {\n  ReflectOwnKeys = R.ownKeys\n} else if (Object.getOwnPropertySymbols) {\n  ReflectOwnKeys = function ReflectOwnKeys(target) {\n    return Object.getOwnPropertyNames(target)\n      .concat(Object.getOwnPropertySymbols(target));\n  };\n} else {\n  ReflectOwnKeys = function ReflectOwnKeys(target) {\n    return Object.getOwnPropertyNames(target);\n  };\n}\n\nfunction ProcessEmitWarning(warning) {\n  if (console && console.warn) console.warn(warning);\n}\n\nvar NumberIsNaN = Number.isNaN || function NumberIsNaN(value) {\n  return value !== value;\n}\n\nfunction EventEmitter() {\n  EventEmitter.init.call(this);\n}\nmodule.exports = EventEmitter;\nmodule.exports.once = once;\n\n// Backwards-compat with node 0.10.x\nEventEmitter.EventEmitter = EventEmitter;\n\nEventEmitter.prototype._events = undefined;\nEventEmitter.prototype._eventsCount = 0;\nEventEmitter.prototype._maxListeners = undefined;\n\n// By default EventEmitters will print a warning if more than 10 listeners are\n// added to it. This is a useful default which helps finding memory leaks.\nvar defaultMaxListeners = 10;\n\nfunction checkListener(listener) {\n  if (typeof listener !== 'function') {\n    throw new TypeError('The \"listener\" argument must be of type Function. Received type ' + typeof listener);\n  }\n}\n\nObject.defineProperty(EventEmitter, 'defaultMaxListeners', {\n  enumerable: true,\n  get: function() {\n    return defaultMaxListeners;\n  },\n  set: function(arg) {\n    if (typeof arg !== 'number' || arg < 0 || NumberIsNaN(arg)) {\n      throw new RangeError('The value of \"defaultMaxListeners\" is out of range. It must be a non-negative number. Received ' + arg + '.');\n    }\n    defaultMaxListeners = arg;\n  }\n});\n\nEventEmitter.init = function() {\n\n  if (this._events === undefined ||\n      this._events === Object.getPrototypeOf(this)._events) {\n    this._events = Object.create(null);\n    this._eventsCount = 0;\n  }\n\n  this._maxListeners = this._maxListeners || undefined;\n};\n\n// Obviously not all Emitters should be limited to 10. This function allows\n// that to be increased. Set to zero for unlimited.\nEventEmitter.prototype.setMaxListeners = function setMaxListeners(n) {\n  if (typeof n !== 'number' || n < 0 || NumberIsNaN(n)) {\n    throw new RangeError('The value of \"n\" is out of range. It must be a non-negative number. Received ' + n + '.');\n  }\n  this._maxListeners = n;\n  return this;\n};\n\nfunction _getMaxListeners(that) {\n  if (that._maxListeners === undefined)\n    return EventEmitter.defaultMaxListeners;\n  return that._maxListeners;\n}\n\nEventEmitter.prototype.getMaxListeners = function getMaxListeners() {\n  return _getMaxListeners(this);\n};\n\nEventEmitter.prototype.emit = function emit(type) {\n  var args = [];\n  for (var i = 1; i < arguments.length; i++) args.push(arguments[i]);\n  var doError = (type === 'error');\n\n  var events = this._events;\n  if (events !== undefined)\n    doError = (doError && events.error === undefined);\n  else if (!doError)\n    return false;\n\n  // If there is no 'error' event listener then throw.\n  if (doError) {\n    var er;\n    if (args.length > 0)\n      er = args[0];\n    if (er instanceof Error) {\n      // Note: The comments on the `throw` lines are intentional, they show\n      // up in Node's output if this results in an unhandled exception.\n      throw er; // Unhandled 'error' event\n    }\n    // At least give some kind of context to the user\n    var err = new Error('Unhandled error.' + (er ? ' (' + er.message + ')' : ''));\n    err.context = er;\n    throw err; // Unhandled 'error' event\n  }\n\n  var handler = events[type];\n\n  if (handler === undefined)\n    return false;\n\n  if (typeof handler === 'function') {\n    ReflectApply(handler, this, args);\n  } else {\n    var len = handler.length;\n    var listeners = arrayClone(handler, len);\n    for (var i = 0; i < len; ++i)\n      ReflectApply(listeners[i], this, args);\n  }\n\n  return true;\n};\n\nfunction _addListener(target, type, listener, prepend) {\n  var m;\n  var events;\n  var existing;\n\n  checkListener(listener);\n\n  events = target._events;\n  if (events === undefined) {\n    events = target._events = Object.create(null);\n    target._eventsCount = 0;\n  } else {\n    // To avoid recursion in the case that type === \"newListener\"! Before\n    // adding it to the listeners, first emit \"newListener\".\n    if (events.newListener !== undefined) {\n      target.emit('newListener', type,\n                  listener.listener ? listener.listener : listener);\n\n      // Re-assign `events` because a newListener handler could have caused the\n      // this._events to be assigned to a new object\n      events = target._events;\n    }\n    existing = events[type];\n  }\n\n  if (existing === undefined) {\n    // Optimize the case of one listener. Don't need the extra array object.\n    existing = events[type] = listener;\n    ++target._eventsCount;\n  } else {\n    if (typeof existing === 'function') {\n      // Adding the second element, need to change to array.\n      existing = events[type] =\n        prepend ? [listener, existing] : [existing, listener];\n      // If we've already got an array, just append.\n    } else if (prepend) {\n      existing.unshift(listener);\n    } else {\n      existing.push(listener);\n    }\n\n    // Check for listener leak\n    m = _getMaxListeners(target);\n    if (m > 0 && existing.length > m && !existing.warned) {\n      existing.warned = true;\n      // No error code for this since it is a Warning\n      // eslint-disable-next-line no-restricted-syntax\n      var w = new Error('Possible EventEmitter memory leak detected. ' +\n                          existing.length + ' ' + String(type) + ' listeners ' +\n                          'added. Use emitter.setMaxListeners() to ' +\n                          'increase limit');\n      w.name = 'MaxListenersExceededWarning';\n      w.emitter = target;\n      w.type = type;\n      w.count = existing.length;\n      ProcessEmitWarning(w);\n    }\n  }\n\n  return target;\n}\n\nEventEmitter.prototype.addListener = function addListener(type, listener) {\n  return _addListener(this, type, listener, false);\n};\n\nEventEmitter.prototype.on = EventEmitter.prototype.addListener;\n\nEventEmitter.prototype.prependListener =\n    function prependListener(type, listener) {\n      return _addListener(this, type, listener, true);\n    };\n\nfunction onceWrapper() {\n  if (!this.fired) {\n    this.target.removeListener(this.type, this.wrapFn);\n    this.fired = true;\n    if (arguments.length === 0)\n      return this.listener.call(this.target);\n    return this.listener.apply(this.target, arguments);\n  }\n}\n\nfunction _onceWrap(target, type, listener) {\n  var state = { fired: false, wrapFn: undefined, target: target, type: type, listener: listener };\n  var wrapped = onceWrapper.bind(state);\n  wrapped.listener = listener;\n  state.wrapFn = wrapped;\n  return wrapped;\n}\n\nEventEmitter.prototype.once = function once(type, listener) {\n  checkListener(listener);\n  this.on(type, _onceWrap(this, type, listener));\n  return this;\n};\n\nEventEmitter.prototype.prependOnceListener =\n    function prependOnceListener(type, listener) {\n      checkListener(listener);\n      this.prependListener(type, _onceWrap(this, type, listener));\n      return this;\n    };\n\n// Emits a 'removeListener' event if and only if the listener was removed.\nEventEmitter.prototype.removeListener =\n    function removeListener(type, listener) {\n      var list, events, position, i, originalListener;\n\n      checkListener(listener);\n\n      events = this._events;\n      if (events === undefined)\n        return this;\n\n      list = events[type];\n      if (list === undefined)\n        return this;\n\n      if (list === listener || list.listener === listener) {\n        if (--this._eventsCount === 0)\n          this._events = Object.create(null);\n        else {\n          delete events[type];\n          if (events.removeListener)\n            this.emit('removeListener', type, list.listener || listener);\n        }\n      } else if (typeof list !== 'function') {\n        position = -1;\n\n        for (i = list.length - 1; i >= 0; i--) {\n          if (list[i] === listener || list[i].listener === listener) {\n            originalListener = list[i].listener;\n            position = i;\n            break;\n          }\n        }\n\n        if (position < 0)\n          return this;\n\n        if (position === 0)\n          list.shift();\n        else {\n          spliceOne(list, position);\n        }\n\n        if (list.length === 1)\n          events[type] = list[0];\n\n        if (events.removeListener !== undefined)\n          this.emit('removeListener', type, originalListener || listener);\n      }\n\n      return this;\n    };\n\nEventEmitter.prototype.off = EventEmitter.prototype.removeListener;\n\nEventEmitter.prototype.removeAllListeners =\n    function removeAllListeners(type) {\n      var listeners, events, i;\n\n      events = this._events;\n      if (events === undefined)\n        return this;\n\n      // not listening for removeListener, no need to emit\n      if (events.removeListener === undefined) {\n        if (arguments.length === 0) {\n          this._events = Object.create(null);\n          this._eventsCount = 0;\n        } else if (events[type] !== undefined) {\n          if (--this._eventsCount === 0)\n            this._events = Object.create(null);\n          else\n            delete events[type];\n        }\n        return this;\n      }\n\n      // emit removeListener for all listeners on all events\n      if (arguments.length === 0) {\n        var keys = Object.keys(events);\n        var key;\n        for (i = 0; i < keys.length; ++i) {\n          key = keys[i];\n          if (key === 'removeListener') continue;\n          this.removeAllListeners(key);\n        }\n        this.removeAllListeners('removeListener');\n        this._events = Object.create(null);\n        this._eventsCount = 0;\n        return this;\n      }\n\n      listeners = events[type];\n\n      if (typeof listeners === 'function') {\n        this.removeListener(type, listeners);\n      } else if (listeners !== undefined) {\n        // LIFO order\n        for (i = listeners.length - 1; i >= 0; i--) {\n          this.removeListener(type, listeners[i]);\n        }\n      }\n\n      return this;\n    };\n\nfunction _listeners(target, type, unwrap) {\n  var events = target._events;\n\n  if (events === undefined)\n    return [];\n\n  var evlistener = events[type];\n  if (evlistener === undefined)\n    return [];\n\n  if (typeof evlistener === 'function')\n    return unwrap ? [evlistener.listener || evlistener] : [evlistener];\n\n  return unwrap ?\n    unwrapListeners(evlistener) : arrayClone(evlistener, evlistener.length);\n}\n\nEventEmitter.prototype.listeners = function listeners(type) {\n  return _listeners(this, type, true);\n};\n\nEventEmitter.prototype.rawListeners = function rawListeners(type) {\n  return _listeners(this, type, false);\n};\n\nEventEmitter.listenerCount = function(emitter, type) {\n  if (typeof emitter.listenerCount === 'function') {\n    return emitter.listenerCount(type);\n  } else {\n    return listenerCount.call(emitter, type);\n  }\n};\n\nEventEmitter.prototype.listenerCount = listenerCount;\nfunction listenerCount(type) {\n  var events = this._events;\n\n  if (events !== undefined) {\n    var evlistener = events[type];\n\n    if (typeof evlistener === 'function') {\n      return 1;\n    } else if (evlistener !== undefined) {\n      return evlistener.length;\n    }\n  }\n\n  return 0;\n}\n\nEventEmitter.prototype.eventNames = function eventNames() {\n  return this._eventsCount > 0 ? ReflectOwnKeys(this._events) : [];\n};\n\nfunction arrayClone(arr, n) {\n  var copy = new Array(n);\n  for (var i = 0; i < n; ++i)\n    copy[i] = arr[i];\n  return copy;\n}\n\nfunction spliceOne(list, index) {\n  for (; index + 1 < list.length; index++)\n    list[index] = list[index + 1];\n  list.pop();\n}\n\nfunction unwrapListeners(arr) {\n  var ret = new Array(arr.length);\n  for (var i = 0; i < ret.length; ++i) {\n    ret[i] = arr[i].listener || arr[i];\n  }\n  return ret;\n}\n\nfunction once(emitter, name) {\n  return new Promise(function (resolve, reject) {\n    function eventListener() {\n      if (errorListener !== undefined) {\n        emitter.removeListener('error', errorListener);\n      }\n      resolve([].slice.call(arguments));\n    };\n    var errorListener;\n\n    // Adding an error listener is not optional because\n    // if an error is thrown on an event emitter we cannot\n    // guarantee that the actual event we are waiting will\n    // be fired. The result could be a silent way to create\n    // memory or file descriptor leaks, which is something\n    // we should avoid.\n    if (name !== 'error') {\n      errorListener = function errorListener(err) {\n        emitter.removeListener(name, eventListener);\n        reject(err);\n      };\n\n      emitter.once('error', errorListener);\n    }\n\n    emitter.once(name, eventListener);\n  });\n}\n","'use strict';\nvar $ = require('../internals/export');\nvar isObject = require('../internals/is-object');\nvar isArray = require('../internals/is-array');\nvar toAbsoluteIndex = require('../internals/to-absolute-index');\nvar toLength = require('../internals/to-length');\nvar toIndexedObject = require('../internals/to-indexed-object');\nvar createProperty = require('../internals/create-property');\nvar wellKnownSymbol = require('../internals/well-known-symbol');\nvar arrayMethodHasSpeciesSupport = require('../internals/array-method-has-species-support');\nvar arrayMethodUsesToLength = require('../internals/array-method-uses-to-length');\n\nvar HAS_SPECIES_SUPPORT = arrayMethodHasSpeciesSupport('slice');\nvar USES_TO_LENGTH = arrayMethodUsesToLength('slice', { ACCESSORS: true, 0: 0, 1: 2 });\n\nvar SPECIES = wellKnownSymbol('species');\nvar nativeSlice = [].slice;\nvar max = Math.max;\n\n// `Array.prototype.slice` method\n// https://tc39.github.io/ecma262/#sec-array.prototype.slice\n// fallback for not array-like ES3 strings and DOM objects\n$({ target: 'Array', proto: true, forced: !HAS_SPECIES_SUPPORT || !USES_TO_LENGTH }, {\n  slice: function slice(start, end) {\n    var O = toIndexedObject(this);\n    var length = toLength(O.length);\n    var k = toAbsoluteIndex(start, length);\n    var fin = toAbsoluteIndex(end === undefined ? length : end, length);\n    // inline `ArraySpeciesCreate` for usage native `Array#slice` where it's possible\n    var Constructor, result, n;\n    if (isArray(O)) {\n      Constructor = O.constructor;\n      // cross-realm fallback\n      if (typeof Constructor == 'function' && (Constructor === Array || isArray(Constructor.prototype))) {\n        Constructor = undefined;\n      } else if (isObject(Constructor)) {\n        Constructor = Constructor[SPECIES];\n        if (Constructor === null) Constructor = undefined;\n      }\n      if (Constructor === Array || Constructor === undefined) {\n        return nativeSlice.call(O, k, fin);\n      }\n    }\n    result = new (Constructor === undefined ? Array : Constructor)(max(fin - k, 0));\n    for (n = 0; k < fin; k++, n++) if (k in O) createProperty(result, n, O[k]);\n    result.length = n;\n    return result;\n  }\n});\n","// toObject with fallback for non-array-like ES3 strings\nvar IndexedObject = require('../internals/indexed-object');\nvar requireObjectCoercible = require('../internals/require-object-coercible');\n\nmodule.exports = function (it) {\n  return IndexedObject(requireObjectCoercible(it));\n};\n","// iterable DOM collections\n// flag - `iterable` interface - 'entries', 'keys', 'values', 'forEach' methods\nmodule.exports = {\n  CSSRuleList: 0,\n  CSSStyleDeclaration: 0,\n  CSSValueList: 0,\n  ClientRectList: 0,\n  DOMRectList: 0,\n  DOMStringList: 0,\n  DOMTokenList: 1,\n  DataTransferItemList: 0,\n  FileList: 0,\n  HTMLAllCollection: 0,\n  HTMLCollection: 0,\n  HTMLFormElement: 0,\n  HTMLSelectElement: 0,\n  MediaList: 0,\n  MimeTypeArray: 0,\n  NamedNodeMap: 0,\n  NodeList: 1,\n  PaintRequestList: 0,\n  Plugin: 0,\n  PluginArray: 0,\n  SVGLengthList: 0,\n  SVGNumberList: 0,\n  SVGPathSegList: 0,\n  SVGPointList: 0,\n  SVGStringList: 0,\n  SVGTransformList: 0,\n  SourceBufferList: 0,\n  StyleSheetList: 0,\n  TextTrackCueList: 0,\n  TextTrackList: 0,\n  TouchList: 0\n};\n","var NATIVE_SYMBOL = require('../internals/native-symbol');\n\nmodule.exports = NATIVE_SYMBOL\n  // eslint-disable-next-line no-undef\n  && !Symbol.sham\n  // eslint-disable-next-line no-undef\n  && typeof Symbol.iterator == 'symbol';\n","var global = require('../internals/global');\n\nmodule.exports = global.Promise;\n"],"sourceRoot":""}